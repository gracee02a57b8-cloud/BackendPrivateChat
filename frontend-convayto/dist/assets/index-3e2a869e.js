var ro=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var x=(e,t,n)=>(ro(e,t,"read from private field"),n?n.call(e):t.get(e)),B=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},V=(e,t,n,r)=>(ro(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Ji=(e,t,n,r)=>({set _(s){V(e,t,s,n)},get _(){return x(e,t,r)}}),G=(e,t,n)=>(ro(e,t,"access private method"),n);function X1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function em(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sh={exports:{}},_a={},Ch={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zi=Symbol.for("react.element"),tm=Symbol.for("react.portal"),nm=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),sm=Symbol.for("react.profiler"),im=Symbol.for("react.provider"),lm=Symbol.for("react.context"),am=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),um=Symbol.for("react.memo"),cm=Symbol.for("react.lazy"),Cd=Symbol.iterator;function dm(e){return e===null||typeof e!="object"?null:(e=Cd&&e[Cd]||e["@@iterator"],typeof e=="function"?e:null)}var kh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eh=Object.assign,jh={};function Ls(e,t,n){this.props=e,this.context=t,this.refs=jh,this.updater=n||kh}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _h(){}_h.prototype=Ls.prototype;function Xu(e,t,n){this.props=e,this.context=t,this.refs=jh,this.updater=n||kh}var ec=Xu.prototype=new _h;ec.constructor=Xu;Eh(ec,Ls.prototype);ec.isPureReactComponent=!0;var kd=Array.isArray,Nh=Object.prototype.hasOwnProperty,tc={current:null},bh={key:!0,ref:!0,__self:!0,__source:!0};function Lh(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Nh.call(t,r)&&!bh.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:zi,type:e,key:i,ref:l,props:s,_owner:tc.current}}function fm(e,t){return{$$typeof:zi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nc(e){return typeof e=="object"&&e!==null&&e.$$typeof===zi}function hm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ed=/\/+/g;function so(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hm(""+e.key):t.toString(36)}function Cl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case zi:case tm:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+so(l,0):r,kd(s)?(n="",e!=null&&(n=e.replace(Ed,"$&/")+"/"),Cl(s,t,n,"",function(c){return c})):s!=null&&(nc(s)&&(s=fm(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Ed,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",kd(e))for(var o=0;o<e.length;o++){i=e[o];var u=r+so(i,o);l+=Cl(i,t,n,u,s)}else if(u=dm(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=r+so(i,o++),l+=Cl(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Yi(e,t,n){if(e==null)return e;var r=[],s=0;return Cl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function pm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},kl={transition:null},mm={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:kl,ReactCurrentOwner:tc};function Ph(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Yi,forEach:function(e,t,n){Yi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yi(e,function(){t++}),t},toArray:function(e){return Yi(e,function(t){return t})||[]},only:function(e){if(!nc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Ls;J.Fragment=nm;J.Profiler=sm;J.PureComponent=Xu;J.StrictMode=rm;J.Suspense=om;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mm;J.act=Ph;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Eh({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=tc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Nh.call(t,u)&&!bh.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:zi,type:e.type,key:s,ref:i,props:r,_owner:l}};J.createContext=function(e){return e={$$typeof:lm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:im,_context:e},e.Consumer=e};J.createElement=Lh;J.createFactory=function(e){var t=Lh.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:am,render:e}};J.isValidElement=nc;J.lazy=function(e){return{$$typeof:cm,_payload:{_status:-1,_result:e},_init:pm}};J.memo=function(e,t){return{$$typeof:um,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=kl.transition;kl.transition={};try{e()}finally{kl.transition=t}};J.unstable_act=Ph;J.useCallback=function(e,t){return tt.current.useCallback(e,t)};J.useContext=function(e){return tt.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};J.useEffect=function(e,t){return tt.current.useEffect(e,t)};J.useId=function(){return tt.current.useId()};J.useImperativeHandle=function(e,t,n){return tt.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return tt.current.useMemo(e,t)};J.useReducer=function(e,t,n){return tt.current.useReducer(e,t,n)};J.useRef=function(e){return tt.current.useRef(e)};J.useState=function(e){return tt.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return tt.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return tt.current.useTransition()};J.version="18.3.1";Ch.exports=J;var v=Ch.exports;const ee=em(v),gm=X1({__proto__:null,default:ee},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym=v,vm=Symbol.for("react.element"),xm=Symbol.for("react.fragment"),wm=Object.prototype.hasOwnProperty,Sm=ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cm={key:!0,ref:!0,__self:!0,__source:!0};function Rh(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)wm.call(t,r)&&!Cm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:vm,type:e,key:i,ref:l,props:s,_owner:Sm.current}}_a.Fragment=xm;_a.jsx=Rh;_a.jsxs=Rh;Sh.exports=_a;var a=Sh.exports,Mo={},Oh={exports:{}},_t={},Ih={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,U){var $=_.length;_.push(U);e:for(;0<$;){var q=$-1>>>1,ne=_[q];if(0<s(ne,U))_[q]=U,_[$]=ne,$=q;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var U=_[0],$=_.pop();if($!==U){_[0]=$;e:for(var q=0,ne=_.length,Ie=ne>>>1;q<Ie;){var Ce=2*(q+1)-1,En=_[Ce],ve=Ce+1,ur=_[ve];if(0>s(En,$))ve<ne&&0>s(ur,En)?(_[q]=ur,_[ve]=$,q=ve):(_[q]=En,_[Ce]=$,q=Ce);else if(ve<ne&&0>s(ur,$))_[q]=ur,_[ve]=$,q=ve;else break e}}return U}function s(_,U){var $=_.sortIndex-U.sortIndex;return $!==0?$:_.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],c=[],f=1,d=null,h=3,y=!1,S=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(_){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=_)r(c),U.sortIndex=U.expirationTime,t(u,U);else break;U=n(c)}}function k(_){if(C=!1,g(_),!S)if(n(u)!==null)S=!0,K(N);else{var U=n(c);U!==null&&Z(k,U.startTime-_)}}function N(_,U){S=!1,C&&(C=!1,m(L),L=-1),y=!0;var $=h;try{for(g(U),d=n(u);d!==null&&(!(d.expirationTime>U)||_&&!ae());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var ne=q(d.expirationTime<=U);U=e.unstable_now(),typeof ne=="function"?d.callback=ne:d===n(u)&&r(u),g(U)}else r(u);d=n(u)}if(d!==null)var Ie=!0;else{var Ce=n(c);Ce!==null&&Z(k,Ce.startTime-U),Ie=!1}return Ie}finally{d=null,h=$,y=!1}}var P=!1,R=null,L=-1,Q=5,I=-1;function ae(){return!(e.unstable_now()-I<Q)}function W(){if(R!==null){var _=e.unstable_now();I=_;var U=!0;try{U=R(!0,_)}finally{U?M():(P=!1,R=null)}}else P=!1}var M;if(typeof p=="function")M=function(){p(W)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,te=Y.port2;Y.port1.onmessage=W,M=function(){te.postMessage(null)}}else M=function(){E(W,0)};function K(_){R=_,P||(P=!0,M())}function Z(_,U){L=E(function(){_(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){S||y||(S=!0,K(N))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(_){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var $=h;h=U;try{return _()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,U){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var $=h;h=_;try{return U()}finally{h=$}},e.unstable_scheduleCallback=function(_,U,$){var q=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?q+$:q):$=q,_){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=$+ne,_={id:f++,callback:U,priorityLevel:_,startTime:$,expirationTime:ne,sortIndex:-1},$>q?(_.sortIndex=$,t(c,_),n(u)===null&&_===n(c)&&(C?(m(L),L=-1):C=!0,Z(k,$-q))):(_.sortIndex=ne,t(u,_),S||y||(S=!0,K(N))),_},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(_){var U=h;return function(){var $=h;h=U;try{return _.apply(this,arguments)}finally{h=$}}}})(Ah);Ih.exports=Ah;var km=Ih.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=v,jt=km;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Th=new Set,ui={};function Ir(e,t){ws(e,t),ws(e+"Capture",t)}function ws(e,t){for(ui[e]=t,e=0;e<t.length;e++)Th.add(t[e])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Do=Object.prototype.hasOwnProperty,jm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jd={},_d={};function _m(e){return Do.call(_d,e)?!0:Do.call(jd,e)?!1:jm.test(e)?_d[e]=!0:(jd[e]=!0,!1)}function Nm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bm(e,t,n,r){if(t===null||typeof t>"u"||Nm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rc=/[\-:]([a-z])/g;function sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rc,sc);ze[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rc,sc);ze[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rc,sc);ze[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ic(e,t,n,r){var s=ze.hasOwnProperty(t)?ze[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bm(t,n,s,r)&&(n=null),r||s===null?_m(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var kn=Em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xi=Symbol.for("react.element"),Ur=Symbol.for("react.portal"),Vr=Symbol.for("react.fragment"),lc=Symbol.for("react.strict_mode"),Uo=Symbol.for("react.profiler"),Fh=Symbol.for("react.provider"),Mh=Symbol.for("react.context"),ac=Symbol.for("react.forward_ref"),Vo=Symbol.for("react.suspense"),zo=Symbol.for("react.suspense_list"),oc=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Dh=Symbol.for("react.offscreen"),Nd=Symbol.iterator;function Ms(e){return e===null||typeof e!="object"?null:(e=Nd&&e[Nd]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,io;function Zs(e){if(io===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);io=t&&t[1]||""}return`
`+io+e}var lo=!1;function ao(e,t){if(!e||lo)return"";lo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var u=`
`+s[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=o);break}}}finally{lo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zs(e):""}function Lm(e){switch(e.tag){case 5:return Zs(e.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return e=ao(e.type,!1),e;case 11:return e=ao(e.type.render,!1),e;case 1:return e=ao(e.type,!0),e;default:return""}}function $o(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vr:return"Fragment";case Ur:return"Portal";case Uo:return"Profiler";case lc:return"StrictMode";case Vo:return"Suspense";case zo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mh:return(e.displayName||"Context")+".Consumer";case Fh:return(e._context.displayName||"Context")+".Provider";case ac:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oc:return t=e.displayName||null,t!==null?t:$o(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return $o(e(t))}catch{}}return null}function Pm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $o(t);case 8:return t===lc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rm(e){var t=Uh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function el(e){e._valueTracker||(e._valueTracker=Rm(e))}function Vh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Uh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bo(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zh(e,t){t=t.checked,t!=null&&ic(e,"checked",t,!1)}function Ho(e,t){zh(e,t);var n=tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qo(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ld(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qo(e,t,n){(t!=="number"||$l(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gs=Array.isArray;function Xr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Gs(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tr(n)}}function $h(e,t){var n=tr(t.value),r=tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tl,Hh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tl=tl||document.createElement("div"),tl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ci(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Om=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(e){Om.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ys[t]=Ys[e]})});function Qh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ys.hasOwnProperty(e)&&Ys[e]?(""+t).trim():t+"px"}function Wh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Qh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Im=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(e,t){if(t){if(Im[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Ko(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=null;function uc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jo=null,es=null,ts=null;function Od(e){if(e=Hi(e)){if(typeof Jo!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Ra(t),Jo(e.stateNode,e.type,t))}}function Zh(e){es?ts?ts.push(e):ts=[e]:es=e}function Gh(){if(es){var e=es,t=ts;if(ts=es=null,Od(e),t)for(e=0;e<t.length;e++)Od(t[e])}}function Kh(e,t){return e(t)}function qh(){}var oo=!1;function Jh(e,t,n){if(oo)return e(t,n);oo=!0;try{return Kh(e,t,n)}finally{oo=!1,(es!==null||ts!==null)&&(qh(),Gh())}}function di(e,t){var n=e.stateNode;if(n===null)return null;var r=Ra(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Yo=!1;if(vn)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Yo=!1}function Am(e,t,n,r,s,i,l,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var Xs=!1,Bl=null,Hl=!1,Xo=null,Tm={onError:function(e){Xs=!0,Bl=e}};function Fm(e,t,n,r,s,i,l,o,u){Xs=!1,Bl=null,Am.apply(Tm,arguments)}function Mm(e,t,n,r,s,i,l,o,u){if(Fm.apply(this,arguments),Xs){if(Xs){var c=Bl;Xs=!1,Bl=null}else throw Error(O(198));Hl||(Hl=!0,Xo=c)}}function Ar(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Id(e){if(Ar(e)!==e)throw Error(O(188))}function Dm(e){var t=e.alternate;if(!t){if(t=Ar(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Id(s),e;if(i===r)return Id(s),t;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function Xh(e){return e=Dm(e),e!==null?e0(e):null}function e0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=e0(e);if(t!==null)return t;e=e.sibling}return null}var t0=jt.unstable_scheduleCallback,Ad=jt.unstable_cancelCallback,Um=jt.unstable_shouldYield,Vm=jt.unstable_requestPaint,ke=jt.unstable_now,zm=jt.unstable_getCurrentPriorityLevel,cc=jt.unstable_ImmediatePriority,n0=jt.unstable_UserBlockingPriority,Ql=jt.unstable_NormalPriority,$m=jt.unstable_LowPriority,r0=jt.unstable_IdlePriority,Na=null,sn=null;function Bm(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Na,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Wm,Hm=Math.log,Qm=Math.LN2;function Wm(e){return e>>>=0,e===0?32:31-(Hm(e)/Qm|0)|0}var nl=64,rl=4194304;function Ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=Ks(o):(i&=l,i!==0&&(r=Ks(i)))}else l=n&~s,l!==0?r=Ks(l):i!==0&&(r=Ks(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ht(t),s=1<<n,r|=e[n],t&=~s;return r}function Zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Ht(i),o=1<<l,u=s[l];u===-1?(!(o&n)||o&r)&&(s[l]=Zm(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function eu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function s0(){var e=nl;return nl<<=1,!(nl&4194240)&&(nl=64),e}function uo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $i(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=n}function Km(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ht(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function dc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ht(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var oe=0;function i0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var l0,fc,a0,o0,u0,tu=!1,sl=[],Qn=null,Wn=null,Zn=null,fi=new Map,hi=new Map,Pn=[],qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Td(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hi.delete(t.pointerId)}}function Us(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Hi(t),t!==null&&fc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Jm(e,t,n,r,s){switch(t){case"focusin":return Qn=Us(Qn,e,t,n,r,s),!0;case"dragenter":return Wn=Us(Wn,e,t,n,r,s),!0;case"mouseover":return Zn=Us(Zn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return fi.set(i,Us(fi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,hi.set(i,Us(hi.get(i)||null,e,t,n,r,s)),!0}return!1}function c0(e){var t=fr(e.target);if(t!==null){var n=Ar(t);if(n!==null){if(t=n.tag,t===13){if(t=Yh(n),t!==null){e.blockedOn=t,u0(e.priority,function(){a0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function El(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qo=r,n.target.dispatchEvent(r),qo=null}else return t=Hi(n),t!==null&&fc(t),e.blockedOn=n,!1;t.shift()}return!0}function Fd(e,t,n){El(e)&&n.delete(t)}function Ym(){tu=!1,Qn!==null&&El(Qn)&&(Qn=null),Wn!==null&&El(Wn)&&(Wn=null),Zn!==null&&El(Zn)&&(Zn=null),fi.forEach(Fd),hi.forEach(Fd)}function Vs(e,t){e.blockedOn===t&&(e.blockedOn=null,tu||(tu=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,Ym)))}function pi(e){function t(s){return Vs(s,e)}if(0<sl.length){Vs(sl[0],e);for(var n=1;n<sl.length;n++){var r=sl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qn!==null&&Vs(Qn,e),Wn!==null&&Vs(Wn,e),Zn!==null&&Vs(Zn,e),fi.forEach(t),hi.forEach(t),n=0;n<Pn.length;n++)r=Pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)c0(n),n.blockedOn===null&&Pn.shift()}var ns=kn.ReactCurrentBatchConfig,Zl=!0;function Xm(e,t,n,r){var s=oe,i=ns.transition;ns.transition=null;try{oe=1,hc(e,t,n,r)}finally{oe=s,ns.transition=i}}function eg(e,t,n,r){var s=oe,i=ns.transition;ns.transition=null;try{oe=4,hc(e,t,n,r)}finally{oe=s,ns.transition=i}}function hc(e,t,n,r){if(Zl){var s=nu(e,t,n,r);if(s===null)wo(e,t,r,Gl,n),Td(e,r);else if(Jm(s,e,t,n,r))r.stopPropagation();else if(Td(e,r),t&4&&-1<qm.indexOf(e)){for(;s!==null;){var i=Hi(s);if(i!==null&&l0(i),i=nu(e,t,n,r),i===null&&wo(e,t,r,Gl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else wo(e,t,r,null,n)}}var Gl=null;function nu(e,t,n,r){if(Gl=null,e=uc(r),e=fr(e),e!==null)if(t=Ar(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gl=e,null}function d0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zm()){case cc:return 1;case n0:return 4;case Ql:case $m:return 16;case r0:return 536870912;default:return 16}default:return 16}}var zn=null,pc=null,jl=null;function f0(){if(jl)return jl;var e,t=pc,n=t.length,r,s="value"in zn?zn.value:zn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return jl=s.slice(e,1<r?1-r:void 0)}function _l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function Md(){return!1}function Nt(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?il:Md,this.isPropagationStopped=Md,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=Nt(Ps),Bi=ye({},Ps,{view:0,detail:0}),tg=Nt(Bi),co,fo,zs,ba=ye({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zs&&(zs&&e.type==="mousemove"?(co=e.screenX-zs.screenX,fo=e.screenY-zs.screenY):fo=co=0,zs=e),co)},movementY:function(e){return"movementY"in e?e.movementY:fo}}),Dd=Nt(ba),ng=ye({},ba,{dataTransfer:0}),rg=Nt(ng),sg=ye({},Bi,{relatedTarget:0}),ho=Nt(sg),ig=ye({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),lg=Nt(ig),ag=ye({},Ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),og=Nt(ag),ug=ye({},Ps,{data:0}),Ud=Nt(ug),cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fg[e])?!!t[e]:!1}function gc(){return hg}var pg=ye({},Bi,{key:function(e){if(e.key){var t=cg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(e){return e.type==="keypress"?_l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mg=Nt(pg),gg=ye({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vd=Nt(gg),yg=ye({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),vg=Nt(yg),xg=ye({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),wg=Nt(xg),Sg=ye({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cg=Nt(Sg),kg=[9,13,27,32],yc=vn&&"CompositionEvent"in window,ei=null;vn&&"documentMode"in document&&(ei=document.documentMode);var Eg=vn&&"TextEvent"in window&&!ei,h0=vn&&(!yc||ei&&8<ei&&11>=ei),zd=String.fromCharCode(32),$d=!1;function p0(e,t){switch(e){case"keyup":return kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function jg(e,t){switch(e){case"compositionend":return m0(t);case"keypress":return t.which!==32?null:($d=!0,zd);case"textInput":return e=t.data,e===zd&&$d?null:e;default:return null}}function _g(e,t){if(zr)return e==="compositionend"||!yc&&p0(e,t)?(e=f0(),jl=pc=zn=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return h0&&t.locale!=="ko"?null:t.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ng[e.type]:t==="textarea"}function g0(e,t,n,r){Zh(r),t=Kl(t,"onChange"),0<t.length&&(n=new mc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ti=null,mi=null;function bg(e){N0(e,0)}function La(e){var t=Hr(e);if(Vh(t))return e}function Lg(e,t){if(e==="change")return t}var y0=!1;if(vn){var po;if(vn){var mo="oninput"in document;if(!mo){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),mo=typeof Hd.oninput=="function"}po=mo}else po=!1;y0=po&&(!document.documentMode||9<document.documentMode)}function Qd(){ti&&(ti.detachEvent("onpropertychange",v0),mi=ti=null)}function v0(e){if(e.propertyName==="value"&&La(mi)){var t=[];g0(t,mi,e,uc(e)),Jh(bg,t)}}function Pg(e,t,n){e==="focusin"?(Qd(),ti=t,mi=n,ti.attachEvent("onpropertychange",v0)):e==="focusout"&&Qd()}function Rg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return La(mi)}function Og(e,t){if(e==="click")return La(t)}function Ig(e,t){if(e==="input"||e==="change")return La(t)}function Ag(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:Ag;function gi(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Do.call(t,s)||!Wt(e[s],t[s]))return!1}return!0}function Wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zd(e,t){var n=Wd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wd(n)}}function x0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?x0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w0(){for(var e=window,t=$l();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$l(e.document)}return t}function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tg(e){var t=w0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&x0(n.ownerDocument.documentElement,n)){if(r!==null&&vc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Zd(n,i);var l=Zd(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fg=vn&&"documentMode"in document&&11>=document.documentMode,$r=null,ru=null,ni=null,su=!1;function Gd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;su||$r==null||$r!==$l(r)||(r=$r,"selectionStart"in r&&vc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ni&&gi(ni,r)||(ni=r,r=Kl(ru,"onSelect"),0<r.length&&(t=new mc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$r)))}function ll(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Br={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},go={},S0={};vn&&(S0=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Pa(e){if(go[e])return go[e];if(!Br[e])return e;var t=Br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in S0)return go[e]=t[n];return e}var C0=Pa("animationend"),k0=Pa("animationiteration"),E0=Pa("animationstart"),j0=Pa("transitionend"),_0=new Map,Kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){_0.set(e,t),Ir(t,[e])}for(var yo=0;yo<Kd.length;yo++){var vo=Kd[yo],Mg=vo.toLowerCase(),Dg=vo[0].toUpperCase()+vo.slice(1);rr(Mg,"on"+Dg)}rr(C0,"onAnimationEnd");rr(k0,"onAnimationIteration");rr(E0,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(j0,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ug=new Set("cancel close invalid load scroll toggle".split(" ").concat(qs));function qd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Mm(r,t,void 0,e),e.currentTarget=null}function N0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;qd(s,o,c),i=u}else for(l=0;l<r.length;l++){if(o=r[l],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;qd(s,o,c),i=u}}}if(Hl)throw e=Xo,Hl=!1,Xo=null,e}function fe(e,t){var n=t[uu];n===void 0&&(n=t[uu]=new Set);var r=e+"__bubble";n.has(r)||(b0(t,e,2,!1),n.add(r))}function xo(e,t,n){var r=0;t&&(r|=4),b0(n,e,r,t)}var al="_reactListening"+Math.random().toString(36).slice(2);function yi(e){if(!e[al]){e[al]=!0,Th.forEach(function(n){n!=="selectionchange"&&(Ug.has(n)||xo(n,!1,e),xo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[al]||(t[al]=!0,xo("selectionchange",!1,t))}}function b0(e,t,n,r){switch(d0(t)){case 1:var s=Xm;break;case 4:s=eg;break;default:s=hc}n=s.bind(null,t,n,e),s=void 0,!Yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function wo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;l=l.return}for(;o!==null;){if(l=fr(o),l===null)return;if(u=l.tag,u===5||u===6){r=i=l;continue e}o=o.parentNode}}r=r.return}Jh(function(){var c=i,f=uc(n),d=[];e:{var h=_0.get(e);if(h!==void 0){var y=mc,S=e;switch(e){case"keypress":if(_l(n)===0)break e;case"keydown":case"keyup":y=mg;break;case"focusin":S="focus",y=ho;break;case"focusout":S="blur",y=ho;break;case"beforeblur":case"afterblur":y=ho;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=vg;break;case C0:case k0:case E0:y=lg;break;case j0:y=wg;break;case"scroll":y=tg;break;case"wheel":y=Cg;break;case"copy":case"cut":case"paste":y=og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Vd}var C=(t&4)!==0,E=!C&&e==="scroll",m=C?h!==null?h+"Capture":null:h;C=[];for(var p=c,g;p!==null;){g=p;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,m!==null&&(k=di(p,m),k!=null&&C.push(vi(p,k,g)))),E)break;p=p.return}0<C.length&&(h=new y(h,S,null,n,f),d.push({event:h,listeners:C}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==qo&&(S=n.relatedTarget||n.fromElement)&&(fr(S)||S[xn]))break e;if((y||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=c,S=S?fr(S):null,S!==null&&(E=Ar(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=c),y!==S)){if(C=Dd,k="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(C=Vd,k="onPointerLeave",m="onPointerEnter",p="pointer"),E=y==null?h:Hr(y),g=S==null?h:Hr(S),h=new C(k,p+"leave",y,n,f),h.target=E,h.relatedTarget=g,k=null,fr(f)===c&&(C=new C(m,p+"enter",S,n,f),C.target=g,C.relatedTarget=E,k=C),E=k,y&&S)t:{for(C=y,m=S,p=0,g=C;g;g=Mr(g))p++;for(g=0,k=m;k;k=Mr(k))g++;for(;0<p-g;)C=Mr(C),p--;for(;0<g-p;)m=Mr(m),g--;for(;p--;){if(C===m||m!==null&&C===m.alternate)break t;C=Mr(C),m=Mr(m)}C=null}else C=null;y!==null&&Jd(d,h,y,C,!1),S!==null&&E!==null&&Jd(d,E,S,C,!0)}}e:{if(h=c?Hr(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var N=Lg;else if(Bd(h))if(y0)N=Ig;else{N=Rg;var P=Pg}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Og);if(N&&(N=N(e,c))){g0(d,N,n,f);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Qo(h,"number",h.value)}switch(P=c?Hr(c):window,e){case"focusin":(Bd(P)||P.contentEditable==="true")&&($r=P,ru=c,ni=null);break;case"focusout":ni=ru=$r=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,Gd(d,n,f);break;case"selectionchange":if(Fg)break;case"keydown":case"keyup":Gd(d,n,f)}var R;if(yc)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else zr?p0(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(h0&&n.locale!=="ko"&&(zr||L!=="onCompositionStart"?L==="onCompositionEnd"&&zr&&(R=f0()):(zn=f,pc="value"in zn?zn.value:zn.textContent,zr=!0)),P=Kl(c,L),0<P.length&&(L=new Ud(L,e,null,n,f),d.push({event:L,listeners:P}),R?L.data=R:(R=m0(n),R!==null&&(L.data=R)))),(R=Eg?jg(e,n):_g(e,n))&&(c=Kl(c,"onBeforeInput"),0<c.length&&(f=new Ud("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=R))}N0(d,t)})}function vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=di(e,n),i!=null&&r.unshift(vi(e,i,s)),i=di(e,t),i!=null&&r.push(vi(e,i,s))),e=e.return}return r}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jd(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,s?(u=di(n,i),u!=null&&l.unshift(vi(n,u,o))):s||(u=di(n,i),u!=null&&l.push(vi(n,u,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Vg=/\r\n?/g,zg=/\u0000|\uFFFD/g;function Yd(e){return(typeof e=="string"?e:""+e).replace(Vg,`
`).replace(zg,"")}function ol(e,t,n){if(t=Yd(t),Yd(e)!==t&&n)throw Error(O(425))}function ql(){}var iu=null,lu=null;function au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ou=typeof setTimeout=="function"?setTimeout:void 0,$g=typeof clearTimeout=="function"?clearTimeout:void 0,Xd=typeof Promise=="function"?Promise:void 0,Bg=typeof queueMicrotask=="function"?queueMicrotask:typeof Xd<"u"?function(e){return Xd.resolve(null).then(e).catch(Hg)}:ou;function Hg(e){setTimeout(function(){throw e})}function So(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),pi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);pi(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ef(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),en="__reactFiber$"+Rs,xi="__reactProps$"+Rs,xn="__reactContainer$"+Rs,uu="__reactEvents$"+Rs,Qg="__reactListeners$"+Rs,Wg="__reactHandles$"+Rs;function fr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ef(e);e!==null;){if(n=e[en])return n;e=ef(e)}return t}e=n,n=e.parentNode}return null}function Hi(e){return e=e[en]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Ra(e){return e[xi]||null}var cu=[],Qr=-1;function sr(e){return{current:e}}function he(e){0>Qr||(e.current=cu[Qr],cu[Qr]=null,Qr--)}function de(e,t){Qr++,cu[Qr]=e.current,e.current=t}var nr={},Ge=sr(nr),dt=sr(!1),Nr=nr;function Ss(e,t){var n=e.type.contextTypes;if(!n)return nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ft(e){return e=e.childContextTypes,e!=null}function Jl(){he(dt),he(Ge)}function tf(e,t,n){if(Ge.current!==nr)throw Error(O(168));de(Ge,t),de(dt,n)}function L0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(O(108,Pm(e)||"Unknown",s));return ye({},n,r)}function Yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,Nr=Ge.current,de(Ge,e),de(dt,dt.current),!0}function nf(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=L0(e,t,Nr),r.__reactInternalMemoizedMergedChildContext=e,he(dt),he(Ge),de(Ge,e)):he(dt),de(dt,n)}var fn=null,Oa=!1,Co=!1;function P0(e){fn===null?fn=[e]:fn.push(e)}function Zg(e){Oa=!0,P0(e)}function ir(){if(!Co&&fn!==null){Co=!0;var e=0,t=oe;try{var n=fn;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,Oa=!1}catch(s){throw fn!==null&&(fn=fn.slice(e+1)),t0(cc,ir),s}finally{oe=t,Co=!1}}return null}var Wr=[],Zr=0,Xl=null,ea=0,Pt=[],Rt=0,br=null,pn=1,mn="";function cr(e,t){Wr[Zr++]=ea,Wr[Zr++]=Xl,Xl=e,ea=t}function R0(e,t,n){Pt[Rt++]=pn,Pt[Rt++]=mn,Pt[Rt++]=br,br=e;var r=pn;e=mn;var s=32-Ht(r)-1;r&=~(1<<s),n+=1;var i=32-Ht(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,pn=1<<32-Ht(t)+s|n<<s|r,mn=i+e}else pn=1<<i|n<<s|r,mn=e}function xc(e){e.return!==null&&(cr(e,1),R0(e,1,0))}function wc(e){for(;e===Xl;)Xl=Wr[--Zr],Wr[Zr]=null,ea=Wr[--Zr],Wr[Zr]=null;for(;e===br;)br=Pt[--Rt],Pt[Rt]=null,mn=Pt[--Rt],Pt[Rt]=null,pn=Pt[--Rt],Pt[Rt]=null}var Et=null,St=null,pe=!1,zt=null;function O0(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,St=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=br!==null?{id:pn,overflow:mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Et=e,St=null,!0):!1;default:return!1}}function du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fu(e){if(pe){var t=St;if(t){var n=t;if(!rf(e,t)){if(du(e))throw Error(O(418));t=Gn(n.nextSibling);var r=Et;t&&rf(e,t)?O0(r,n):(e.flags=e.flags&-4097|2,pe=!1,Et=e)}}else{if(du(e))throw Error(O(418));e.flags=e.flags&-4097|2,pe=!1,Et=e}}}function sf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function ul(e){if(e!==Et)return!1;if(!pe)return sf(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!au(e.type,e.memoizedProps)),t&&(t=St)){if(du(e))throw I0(),Error(O(418));for(;t;)O0(e,t),t=Gn(t.nextSibling)}if(sf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=Gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=Et?Gn(e.stateNode.nextSibling):null;return!0}function I0(){for(var e=St;e;)e=Gn(e.nextSibling)}function Cs(){St=Et=null,pe=!1}function Sc(e){zt===null?zt=[e]:zt.push(e)}var Gg=kn.ReactCurrentBatchConfig;function $s(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function cl(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lf(e){var t=e._init;return t(e._payload)}function A0(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Yn(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,p,g,k){return p===null||p.tag!==6?(p=Lo(g,m.mode,k),p.return=m,p):(p=s(p,g),p.return=m,p)}function u(m,p,g,k){var N=g.type;return N===Vr?f(m,p,g.props.children,k,g.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bn&&lf(N)===p.type)?(k=s(p,g.props),k.ref=$s(m,p,g),k.return=m,k):(k=Il(g.type,g.key,g.props,null,m.mode,k),k.ref=$s(m,p,g),k.return=m,k)}function c(m,p,g,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Po(g,m.mode,k),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function f(m,p,g,k,N){return p===null||p.tag!==7?(p=_r(g,m.mode,k,N),p.return=m,p):(p=s(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Lo(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xi:return g=Il(p.type,p.key,p.props,null,m.mode,g),g.ref=$s(m,null,p),g.return=m,g;case Ur:return p=Po(p,m.mode,g),p.return=m,p;case bn:var k=p._init;return d(m,k(p._payload),g)}if(Gs(p)||Ms(p))return p=_r(p,m.mode,g,null),p.return=m,p;cl(m,p)}return null}function h(m,p,g,k){var N=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:o(m,p,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xi:return g.key===N?u(m,p,g,k):null;case Ur:return g.key===N?c(m,p,g,k):null;case bn:return N=g._init,h(m,p,N(g._payload),k)}if(Gs(g)||Ms(g))return N!==null?null:f(m,p,g,k,null);cl(m,g)}return null}function y(m,p,g,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(g)||null,o(p,m,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xi:return m=m.get(k.key===null?g:k.key)||null,u(p,m,k,N);case Ur:return m=m.get(k.key===null?g:k.key)||null,c(p,m,k,N);case bn:var P=k._init;return y(m,p,g,P(k._payload),N)}if(Gs(k)||Ms(k))return m=m.get(g)||null,f(p,m,k,N,null);cl(p,k)}return null}function S(m,p,g,k){for(var N=null,P=null,R=p,L=p=0,Q=null;R!==null&&L<g.length;L++){R.index>L?(Q=R,R=null):Q=R.sibling;var I=h(m,R,g[L],k);if(I===null){R===null&&(R=Q);break}e&&R&&I.alternate===null&&t(m,R),p=i(I,p,L),P===null?N=I:P.sibling=I,P=I,R=Q}if(L===g.length)return n(m,R),pe&&cr(m,L),N;if(R===null){for(;L<g.length;L++)R=d(m,g[L],k),R!==null&&(p=i(R,p,L),P===null?N=R:P.sibling=R,P=R);return pe&&cr(m,L),N}for(R=r(m,R);L<g.length;L++)Q=y(R,m,L,g[L],k),Q!==null&&(e&&Q.alternate!==null&&R.delete(Q.key===null?L:Q.key),p=i(Q,p,L),P===null?N=Q:P.sibling=Q,P=Q);return e&&R.forEach(function(ae){return t(m,ae)}),pe&&cr(m,L),N}function C(m,p,g,k){var N=Ms(g);if(typeof N!="function")throw Error(O(150));if(g=N.call(g),g==null)throw Error(O(151));for(var P=N=null,R=p,L=p=0,Q=null,I=g.next();R!==null&&!I.done;L++,I=g.next()){R.index>L?(Q=R,R=null):Q=R.sibling;var ae=h(m,R,I.value,k);if(ae===null){R===null&&(R=Q);break}e&&R&&ae.alternate===null&&t(m,R),p=i(ae,p,L),P===null?N=ae:P.sibling=ae,P=ae,R=Q}if(I.done)return n(m,R),pe&&cr(m,L),N;if(R===null){for(;!I.done;L++,I=g.next())I=d(m,I.value,k),I!==null&&(p=i(I,p,L),P===null?N=I:P.sibling=I,P=I);return pe&&cr(m,L),N}for(R=r(m,R);!I.done;L++,I=g.next())I=y(R,m,L,I.value,k),I!==null&&(e&&I.alternate!==null&&R.delete(I.key===null?L:I.key),p=i(I,p,L),P===null?N=I:P.sibling=I,P=I);return e&&R.forEach(function(W){return t(m,W)}),pe&&cr(m,L),N}function E(m,p,g,k){if(typeof g=="object"&&g!==null&&g.type===Vr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Xi:e:{for(var N=g.key,P=p;P!==null;){if(P.key===N){if(N=g.type,N===Vr){if(P.tag===7){n(m,P.sibling),p=s(P,g.props.children),p.return=m,m=p;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bn&&lf(N)===P.type){n(m,P.sibling),p=s(P,g.props),p.ref=$s(m,P,g),p.return=m,m=p;break e}n(m,P);break}else t(m,P);P=P.sibling}g.type===Vr?(p=_r(g.props.children,m.mode,k,g.key),p.return=m,m=p):(k=Il(g.type,g.key,g.props,null,m.mode,k),k.ref=$s(m,p,g),k.return=m,m=k)}return l(m);case Ur:e:{for(P=g.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=Po(g,m.mode,k),p.return=m,m=p}return l(m);case bn:return P=g._init,E(m,p,P(g._payload),k)}if(Gs(g))return S(m,p,g,k);if(Ms(g))return C(m,p,g,k);cl(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=Lo(g,m.mode,k),p.return=m,m=p),l(m)):n(m,p)}return E}var ks=A0(!0),T0=A0(!1),ta=sr(null),na=null,Gr=null,Cc=null;function kc(){Cc=Gr=na=null}function Ec(e){var t=ta.current;he(ta),e._currentValue=t}function hu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rs(e,t){na=e,Cc=Gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Cc!==e)if(e={context:e,memoizedValue:t,next:null},Gr===null){if(na===null)throw Error(O(308));Gr=e,na.dependencies={lanes:0,firstContext:e}}else Gr=Gr.next=e;return t}var hr=null;function jc(e){hr===null?hr=[e]:hr.push(e)}function F0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,jc(t)):(n.next=s.next,s.next=n),t.interleaved=n,wn(e,r)}function wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ln=!1;function _c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,wn(e,n)}return s=r.interleaved,s===null?(t.next=t,jc(r)):(t.next=s.next,s.next=t),r.interleaved=t,wn(e,n)}function Nl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dc(e,n)}}function af(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ra(e,t,n,r){var s=e.updateQueue;Ln=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,l===null?i=c:l.next=c,l=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==l&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(i!==null){var d=s.baseState;l=0,f=c=u=null,o=i;do{var h=o.lane,y=o.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=e,C=o;switch(h=t,y=n,C.tag){case 1:if(S=C.payload,typeof S=="function"){d=S.call(y,d,h);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,h=typeof S=="function"?S.call(y,d,h):S,h==null)break e;d=ye({},d,h);break e;case 2:Ln=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else y={eventTime:y,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=y,u=d):f=f.next=y,l|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(f===null&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Pr|=l,e.lanes=l,e.memoizedState=d}}function of(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var Qi={},ln=sr(Qi),wi=sr(Qi),Si=sr(Qi);function pr(e){if(e===Qi)throw Error(O(174));return e}function Nc(e,t){switch(de(Si,t),de(wi,e),de(ln,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zo(t,e)}he(ln),de(ln,t)}function Es(){he(ln),he(wi),he(Si)}function D0(e){pr(Si.current);var t=pr(ln.current),n=Zo(t,e.type);t!==n&&(de(wi,e),de(ln,n))}function bc(e){wi.current===e&&(he(ln),he(wi))}var me=sr(0);function sa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ko=[];function Lc(){for(var e=0;e<ko.length;e++)ko[e]._workInProgressVersionPrimary=null;ko.length=0}var bl=kn.ReactCurrentDispatcher,Eo=kn.ReactCurrentBatchConfig,Lr=0,ge=null,Le=null,Te=null,ia=!1,ri=!1,Ci=0,Kg=0;function $e(){throw Error(O(321))}function Pc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Rc(e,t,n,r,s,i){if(Lr=i,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bl.current=e===null||e.memoizedState===null?Xg:ey,e=n(r,s),ri){i=0;do{if(ri=!1,Ci=0,25<=i)throw Error(O(301));i+=1,Te=Le=null,t.updateQueue=null,bl.current=ty,e=n(r,s)}while(ri)}if(bl.current=la,t=Le!==null&&Le.next!==null,Lr=0,Te=Le=ge=null,ia=!1,t)throw Error(O(300));return e}function Oc(){var e=Ci!==0;return Ci=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ge.memoizedState=Te=e:Te=Te.next=e,Te}function Tt(){if(Le===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Te===null?ge.memoizedState:Te.next;if(t!==null)Te=t,Le=e;else{if(e===null)throw Error(O(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Te===null?ge.memoizedState=Te=e:Te=Te.next=e}return Te}function ki(e,t){return typeof t=="function"?t(e):t}function jo(e){var t=Tt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=Le,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,u=null,c=i;do{var f=c.lane;if((Lr&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=d,l=r):u=u.next=d,ge.lanes|=f,Pr|=f}c=c.next}while(c!==null&&c!==i);u===null?l=r:u.next=o,Wt(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ge.lanes|=i,Pr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=Tt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Wt(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function U0(){}function V0(e,t){var n=ge,r=Tt(),s=t(),i=!Wt(r.memoizedState,s);if(i&&(r.memoizedState=s,ct=!0),r=r.queue,Ic(B0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Ei(9,$0.bind(null,n,r,s,t),void 0,null),Me===null)throw Error(O(349));Lr&30||z0(n,t,s)}return s}function z0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $0(e,t,n,r){t.value=n,t.getSnapshot=r,H0(t)&&Q0(e)}function B0(e,t,n){return n(function(){H0(t)&&Q0(e)})}function H0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function Q0(e){var t=wn(e,1);t!==null&&Qt(t,e,1,-1)}function uf(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},t.queue=e,e=e.dispatch=Yg.bind(null,ge,e),[t.memoizedState,e]}function Ei(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function W0(){return Tt().memoizedState}function Ll(e,t,n,r){var s=Kt();ge.flags|=e,s.memoizedState=Ei(1|t,n,void 0,r===void 0?null:r)}function Ia(e,t,n,r){var s=Tt();r=r===void 0?null:r;var i=void 0;if(Le!==null){var l=Le.memoizedState;if(i=l.destroy,r!==null&&Pc(r,l.deps)){s.memoizedState=Ei(t,n,i,r);return}}ge.flags|=e,s.memoizedState=Ei(1|t,n,i,r)}function cf(e,t){return Ll(8390656,8,e,t)}function Ic(e,t){return Ia(2048,8,e,t)}function Z0(e,t){return Ia(4,2,e,t)}function G0(e,t){return Ia(4,4,e,t)}function K0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function q0(e,t,n){return n=n!=null?n.concat([e]):null,Ia(4,4,K0.bind(null,t,e),n)}function Ac(){}function J0(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Y0(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function X0(e,t,n){return Lr&21?(Wt(n,t)||(n=s0(),ge.lanes|=n,Pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n)}function qg(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=Eo.transition;Eo.transition={};try{e(!1),t()}finally{oe=n,Eo.transition=r}}function ep(){return Tt().memoizedState}function Jg(e,t,n){var r=Jn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tp(e))np(t,n);else if(n=F0(e,t,n,r),n!==null){var s=et();Qt(n,e,r,s),rp(n,t,r)}}function Yg(e,t,n){var r=Jn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tp(e))np(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,Wt(o,l)){var u=t.interleaved;u===null?(s.next=s,jc(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=F0(e,t,s,r),n!==null&&(s=et(),Qt(n,e,r,s),rp(n,t,r))}}function tp(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function np(e,t){ri=ia=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dc(e,n)}}var la={readContext:At,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Xg={readContext:At,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:cf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ll(4194308,4,K0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ll(4,2,e,t)},useMemo:function(e,t){var n=Kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jg.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:uf,useDebugValue:Ac,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=uf(!1),t=e[0];return e=qg.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,s=Kt();if(pe){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Me===null)throw Error(O(349));Lr&30||z0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,cf(B0.bind(null,r,i,e),[e]),r.flags|=2048,Ei(9,$0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Kt(),t=Me.identifierPrefix;if(pe){var n=mn,r=pn;n=(r&~(1<<32-Ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ci++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ey={readContext:At,useCallback:J0,useContext:At,useEffect:Ic,useImperativeHandle:q0,useInsertionEffect:Z0,useLayoutEffect:G0,useMemo:Y0,useReducer:jo,useRef:W0,useState:function(){return jo(ki)},useDebugValue:Ac,useDeferredValue:function(e){var t=Tt();return X0(t,Le.memoizedState,e)},useTransition:function(){var e=jo(ki)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:U0,useSyncExternalStore:V0,useId:ep,unstable_isNewReconciler:!1},ty={readContext:At,useCallback:J0,useContext:At,useEffect:Ic,useImperativeHandle:q0,useInsertionEffect:Z0,useLayoutEffect:G0,useMemo:Y0,useReducer:_o,useRef:W0,useState:function(){return _o(ki)},useDebugValue:Ac,useDeferredValue:function(e){var t=Tt();return Le===null?t.memoizedState=e:X0(t,Le.memoizedState,e)},useTransition:function(){var e=_o(ki)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:U0,useSyncExternalStore:V0,useId:ep,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Aa={isMounted:function(e){return(e=e._reactInternals)?Ar(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),s=Jn(e),i=yn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Kn(e,i,s),t!==null&&(Qt(t,e,s,r),Nl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),s=Jn(e),i=yn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Kn(e,i,s),t!==null&&(Qt(t,e,s,r),Nl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=Jn(e),s=yn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Kn(e,s,r),t!==null&&(Qt(t,e,r,n),Nl(t,e,r))}};function df(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!gi(n,r)||!gi(s,i):!0}function sp(e,t,n){var r=!1,s=nr,i=t.contextType;return typeof i=="object"&&i!==null?i=At(i):(s=ft(t)?Nr:Ge.current,r=t.contextTypes,i=(r=r!=null)?Ss(e,s):nr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Aa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ff(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function mu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_c(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=At(i):(i=ft(t)?Nr:Ge.current,s.context=Ss(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Aa.enqueueReplaceState(s,s.state,null),ra(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,t){try{var n="",r=t;do n+=Lm(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function No(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ny=typeof WeakMap=="function"?WeakMap:Map;function ip(e,t,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oa||(oa=!0,_u=r),gu(e,t)},n}function lp(e,t,n){n=yn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){gu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gu(e,t),typeof r!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function hf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ny;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=gy.bind(null,e,t,n),t.then(e,e))}function pf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yn(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var ry=kn.ReactCurrentOwner,ct=!1;function Je(e,t,n,r){t.child=e===null?T0(t,null,n,r):ks(t,e.child,n,r)}function gf(e,t,n,r,s){n=n.render;var i=t.ref;return rs(t,s),r=Rc(e,t,n,r,i,s),n=Oc(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(pe&&n&&xc(t),t.flags|=1,Je(e,t,r,s),t.child)}function yf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!$c(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ap(e,t,i,r,s)):(e=Il(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:gi,n(l,r)&&e.ref===t.ref)return Sn(e,t,s)}return t.flags|=1,e=Yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function ap(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(gi(i,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,Sn(e,t,s)}return yu(e,t,n,r,s)}function op(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(qr,wt),wt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(qr,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,de(qr,wt),wt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,de(qr,wt),wt|=r;return Je(e,t,s,n),t.child}function up(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yu(e,t,n,r,s){var i=ft(n)?Nr:Ge.current;return i=Ss(t,i),rs(t,s),n=Rc(e,t,n,r,i,s),r=Oc(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(pe&&r&&xc(t),t.flags|=1,Je(e,t,n,s),t.child)}function vf(e,t,n,r,s){if(ft(n)){var i=!0;Yl(t)}else i=!1;if(rs(t,s),t.stateNode===null)Pl(e,t),sp(t,n,r),mu(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var u=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=At(c):(c=ft(n)?Nr:Ge.current,c=Ss(t,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||u!==c)&&ff(t,l,r,c),Ln=!1;var h=t.memoizedState;l.state=h,ra(t,r,l,s),u=t.memoizedState,o!==r||h!==u||dt.current||Ln?(typeof f=="function"&&(pu(t,n,f,r),u=t.memoizedState),(o=Ln||df(t,n,o,r,h,u,c))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=c,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,M0(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Dt(t.type,o),l.props=c,d=t.pendingProps,h=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=At(u):(u=ft(n)?Nr:Ge.current,u=Ss(t,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==d||h!==u)&&ff(t,l,r,u),Ln=!1,h=t.memoizedState,l.state=h,ra(t,r,l,s);var S=t.memoizedState;o!==d||h!==S||dt.current||Ln?(typeof y=="function"&&(pu(t,n,y,r),S=t.memoizedState),(c=Ln||df(t,n,c,r,h,S,u)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,S,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,S,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),l.props=r,l.state=S,l.context=u,r=c):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return vu(e,t,n,r,i,s)}function vu(e,t,n,r,s,i){up(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&nf(t,n,!1),Sn(e,t,i);r=t.stateNode,ry.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=ks(t,e.child,null,i),t.child=ks(t,null,o,i)):Je(e,t,o,i),t.memoizedState=r.state,s&&nf(t,n,!0),t.child}function cp(e){var t=e.stateNode;t.pendingContext?tf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tf(e,t.context,!1),Nc(e,t.containerInfo)}function xf(e,t,n,r,s){return Cs(),Sc(s),t.flags|=256,Je(e,t,n,r),t.child}var xu={dehydrated:null,treeContext:null,retryLane:0};function wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function dp(e,t,n){var r=t.pendingProps,s=me.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),de(me,s&1),e===null)return fu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ma(l,r,0,null),e=_r(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wu(n),t.memoizedState=xu,e):Tc(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return sy(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Yn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Yn(o,i):(i=_r(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?wu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=xu,r}return i=e.child,e=i.sibling,r=Yn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tc(e,t){return t=Ma({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dl(e,t,n,r){return r!==null&&Sc(r),ks(t,e.child,null,n),e=Tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sy(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=No(Error(O(422))),dl(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ma({mode:"visible",children:r.children},s,0,null),i=_r(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ks(t,e.child,null,l),t.child.memoizedState=wu(l),t.memoizedState=xu,i);if(!(t.mode&1))return dl(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(O(419)),r=No(i,r,void 0),dl(e,t,l,r)}if(o=(l&e.childLanes)!==0,ct||o){if(r=Me,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wn(e,s),Qt(r,e,s,-1))}return zc(),r=No(Error(O(421))),dl(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yy.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,St=Gn(s.nextSibling),Et=t,pe=!0,zt=null,e!==null&&(Pt[Rt++]=pn,Pt[Rt++]=mn,Pt[Rt++]=br,pn=e.id,mn=e.overflow,br=t),t=Tc(t,r.children),t.flags|=4096,t)}function wf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hu(e.return,t,n)}function bo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function fp(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Je(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wf(e,n,t);else if(e.tag===19)wf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(me,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&sa(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),bo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&sa(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}bo(t,!0,n,null,i);break;case"together":bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=Yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function iy(e,t,n){switch(t.tag){case 3:cp(t),Cs();break;case 5:D0(t);break;case 1:ft(t.type)&&Yl(t);break;case 4:Nc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;de(ta,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?dp(e,t,n):(de(me,me.current&1),e=Sn(e,t,n),e!==null?e.sibling:null);de(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,op(e,t,n)}return Sn(e,t,n)}var hp,Su,pp,mp;hp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Su=function(){};pp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,pr(ln.current);var i=null;switch(n){case"input":s=Bo(e,s),r=Bo(e,r),i=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":s=Wo(e,s),r=Wo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ql)}Go(n,r);var l;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ui.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(o=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(l in o)!o.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&o[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ui.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&fe("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};mp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bs(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ly(e,t,n){var r=t.pendingProps;switch(wc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return ft(t.type)&&Jl(),Be(t),null;case 3:return r=t.stateNode,Es(),he(dt),he(Ge),Lc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Lu(zt),zt=null))),Su(e,t),Be(t),null;case 5:bc(t);var s=pr(Si.current);if(n=t.type,e!==null&&t.stateNode!=null)pp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return Be(t),null}if(e=pr(ln.current),ul(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[en]=t,r[xi]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<qs.length;s++)fe(qs[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":bd(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":Pd(r,i),fe("invalid",r)}Go(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ol(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ol(r.textContent,o,e),s=["children",""+o]):ui.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&fe("scroll",r)}switch(n){case"input":el(r),Ld(r,i,!0);break;case"textarea":el(r),Rd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ql)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[en]=t,e[xi]=r,hp(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ko(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<qs.length;s++)fe(qs[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":bd(e,r),s=Bo(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Pd(e,r),s=Wo(e,r),fe("invalid",e);break;default:s=r}Go(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?Wh(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Hh(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ci(e,u):typeof u=="number"&&ci(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ui.hasOwnProperty(i)?u!=null&&i==="onScroll"&&fe("scroll",e):u!=null&&ic(e,i,u,l))}switch(n){case"input":el(e),Ld(e,r,!1);break;case"textarea":el(e),Rd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Xr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Xr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ql)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)mp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=pr(Si.current),pr(ln.current),ul(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(i=r.nodeValue!==n)&&(e=Et,e!==null))switch(e.tag){case 3:ol(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ol(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return Be(t),null;case 13:if(he(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&St!==null&&t.mode&1&&!(t.flags&128))I0(),Cs(),t.flags|=98560,i=!1;else if(i=ul(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[en]=t}else Cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),i=!1}else zt!==null&&(Lu(zt),zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Re===0&&(Re=3):zc())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return Es(),Su(e,t),e===null&&yi(t.stateNode.containerInfo),Be(t),null;case 10:return Ec(t.type._context),Be(t),null;case 17:return ft(t.type)&&Jl(),Be(t),null;case 19:if(he(me),i=t.memoizedState,i===null)return Be(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Bs(i,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=sa(e),l!==null){for(t.flags|=128,Bs(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(me,me.current&1|2),t.child}e=e.sibling}i.tail!==null&&ke()>_s&&(t.flags|=128,r=!0,Bs(i,!1),t.lanes=4194304)}else{if(!r)if(e=sa(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!pe)return Be(t),null}else 2*ke()-i.renderingStartTime>_s&&n!==1073741824&&(t.flags|=128,r=!0,Bs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ke(),t.sibling=null,n=me.current,de(me,r?n&1|2:n&1),t):(Be(t),null);case 22:case 23:return Vc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wt&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function ay(e,t){switch(wc(t),t.tag){case 1:return ft(t.type)&&Jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Es(),he(dt),he(Ge),Lc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bc(t),null;case 13:if(he(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(me),null;case 4:return Es(),null;case 10:return Ec(t.type._context),null;case 22:case 23:return Vc(),null;case 24:return null;default:return null}}var fl=!1,We=!1,oy=typeof WeakSet=="function"?WeakSet:Set,z=null;function Kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function Cu(e,t,n){try{n()}catch(r){we(e,t,r)}}var Sf=!1;function uy(e,t){if(iu=Zl,e=w0(),vc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,u=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(o=l+s),d!==i||r!==0&&d.nodeType!==3||(u=l+r),d.nodeType===3&&(l+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===e)break t;if(h===n&&++c===s&&(o=l),h===i&&++f===r&&(u=l),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(lu={focusedElem:e,selectionRange:n},Zl=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,E=S.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?C:Dt(t.type,C),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(k){we(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return S=Sf,Sf=!1,S}function si(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cu(t,n,i)}s=s.next}while(s!==r)}}function Ta(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ku(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gp(e){var t=e.alternate;t!==null&&(e.alternate=null,gp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[xi],delete t[uu],delete t[Qg],delete t[Wg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yp(e){return e.tag===5||e.tag===3||e.tag===4}function Cf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ql));else if(r!==4&&(e=e.child,e!==null))for(Eu(e,t,n),e=e.sibling;e!==null;)Eu(e,t,n),e=e.sibling}function ju(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ju(e,t,n),e=e.sibling;e!==null;)ju(e,t,n),e=e.sibling}var Ue=null,Vt=!1;function jn(e,t,n){for(n=n.child;n!==null;)vp(e,t,n),n=n.sibling}function vp(e,t,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Na,n)}catch{}switch(n.tag){case 5:We||Kr(n,t);case 6:var r=Ue,s=Vt;Ue=null,jn(e,t,n),Ue=r,Vt=s,Ue!==null&&(Vt?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(Vt?(e=Ue,n=n.stateNode,e.nodeType===8?So(e.parentNode,n):e.nodeType===1&&So(e,n),pi(e)):So(Ue,n.stateNode));break;case 4:r=Ue,s=Vt,Ue=n.stateNode.containerInfo,Vt=!0,jn(e,t,n),Ue=r,Vt=s;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Cu(n,t,l),s=s.next}while(s!==r)}jn(e,t,n);break;case 1:if(!We&&(Kr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){we(n,t,o)}jn(e,t,n);break;case 21:jn(e,t,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,jn(e,t,n),We=r):jn(e,t,n);break;default:jn(e,t,n)}}function kf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oy),t.forEach(function(r){var s=vy.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ue=o.stateNode,Vt=!1;break e;case 3:Ue=o.stateNode.containerInfo,Vt=!0;break e;case 4:Ue=o.stateNode.containerInfo,Vt=!0;break e}o=o.return}if(Ue===null)throw Error(O(160));vp(i,l,s),Ue=null,Vt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){we(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xp(t,e),t=t.sibling}function xp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Gt(e),r&4){try{si(3,e,e.return),Ta(3,e)}catch(C){we(e,e.return,C)}try{si(5,e,e.return)}catch(C){we(e,e.return,C)}}break;case 1:Mt(t,e),Gt(e),r&512&&n!==null&&Kr(n,n.return);break;case 5:if(Mt(t,e),Gt(e),r&512&&n!==null&&Kr(n,n.return),e.flags&32){var s=e.stateNode;try{ci(s,"")}catch(C){we(e,e.return,C)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&zh(s,i),Ko(o,l);var c=Ko(o,i);for(l=0;l<u.length;l+=2){var f=u[l],d=u[l+1];f==="style"?Wh(s,d):f==="dangerouslySetInnerHTML"?Hh(s,d):f==="children"?ci(s,d):ic(s,f,d,c)}switch(o){case"input":Ho(s,i);break;case"textarea":$h(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Xr(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?Xr(s,!!i.multiple,i.defaultValue,!0):Xr(s,!!i.multiple,i.multiple?[]:"",!1))}s[xi]=i}catch(C){we(e,e.return,C)}}break;case 6:if(Mt(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(C){we(e,e.return,C)}}break;case 3:if(Mt(t,e),Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pi(t.containerInfo)}catch(C){we(e,e.return,C)}break;case 4:Mt(t,e),Gt(e);break;case 13:Mt(t,e),Gt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dc=ke())),r&4&&kf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(We=(c=We)||f,Mt(t,e),We=c):Mt(t,e),Gt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(z=e,f=e.child;f!==null;){for(d=z=f;z!==null;){switch(h=z,y=h.child,h.tag){case 0:case 11:case 14:case 15:si(4,h,h.return);break;case 1:Kr(h,h.return);var S=h.stateNode;if(typeof S.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(C){we(r,n,C)}}break;case 5:Kr(h,h.return);break;case 22:if(h.memoizedState!==null){jf(d);continue}}y!==null?(y.return=h,z=y):jf(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,u=d.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Qh("display",l))}catch(C){we(e,e.return,C)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(C){we(e,e.return,C)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Mt(t,e),Gt(e),r&4&&kf(e);break;case 21:break;default:Mt(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yp(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ci(s,""),r.flags&=-33);var i=Cf(e);ju(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Cf(e);Eu(e,o,l);break;default:throw Error(O(161))}}catch(u){we(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cy(e,t,n){z=e,wp(e)}function wp(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var s=z,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||fl;if(!l){var o=s.alternate,u=o!==null&&o.memoizedState!==null||We;o=fl;var c=We;if(fl=l,(We=u)&&!c)for(z=s;z!==null;)l=z,u=l.child,l.tag===22&&l.memoizedState!==null?_f(s):u!==null?(u.return=l,z=u):_f(s);for(;i!==null;)z=i,wp(i),i=i.sibling;z=s,fl=o,We=c}Ef(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,z=i):Ef(e)}}function Ef(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Ta(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!We)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&of(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}of(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&pi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}We||t.flags&512&&ku(t)}catch(h){we(t,t.return,h)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function jf(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function _f(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ta(4,t)}catch(u){we(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){we(t,s,u)}}var i=t.return;try{ku(t)}catch(u){we(t,i,u)}break;case 5:var l=t.return;try{ku(t)}catch(u){we(t,l,u)}}}catch(u){we(t,t.return,u)}if(t===e){z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,z=o;break}z=t.return}}var dy=Math.ceil,aa=kn.ReactCurrentDispatcher,Fc=kn.ReactCurrentOwner,It=kn.ReactCurrentBatchConfig,re=0,Me=null,_e=null,Ve=0,wt=0,qr=sr(0),Re=0,ji=null,Pr=0,Fa=0,Mc=0,ii=null,ut=null,Dc=0,_s=1/0,dn=null,oa=!1,_u=null,qn=null,hl=!1,$n=null,ua=0,li=0,Nu=null,Rl=-1,Ol=0;function et(){return re&6?ke():Rl!==-1?Rl:Rl=ke()}function Jn(e){return e.mode&1?re&2&&Ve!==0?Ve&-Ve:Gg.transition!==null?(Ol===0&&(Ol=s0()),Ol):(e=oe,e!==0||(e=window.event,e=e===void 0?16:d0(e.type)),e):1}function Qt(e,t,n,r){if(50<li)throw li=0,Nu=null,Error(O(185));$i(e,n,r),(!(re&2)||e!==Me)&&(e===Me&&(!(re&2)&&(Fa|=n),Re===4&&Rn(e,Ve)),ht(e,r),n===1&&re===0&&!(t.mode&1)&&(_s=ke()+500,Oa&&ir()))}function ht(e,t){var n=e.callbackNode;Gm(e,t);var r=Wl(e,e===Me?Ve:0);if(r===0)n!==null&&Ad(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ad(n),t===1)e.tag===0?Zg(Nf.bind(null,e)):P0(Nf.bind(null,e)),Bg(function(){!(re&6)&&ir()}),n=null;else{switch(i0(r)){case 1:n=cc;break;case 4:n=n0;break;case 16:n=Ql;break;case 536870912:n=r0;break;default:n=Ql}n=bp(n,Sp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sp(e,t){if(Rl=-1,Ol=0,re&6)throw Error(O(327));var n=e.callbackNode;if(ss()&&e.callbackNode!==n)return null;var r=Wl(e,e===Me?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ca(e,r);else{t=r;var s=re;re|=2;var i=kp();(Me!==e||Ve!==t)&&(dn=null,_s=ke()+500,jr(e,t));do try{py();break}catch(o){Cp(e,o)}while(1);kc(),aa.current=i,re=s,_e!==null?t=0:(Me=null,Ve=0,t=Re)}if(t!==0){if(t===2&&(s=eu(e),s!==0&&(r=s,t=bu(e,s))),t===1)throw n=ji,jr(e,0),Rn(e,r),ht(e,ke()),n;if(t===6)Rn(e,r);else{if(s=e.current.alternate,!(r&30)&&!fy(s)&&(t=ca(e,r),t===2&&(i=eu(e),i!==0&&(r=i,t=bu(e,i))),t===1))throw n=ji,jr(e,0),Rn(e,r),ht(e,ke()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:dr(e,ut,dn);break;case 3:if(Rn(e,r),(r&130023424)===r&&(t=Dc+500-ke(),10<t)){if(Wl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ou(dr.bind(null,e,ut,dn),t);break}dr(e,ut,dn);break;case 4:if(Rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-Ht(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dy(r/1960))-r,10<r){e.timeoutHandle=ou(dr.bind(null,e,ut,dn),r);break}dr(e,ut,dn);break;case 5:dr(e,ut,dn);break;default:throw Error(O(329))}}}return ht(e,ke()),e.callbackNode===n?Sp.bind(null,e):null}function bu(e,t){var n=ii;return e.current.memoizedState.isDehydrated&&(jr(e,t).flags|=256),e=ca(e,t),e!==2&&(t=ut,ut=n,t!==null&&Lu(t)),e}function Lu(e){ut===null?ut=e:ut.push.apply(ut,e)}function fy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~Mc,t&=~Fa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function Nf(e){if(re&6)throw Error(O(327));ss();var t=Wl(e,0);if(!(t&1))return ht(e,ke()),null;var n=ca(e,t);if(e.tag!==0&&n===2){var r=eu(e);r!==0&&(t=r,n=bu(e,r))}if(n===1)throw n=ji,jr(e,0),Rn(e,t),ht(e,ke()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dr(e,ut,dn),ht(e,ke()),null}function Uc(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(_s=ke()+500,Oa&&ir())}}function Rr(e){$n!==null&&$n.tag===0&&!(re&6)&&ss();var t=re;re|=1;var n=It.transition,r=oe;try{if(It.transition=null,oe=1,e)return e()}finally{oe=r,It.transition=n,re=t,!(re&6)&&ir()}}function Vc(){wt=qr.current,he(qr)}function jr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$g(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(wc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jl();break;case 3:Es(),he(dt),he(Ge),Lc();break;case 5:bc(r);break;case 4:Es();break;case 13:he(me);break;case 19:he(me);break;case 10:Ec(r.type._context);break;case 22:case 23:Vc()}n=n.return}if(Me=e,_e=e=Yn(e.current,null),Ve=wt=t,Re=0,ji=null,Mc=Fa=Pr=0,ut=ii=null,hr!==null){for(t=0;t<hr.length;t++)if(n=hr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}hr=null}return e}function Cp(e,t){do{var n=_e;try{if(kc(),bl.current=la,ia){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ia=!1}if(Lr=0,Te=Le=ge=null,ri=!1,Ci=0,Fc.current=null,n===null||n.return===null){Re=1,ji=t,_e=null;break}e:{var i=e,l=n.return,o=n,u=t;if(t=Ve,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=o,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=pf(l);if(y!==null){y.flags&=-257,mf(y,l,o,i,t),y.mode&1&&hf(i,c,t),t=y,u=c;var S=t.updateQueue;if(S===null){var C=new Set;C.add(u),t.updateQueue=C}else S.add(u);break e}else{if(!(t&1)){hf(i,c,t),zc();break e}u=Error(O(426))}}else if(pe&&o.mode&1){var E=pf(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),mf(E,l,o,i,t),Sc(js(u,o));break e}}i=u=js(u,o),Re!==4&&(Re=2),ii===null?ii=[i]:ii.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=ip(i,u,t);af(i,m);break e;case 1:o=u;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qn===null||!qn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=lp(i,o,t);af(i,k);break e}}i=i.return}while(i!==null)}jp(n)}catch(N){t=N,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(1)}function kp(){var e=aa.current;return aa.current=la,e===null?la:e}function zc(){(Re===0||Re===3||Re===2)&&(Re=4),Me===null||!(Pr&268435455)&&!(Fa&268435455)||Rn(Me,Ve)}function ca(e,t){var n=re;re|=2;var r=kp();(Me!==e||Ve!==t)&&(dn=null,jr(e,t));do try{hy();break}catch(s){Cp(e,s)}while(1);if(kc(),re=n,aa.current=r,_e!==null)throw Error(O(261));return Me=null,Ve=0,Re}function hy(){for(;_e!==null;)Ep(_e)}function py(){for(;_e!==null&&!Um();)Ep(_e)}function Ep(e){var t=Np(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?jp(e):_e=t,Fc.current=null}function jp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ay(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,_e=null;return}}else if(n=ly(n,t,wt),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Re===0&&(Re=5)}function dr(e,t,n){var r=oe,s=It.transition;try{It.transition=null,oe=1,my(e,t,n,r)}finally{It.transition=s,oe=r}return null}function my(e,t,n,r){do ss();while($n!==null);if(re&6)throw Error(O(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Km(e,i),e===Me&&(_e=Me=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hl||(hl=!0,bp(Ql,function(){return ss(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=It.transition,It.transition=null;var l=oe;oe=1;var o=re;re|=4,Fc.current=null,uy(e,n),xp(n,e),Tg(lu),Zl=!!iu,lu=iu=null,e.current=n,cy(n),Vm(),re=o,oe=l,It.transition=i}else e.current=n;if(hl&&(hl=!1,$n=e,ua=s),i=e.pendingLanes,i===0&&(qn=null),Bm(n.stateNode),ht(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(oa)throw oa=!1,e=_u,_u=null,e;return ua&1&&e.tag!==0&&ss(),i=e.pendingLanes,i&1?e===Nu?li++:(li=0,Nu=e):li=0,ir(),null}function ss(){if($n!==null){var e=i0(ua),t=It.transition,n=oe;try{if(It.transition=null,oe=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,ua=0,re&6)throw Error(O(331));var s=re;for(re|=4,z=e.current;z!==null;){var i=z,l=i.child;if(z.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(z=c;z!==null;){var f=z;switch(f.tag){case 0:case 11:case 15:si(8,f,i)}var d=f.child;if(d!==null)d.return=f,z=d;else for(;z!==null;){f=z;var h=f.sibling,y=f.return;if(gp(f),f===c){z=null;break}if(h!==null){h.return=y,z=h;break}z=y}}}var S=i.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var E=C.sibling;C.sibling=null,C=E}while(C!==null)}}z=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,z=l;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:si(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,z=m;break e}z=i.return}}var p=e.current;for(z=p;z!==null;){l=z;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,z=g;else e:for(l=p;z!==null;){if(o=z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ta(9,o)}}catch(N){we(o,o.return,N)}if(o===l){z=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,z=k;break e}z=o.return}}if(re=s,ir(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Na,e)}catch{}r=!0}return r}finally{oe=n,It.transition=t}}return!1}function bf(e,t,n){t=js(n,t),t=ip(e,t,1),e=Kn(e,t,1),t=et(),e!==null&&($i(e,1,t),ht(e,t))}function we(e,t,n){if(e.tag===3)bf(e,e,n);else for(;t!==null;){if(t.tag===3){bf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qn===null||!qn.has(r))){e=js(n,e),e=lp(t,e,1),t=Kn(t,e,1),e=et(),t!==null&&($i(t,1,e),ht(t,e));break}}t=t.return}}function gy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Ve&n)===n&&(Re===4||Re===3&&(Ve&130023424)===Ve&&500>ke()-Dc?jr(e,0):Mc|=n),ht(e,t)}function _p(e,t){t===0&&(e.mode&1?(t=rl,rl<<=1,!(rl&130023424)&&(rl=4194304)):t=1);var n=et();e=wn(e,t),e!==null&&($i(e,t,n),ht(e,n))}function yy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_p(e,n)}function vy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),_p(e,n)}var Np;Np=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ct=!1,iy(e,t,n);ct=!!(e.flags&131072)}else ct=!1,pe&&t.flags&1048576&&R0(t,ea,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pl(e,t),e=t.pendingProps;var s=Ss(t,Ge.current);rs(t,n),s=Rc(null,t,r,e,s,n);var i=Oc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(i=!0,Yl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_c(t),s.updater=Aa,t.stateNode=s,s._reactInternals=t,mu(t,r,e,n),t=vu(null,t,r,!0,i,n)):(t.tag=0,pe&&i&&xc(t),Je(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=wy(r),e=Dt(r,e),s){case 0:t=yu(null,t,r,e,n);break e;case 1:t=vf(null,t,r,e,n);break e;case 11:t=gf(null,t,r,e,n);break e;case 14:t=yf(null,t,r,Dt(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),yu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),vf(e,t,r,s,n);case 3:e:{if(cp(t),e===null)throw Error(O(387));r=t.pendingProps,i=t.memoizedState,s=i.element,M0(e,t),ra(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=js(Error(O(423)),t),t=xf(e,t,r,n,s);break e}else if(r!==s){s=js(Error(O(424)),t),t=xf(e,t,r,n,s);break e}else for(St=Gn(t.stateNode.containerInfo.firstChild),Et=t,pe=!0,zt=null,n=T0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cs(),r===s){t=Sn(e,t,n);break e}Je(e,t,r,n)}t=t.child}return t;case 5:return D0(t),e===null&&fu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,au(r,s)?l=null:i!==null&&au(r,i)&&(t.flags|=32),up(e,t),Je(e,t,l,n),t.child;case 6:return e===null&&fu(t),null;case 13:return dp(e,t,n);case 4:return Nc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ks(t,null,r,n):Je(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),gf(e,t,r,s,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,de(ta,r._currentValue),r._currentValue=l,i!==null)if(Wt(i.value,l)){if(i.children===s.children&&!dt.current){t=Sn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=yn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),hu(i.return,n,t),o.lanes|=n;break}u=u.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(O(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),hu(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Je(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,rs(t,n),s=At(s),r=r(s),t.flags|=1,Je(e,t,r,n),t.child;case 14:return r=t.type,s=Dt(r,t.pendingProps),s=Dt(r.type,s),yf(e,t,r,s,n);case 15:return ap(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),Pl(e,t),t.tag=1,ft(r)?(e=!0,Yl(t)):e=!1,rs(t,n),sp(t,r,s),mu(t,r,s,n),vu(null,t,r,!0,e,n);case 19:return fp(e,t,n);case 22:return op(e,t,n)}throw Error(O(156,t.tag))};function bp(e,t){return t0(e,t)}function xy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,r){return new xy(e,t,n,r)}function $c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wy(e){if(typeof e=="function")return $c(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ac)return 11;if(e===oc)return 14}return 2}function Yn(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Il(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")$c(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Vr:return _r(n.children,s,i,t);case lc:l=8,s|=8;break;case Uo:return e=Ot(12,n,t,s|2),e.elementType=Uo,e.lanes=i,e;case Vo:return e=Ot(13,n,t,s),e.elementType=Vo,e.lanes=i,e;case zo:return e=Ot(19,n,t,s),e.elementType=zo,e.lanes=i,e;case Dh:return Ma(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fh:l=10;break e;case Mh:l=9;break e;case ac:l=11;break e;case oc:l=14;break e;case bn:l=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Ot(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function _r(e,t,n,r){return e=Ot(7,e,r,t),e.lanes=n,e}function Ma(e,t,n,r){return e=Ot(22,e,r,t),e.elementType=Dh,e.lanes=n,e.stateNode={isHidden:!1},e}function Lo(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function Po(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uo(0),this.expirationTimes=uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,s,i,l,o,u){return e=new Sy(e,t,n,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_c(i),e}function Cy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ur,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lp(e){if(!e)return nr;e=e._reactInternals;e:{if(Ar(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(ft(n))return L0(e,n,t)}return t}function Pp(e,t,n,r,s,i,l,o,u){return e=Bc(n,r,!0,e,s,i,l,o,u),e.context=Lp(null),n=e.current,r=et(),s=Jn(n),i=yn(r,s),i.callback=t??null,Kn(n,i,s),e.current.lanes=s,$i(e,s,r),ht(e,r),e}function Da(e,t,n,r){var s=t.current,i=et(),l=Jn(s);return n=Lp(n),t.context===null?t.context=n:t.pendingContext=n,t=yn(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(s,t,l),e!==null&&(Qt(e,s,l,i),Nl(e,s,l)),l}function da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hc(e,t){Lf(e,t),(e=e.alternate)&&Lf(e,t)}function ky(){return null}var Rp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}Ua.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Da(e,t,null,null)};Ua.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){Da(null,e,null,null)}),t[xn]=null}};function Ua(e){this._internalRoot=e}Ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=o0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pn.length&&t!==0&&t<Pn[n].priority;n++);Pn.splice(n,0,e),n===0&&c0(e)}};function Wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Va(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pf(){}function Ey(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=da(l);i.call(c)}}var l=Pp(t,r,e,0,null,!1,!1,"",Pf);return e._reactRootContainer=l,e[xn]=l.current,yi(e.nodeType===8?e.parentNode:e),Rr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var c=da(u);o.call(c)}}var u=Bc(e,0,!1,null,null,!1,!1,"",Pf);return e._reactRootContainer=u,e[xn]=u.current,yi(e.nodeType===8?e.parentNode:e),Rr(function(){Da(t,u,n,r)}),u}function za(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var u=da(l);o.call(u)}}Da(t,l,e,s)}else l=Ey(n,t,e,s,r);return da(l)}l0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ks(t.pendingLanes);n!==0&&(dc(t,n|1),ht(t,ke()),!(re&6)&&(_s=ke()+500,ir()))}break;case 13:Rr(function(){var r=wn(e,1);if(r!==null){var s=et();Qt(r,e,1,s)}}),Hc(e,1)}};fc=function(e){if(e.tag===13){var t=wn(e,134217728);if(t!==null){var n=et();Qt(t,e,134217728,n)}Hc(e,134217728)}};a0=function(e){if(e.tag===13){var t=Jn(e),n=wn(e,t);if(n!==null){var r=et();Qt(n,e,t,r)}Hc(e,t)}};o0=function(){return oe};u0=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};Jo=function(e,t,n){switch(t){case"input":if(Ho(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ra(r);if(!s)throw Error(O(90));Vh(r),Ho(r,s)}}}break;case"textarea":$h(e,n);break;case"select":t=n.value,t!=null&&Xr(e,!!n.multiple,t,!1)}};Kh=Uc;qh=Rr;var jy={usingClientEntryPoint:!1,Events:[Hi,Hr,Ra,Zh,Gh,Uc]},Hs={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_y={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xh(e),e===null?null:e.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Na=pl.inject(_y),sn=pl}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jy;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(t))throw Error(O(200));return Cy(e,t,null,n)};_t.createRoot=function(e,t){if(!Wc(e))throw Error(O(299));var n=!1,r="",s=Rp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,null,n,!1,r,s),e[xn]=t.current,yi(e.nodeType===8?e.parentNode:e),new Qc(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Xh(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return Rr(e)};_t.hydrate=function(e,t,n){if(!Va(t))throw Error(O(200));return za(null,e,t,!0,n)};_t.hydrateRoot=function(e,t,n){if(!Wc(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=Rp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Pp(t,null,e,1,n??null,s,!1,i,l),e[xn]=t.current,yi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ua(t)};_t.render=function(e,t,n){if(!Va(t))throw Error(O(200));return za(null,e,t,!1,n)};_t.unmountComponentAtNode=function(e){if(!Va(e))throw Error(O(40));return e._reactRootContainer?(Rr(function(){za(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};_t.unstable_batchedUpdates=Uc;_t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Va(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return za(e,t,n,!1,r)};_t.version="18.3.1-next-f1338f8080-20240426";function Op(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Op)}catch(e){console.error(e)}}Op(),Oh.exports=_t;var Ny=Oh.exports,Rf=Ny;Mo.createRoot=Rf.createRoot,Mo.hydrateRoot=Rf.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_i.apply(this,arguments)}var Bn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bn||(Bn={}));const Of="popstate";function by(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:l,hash:o}=r.location;return Pu("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:fa(s)}return Py(t,n,null,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ip(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ly(){return Math.random().toString(36).substr(2,8)}function If(e,t){return{usr:e.state,key:e.key,idx:t}}function Pu(e,t,n,r){return n===void 0&&(n=null),_i({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Os(t):t,{state:n,key:t&&t.key||r||Ly()})}function fa(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Os(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Py(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,o=Bn.Pop,u=null,c=f();c==null&&(c=0,l.replaceState(_i({},l.state,{idx:c}),""));function f(){return(l.state||{idx:null}).idx}function d(){o=Bn.Pop;let E=f(),m=E==null?null:E-c;c=E,u&&u({action:o,location:C.location,delta:m})}function h(E,m){o=Bn.Push;let p=Pu(C.location,E,m);n&&n(p,E),c=f()+1;let g=If(p,c),k=C.createHref(p);try{l.pushState(g,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(k)}i&&u&&u({action:o,location:C.location,delta:1})}function y(E,m){o=Bn.Replace;let p=Pu(C.location,E,m);n&&n(p,E),c=f();let g=If(p,c),k=C.createHref(p);l.replaceState(g,"",k),i&&u&&u({action:o,location:C.location,delta:0})}function S(E){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof E=="string"?E:fa(E);return p=p.replace(/ $/,"%20"),Ee(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let C={get action(){return o},get location(){return e(s,l)},listen(E){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Of,d),u=E,()=>{s.removeEventListener(Of,d),u=null}},createHref(E){return t(s,E)},createURL:S,encodeLocation(E){let m=S(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:y,go(E){return l.go(E)}};return C}var Af;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Af||(Af={}));function Ry(e,t,n){return n===void 0&&(n="/"),Oy(e,t,n,!1)}function Oy(e,t,n,r){let s=typeof t=="string"?Os(t):t,i=Zc(s.pathname||"/",n);if(i==null)return null;let l=Ap(e);Iy(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let c=Hy(i);o=$y(l[u],c,r)}return o}function Ap(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};u.relativePath.startsWith("/")&&(Ee(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Xn([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(Ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ap(i.children,t,f,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Vy(c,i.index),routesMeta:f})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let u of Tp(i.path))s(i,l,u)}),t}function Tp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=Tp(r.join("/")),o=[];return o.push(...l.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...l),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Iy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ay=/^:[\w-]+$/,Ty=3,Fy=2,My=1,Dy=10,Uy=-2,Tf=e=>e==="*";function Vy(e,t){let n=e.split("/"),r=n.length;return n.some(Tf)&&(r+=Uy),t&&(r+=Fy),n.filter(s=>!Tf(s)).reduce((s,i)=>s+(Ay.test(i)?Ty:i===""?My:Dy),r)}function zy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function $y(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",l=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Ff({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),h=u.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Ff({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),l.push({params:s,pathname:Xn([i,d.pathname]),pathnameBase:Gy(Xn([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Xn([i,d.pathnameBase]))}return l}function Ff(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=By(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,f,d)=>{let{paramName:h,isOptional:y}=f;if(h==="*"){let C=o[d]||"";l=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const S=o[d];return y&&!S?c[h]=void 0:c[h]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:l,pattern:e}}function By(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ip(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Hy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ip(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Qy(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Os(e):e;return{pathname:n?n.startsWith("/")?n:Wy(n,t):t,search:Ky(r),hash:qy(s)}}function Wy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ro(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gc(e,t){let n=Zy(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Kc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Os(e):(s=_i({},e),Ee(!s.pathname||!s.pathname.includes("?"),Ro("?","pathname","search",s)),Ee(!s.pathname||!s.pathname.includes("#"),Ro("#","pathname","hash",s)),Ee(!s.search||!s.search.includes("#"),Ro("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=n;else{let d=t.length-1;if(!r&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?t[d]:"/"}let u=Qy(s,o),c=l&&l!=="/"&&l.endsWith("/"),f=(i||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Xn=e=>e.join("/").replace(/\/\/+/g,"/"),Gy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ky=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Fp=["post","put","patch","delete"];new Set(Fp);const Yy=["get",...Fp];new Set(Yy);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ni.apply(this,arguments)}const qc=v.createContext(null),Xy=v.createContext(null),lr=v.createContext(null),$a=v.createContext(null),an=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Mp=v.createContext(null);function ev(e,t){let{relative:n}=t===void 0?{}:t;Is()||Ee(!1);let{basename:r,navigator:s}=v.useContext(lr),{hash:i,pathname:l,search:o}=Up(e,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:Xn([r,l])),s.createHref({pathname:u,search:o,hash:i})}function Is(){return v.useContext($a)!=null}function As(){return Is()||Ee(!1),v.useContext($a).location}function Dp(e){v.useContext(lr).static||v.useLayoutEffect(e)}function Ft(){let{isDataRoute:e}=v.useContext(an);return e?mv():tv()}function tv(){Is()||Ee(!1);let e=v.useContext(qc),{basename:t,future:n,navigator:r}=v.useContext(lr),{matches:s}=v.useContext(an),{pathname:i}=As(),l=JSON.stringify(Gc(s,n.v7_relativeSplatPath)),o=v.useRef(!1);return Dp(()=>{o.current=!0}),v.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=Kc(c,JSON.parse(l),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Xn([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,l,i,e])}const nv=v.createContext(null);function rv(e){let t=v.useContext(an).outlet;return t&&v.createElement(nv.Provider,{value:e},t)}function Ba(){let{matches:e}=v.useContext(an),t=e[e.length-1];return t?t.params:{}}function Up(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(lr),{matches:s}=v.useContext(an),{pathname:i}=As(),l=JSON.stringify(Gc(s,r.v7_relativeSplatPath));return v.useMemo(()=>Kc(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function sv(e,t){return iv(e,t)}function iv(e,t,n,r){Is()||Ee(!1);let{navigator:s}=v.useContext(lr),{matches:i}=v.useContext(an),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let c=As(),f;if(t){var d;let E=typeof t=="string"?Os(t):t;u==="/"||(d=E.pathname)!=null&&d.startsWith(u)||Ee(!1),f=E}else f=c;let h=f.pathname||"/",y=h;if(u!=="/"){let E=u.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=Ry(e,{pathname:y}),C=cv(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:Xn([u,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Xn([u,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return t&&C?v.createElement($a.Provider,{value:{location:Ni({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Bn.Pop}},C):C}function lv(){let e=pv(),t=Jy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,i)}const av=v.createElement(lv,null);class ov extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(an.Provider,{value:this.props.routeContext},v.createElement(Mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uv(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(qc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(an.Provider,{value:t},r)}function cv(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let l=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let f=l.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);f>=0||Ee(!1),l=l.slice(0,Math.min(l.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<l.length;f++){let d=l[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:h,errors:y}=n,S=d.route.loader&&h[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||S){u=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((f,d,h)=>{let y,S=!1,C=null,E=null;n&&(y=o&&d.route.id?o[d.route.id]:void 0,C=d.route.errorElement||av,u&&(c<0&&h===0?(gv("route-fallback",!1),S=!0,E=null):c===h&&(S=!0,E=d.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,h+1)),p=()=>{let g;return y?g=C:S?g=E:d.route.Component?g=v.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=f,v.createElement(uv,{match:d,routeContext:{outlet:f,matches:m,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(ov,{location:n.location,revalidation:n.revalidation,component:C,error:y,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Vp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vp||{}),ha=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ha||{});function dv(e){let t=v.useContext(qc);return t||Ee(!1),t}function fv(e){let t=v.useContext(Xy);return t||Ee(!1),t}function hv(e){let t=v.useContext(an);return t||Ee(!1),t}function zp(e){let t=hv(),n=t.matches[t.matches.length-1];return n.route.id||Ee(!1),n.route.id}function pv(){var e;let t=v.useContext(Mp),n=fv(ha.UseRouteError),r=zp(ha.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function mv(){let{router:e}=dv(Vp.UseNavigateStable),t=zp(ha.UseNavigateStable),n=v.useRef(!1);return Dp(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ni({fromRouteId:t},i)))},[e,t])}const Mf={};function gv(e,t,n){!t&&!Mf[e]&&(Mf[e]=!0)}function yv(e){let{to:t,replace:n,state:r,relative:s}=e;Is()||Ee(!1);let{future:i,static:l}=v.useContext(lr),{matches:o}=v.useContext(an),{pathname:u}=As(),c=Ft(),f=Kc(t,Gc(o,i.v7_relativeSplatPath),u,s==="path"),d=JSON.stringify(f);return v.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function vv(e){return rv(e.context)}function st(e){Ee(!1)}function xv(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Bn.Pop,navigator:i,static:l=!1,future:o}=e;Is()&&Ee(!1);let u=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:u,navigator:i,static:l,future:Ni({v7_relativeSplatPath:!1},o)}),[u,o,i,l]);typeof r=="string"&&(r=Os(r));let{pathname:f="/",search:d="",hash:h="",state:y=null,key:S="default"}=r,C=v.useMemo(()=>{let E=Zc(f,u);return E==null?null:{location:{pathname:E,search:d,hash:h,state:y,key:S},navigationType:s}},[u,f,d,h,y,S,s]);return C==null?null:v.createElement(lr.Provider,{value:c},v.createElement($a.Provider,{children:n,value:C}))}function wv(e){let{children:t,location:n}=e;return sv(Ru(t),n)}new Promise(()=>{});function Ru(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Ru(r.props.children,i));return}r.type!==st&&Ee(!1),!r.props.index||!r.props.children||Ee(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ru(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ou.apply(this,arguments)}function Sv(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Cv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kv(e,t){return e.button===0&&(!t||t==="_self")&&!Cv(e)}const Ev=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],jv="6";try{window.__reactRouterVersion=jv}catch{}const _v="startTransition",Df=gm[_v];function Nv(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=by({window:s,v5Compat:!0}));let l=i.current,[o,u]=v.useState({action:l.action,location:l.location}),{v7_startTransition:c}=r||{},f=v.useCallback(d=>{c&&Df?Df(()=>u(d)):u(d)},[u,c]);return v.useLayoutEffect(()=>l.listen(f),[l,f]),v.createElement(xv,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const bv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ha=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:l,state:o,target:u,to:c,preventScrollReset:f,unstable_viewTransition:d}=t,h=Sv(t,Ev),{basename:y}=v.useContext(lr),S,C=!1;if(typeof c=="string"&&Lv.test(c)&&(S=c,bv))try{let g=new URL(window.location.href),k=c.startsWith("//")?new URL(g.protocol+c):new URL(c),N=Zc(k.pathname,y);k.origin===g.origin&&N!=null?c=N+k.search+k.hash:C=!0}catch{}let E=ev(c,{relative:s}),m=Pv(c,{replace:l,state:o,target:u,preventScrollReset:f,relative:s,unstable_viewTransition:d});function p(g){r&&r(g),g.defaultPrevented||m(g)}return v.createElement("a",Ou({},h,{href:S||E,onClick:C||i?r:p,ref:n,target:u}))});var Uf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Uf||(Uf={}));var Vf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vf||(Vf={}));function Pv(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:l,unstable_viewTransition:o}=t===void 0?{}:t,u=Ft(),c=As(),f=Up(e,{relative:l});return v.useCallback(d=>{if(kv(d,n)){d.preventDefault();let h=r!==void 0?r:fa(c)===fa(f);u(e,{replace:h,state:s,preventScrollReset:i,relative:l,unstable_viewTransition:o})}},[c,u,f,r,s,n,e,i,l,o])}const Rv="https://barsikchat.duckdns.org",Ov=()=>Rv,Ns="BarsikChat",Iv="v1.0.0",ml="dark",Av="light",Oo="theme",Tv=140,Fv=70,pa=3,ma=20,ga=8,Mv=2,Dv=10,Uv=25,Jc=/^[a-z0-9_-]+$/,Vv=/^(?!.*\s{2})[a-zA-Z0-9 ]+$/,zv=/^[^\W_]+\w*(?:[.-]\w*)*[^\W_]+@[^\W_]+(?:[.-]?\w*[^\W_]+)*(?:\.[^\W_]{2,})$/,$v="5",Bv="image/jpeg,image/png,image/webp",$p=v.createContext(),Bp={isSidebarOpen:!1,isAccountViewOpen:!1,isSearchViewOpen:!1,isDarkMode:!0,isFriendsSidebarOpen:!1,isMenuOpen:!1,searchQuery:""};function Hv(e,t){switch(t.type){case"OPEN_SIDEBAR":return{...e,isSidebarOpen:!0};case"CLOSE_SIDEBAR":return{...e,isSidebarOpen:!1};case"OPEN_ACCOUNT_VIEW":return{...e,isAccountViewOpen:!0,isMenuOpen:!1};case"CLOSE_ACCOUNT_VIEW":return{...e,isAccountViewOpen:!1};case"OPEN_SEARCH_VIEW":return{...e,isSearchViewOpen:!0};case"CLOSE_SEARCH_VIEW":return{...e,isSearchViewOpen:!1,searchQuery:""};case"UPDATE_DARK_MODE":return{...e,isDarkMode:t.payload};case"CLOSE_FRIEND_SIDEBAR":return{...e,isFriendsSidebarOpen:!1};case"OPEN_FRIEND_SIDEBAR":return{...e,isFriendsSidebarOpen:!0};case"TOGGLE_MENU":return{...e,isMenuOpen:!e.isMenuOpen};case"UPDATE_SEARCH_QUERY":return{...e,searchQuery:t.payload};case"RESET":return{...Bp,isDarkMode:e.isDarkMode};default:return e}}function Qv({children:e}){const[{isSidebarOpen:t,isAccountViewOpen:n,isSearchViewOpen:r,isDarkMode:s,isFriendsSidebarOpen:i,isMenuOpen:l,searchQuery:o},u]=v.useReducer(Hv,Bp);function c(){u({type:"OPEN_SIDEBAR"})}function f(){u({type:"CLOSE_SIDEBAR"})}function d(){u({type:"CLOSE_ACCOUNT_VIEW"}),window.removeEventListener("popstate",d)}function h(){u({type:"OPEN_ACCOUNT_VIEW"}),window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",d)}function y(){u({type:"CLOSE_ACCOUNT_VIEW"}),window.history.back(),window.removeEventListener("popstate",d)}function S(){u({type:"CLOSE_SEARCH_VIEW"}),window.removeEventListener("popstate",S)}function C(){u({type:"OPEN_SEARCH_VIEW"}),!r&&window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",S)}function E({back:I=!0}={}){I&&window.history.back(),u({type:"CLOSE_SEARCH_VIEW"}),window.removeEventListener("popstate",S)}function m(){u({type:"CLOSE_FRIEND_SIDEBAR"}),window.removeEventListener("popstate",m)}function p(){u({type:"OPEN_FRIEND_SIDEBAR"}),window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",m)}function g(){u({type:"CLOSE_FRIEND_SIDEBAR"}),window.history.back(),window.removeEventListener("popstate",m)}function k(){u({type:"TOGGLE_MENU"})}function N(I){u({type:"UPDATE_SEARCH_QUERY",payload:I})}function P(){u({type:"RESET"})}function R(I){u({type:"UPDATE_DARK_MODE",payload:I}),I?(document.documentElement.classList.add(ml),localStorage.setItem(Oo,ml)):(document.documentElement.classList.remove(ml),localStorage.setItem(Oo,Av))}v.useEffect(()=>{const I=localStorage.getItem(Oo),ae=window.matchMedia("(prefers-color-scheme: dark)").matches;let W;I?W=I===ml:ae?W=ae:W=!1,R(W)},[]);const Q={dispatch:u,isAccountViewOpen:n,openAccountView:h,closeAccountView:y,isSidebarOpen:t,openSidebar:c,closeSidebar:f,isSearchViewOpen:r,openSearchView:C,closeSearchView:E,isDarkMode:s,toggleDarkMode:()=>{R(!s)},isFriendsSidebarOpen:i,closeFriendSidebar:g,openFriendSidebar:p,isMenuOpen:l,toggleMenu:k,searchQuery:o,updateSearchQuery:N,resetUi:P};return a.jsx($p.Provider,{value:Q,children:e})}function mt(){const e=v.useContext($p);if(e===void 0)throw new Error("UiContext was used outside the UiProvider");return e}function Yc({children:e,isOpen:t,toggle:n,withOverlay:r=!0}){return a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{tabIndex:-1,onClick:()=>n(),className:`${r?"opacity-100":"opacity-0"} fixed inset-0 z-20 bg-black/10`}),e]})}var Hp={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zf=ee.createContext&&ee.createContext(Hp),er=globalThis&&globalThis.__assign||function(){return er=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},er.apply(this,arguments)},Wv=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function Qp(e){return e&&e.map(function(t,n){return ee.createElement(t.tag,er({key:n},t.attr),Qp(t.child))})}function ie(e){return function(t){return ee.createElement(Zv,er({attr:er({},e.attr)},t),Qp(e.child))}}function Zv(e){var t=function(n){var r=e.attr,s=e.size,i=e.title,l=Wv(e,["attr","size","title"]),o=s||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),ee.createElement("svg",er({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:u,style:er(er({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&ee.createElement("title",null,i),e.children)};return zf!==void 0?ee.createElement(zf.Consumer,null,function(n){return t(n)}):t(Hp)}function Iu(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15.22 3.22a.75.75 0 011.06 0L18 4.94l1.72-1.72a.75.75 0 111.06 1.06L19.06 6l1.72 1.72a.75.75 0 01-1.06 1.06L18 7.06l-1.72 1.72a.75.75 0 11-1.06-1.06L16.94 6l-1.72-1.72a.75.75 0 010-1.06zM1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z",clipRule:"evenodd"}}]})(e)}function Qa(e){return ie({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"}}]})(e)}function Gv(e){return ie({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"}}]})(e)}function Kv(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"}},{tag:"line",attr:{x1:"16",x2:"22",y1:"5",y2:"5"}},{tag:"line",attr:{x1:"19",x2:"19",y1:"2",y2:"8"}},{tag:"circle",attr:{cx:"9",cy:"9",r:"2"}},{tag:"path",attr:{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}}]})(e)}var Ts=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bs=typeof window>"u"||"Deno"in globalThis;function Lt(){}function qv(e,t){return typeof e=="function"?e(t):e}function Au(e){return typeof e=="number"&&e>=0&&e!==1/0}function Wp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function is(e,t){return typeof e=="function"?e(t):e}function $t(e,t){return typeof e=="function"?e(t):e}function $f(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:l,stale:o}=e;if(l){if(r){if(t.queryHash!==Xc(l,t.options))return!1}else if(!bi(t.queryKey,l))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function Bf(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Or(t.options.mutationKey)!==Or(i))return!1}else if(!bi(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Xc(e,t){return((t==null?void 0:t.queryKeyHashFn)||Or)(e)}function Or(e){return JSON.stringify(e,(t,n)=>Tu(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function bi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!bi(e[n],t[n])):!1}function Zp(e,t){if(e===t)return e;const n=Hf(e)&&Hf(t);if(n||Tu(e)&&Tu(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),l=i.length,o=n?[]:{};let u=0;for(let c=0;c<l;c++){const f=n?c:i[c];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(o[f]=void 0,u++):(o[f]=Zp(e[f],t[f]),o[f]===e[f]&&e[f]!==void 0&&u++)}return s===l&&u===s?e:o}return t}function ya(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Hf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tu(e){if(!Qf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Qf(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Qf(e){return Object.prototype.toString.call(e)==="[object Object]"}function Jv(e){return new Promise(t=>{setTimeout(t,e)})}function Fu(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Zp(e,t):t}function Yv(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Xv(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Gp=Symbol();function Kp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var yr,In,ls,dh,e2=(dh=class extends Ts{constructor(){super();B(this,yr,void 0);B(this,In,void 0);B(this,ls,void 0);V(this,ls,t=>{if(!bs&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){x(this,In)||this.setEventListener(x(this,ls))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,In))==null||t.call(this),V(this,In,void 0))}setEventListener(t){var n;V(this,ls,t),(n=x(this,In))==null||n.call(this),V(this,In,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){x(this,yr)!==t&&(V(this,yr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof x(this,yr)=="boolean"?x(this,yr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},yr=new WeakMap,In=new WeakMap,ls=new WeakMap,dh),ed=new e2,as,An,os,fh,t2=(fh=class extends Ts{constructor(){super();B(this,as,!0);B(this,An,void 0);B(this,os,void 0);V(this,os,t=>{if(!bs&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){x(this,An)||this.setEventListener(x(this,os))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,An))==null||t.call(this),V(this,An,void 0))}setEventListener(t){var n;V(this,os,t),(n=x(this,An))==null||n.call(this),V(this,An,t(this.setOnline.bind(this)))}setOnline(t){x(this,as)!==t&&(V(this,as,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return x(this,as)}},as=new WeakMap,An=new WeakMap,os=new WeakMap,fh),va=new t2;function n2(e){return Math.min(1e3*2**e,3e4)}function qp(e){return(e??"online")==="online"?va.isOnline():!0}var Jp=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Io(e){return e instanceof Jp}function Yp(e){let t=!1,n=0,r=!1,s,i,l;const o=new Promise((m,p)=>{i=m,l=p}),u=m=>{var p;r||(S(new Jp(m)),(p=e.abort)==null||p.call(e))},c=()=>{t=!0},f=()=>{t=!1},d=()=>ed.isFocused()&&(e.networkMode==="always"||va.isOnline())&&e.canRun(),h=()=>qp(e.networkMode)&&e.canRun(),y=m=>{var p;r||(r=!0,(p=e.onSuccess)==null||p.call(e,m),s==null||s(),i(m))},S=m=>{var p;r||(r=!0,(p=e.onError)==null||p.call(e,m),s==null||s(),l(m))},C=()=>new Promise(m=>{var p;s=g=>{(r||d())&&m(g)},(p=e.onPause)==null||p.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),E=()=>{if(r)return;let m;const p=n===0?e.initialPromise:void 0;try{m=p??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(y).catch(g=>{var L;if(r)return;const k=e.retry??(bs?0:3),N=e.retryDelay??n2,P=typeof N=="function"?N(n,g):N,R=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,g);if(t||!R){S(g);return}n++,(L=e.onFail)==null||L.call(e,n,g),Jv(P).then(()=>d()?void 0:C()).then(()=>{t?S(g):E()})})};return{promise:o,cancel:u,continue:()=>(s==null||s(),o),cancelRetry:c,continueRetry:f,canStart:h,start:()=>(h()?E():C().then(E),o)}}function r2(){let e=[],t=0,n=h=>{h()},r=h=>{h()},s=h=>setTimeout(h,0);const i=h=>{s=h},l=h=>{let y;t++;try{y=h()}finally{t--,t||c()}return y},o=h=>{t?e.push(h):s(()=>{n(h)})},u=h=>(...y)=>{o(()=>{h(...y)})},c=()=>{const h=e;e=[],h.length&&s(()=>{r(()=>{h.forEach(y=>{n(y)})})})};return{batch:l,batchCalls:u,schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:i}}var Pe=r2(),vr,hh,Xp=(hh=class{constructor(){B(this,vr,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Au(this.gcTime)&&V(this,vr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bs?1/0:5*60*1e3))}clearGcTimeout(){x(this,vr)&&(clearTimeout(x(this,vr)),V(this,vr,void 0))}},vr=new WeakMap,hh),us,cs,bt,Qe,Li,xr,Ut,cn,ph,s2=(ph=class extends Xp{constructor(t){super();B(this,Ut);B(this,us,void 0);B(this,cs,void 0);B(this,bt,void 0);B(this,Qe,void 0);B(this,Li,void 0);B(this,xr,void 0);V(this,xr,!1),V(this,Li,t.defaultOptions),this.setOptions(t.options),this.observers=[],V(this,bt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,V(this,us,t.state||i2(this.options)),this.state=x(this,us),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=x(this,Qe))==null?void 0:t.promise}setOptions(t){this.options={...x(this,Li),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,bt).remove(this)}setData(t,n){const r=Fu(this.state.data,t,this.options);return G(this,Ut,cn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){G(this,Ut,cn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=x(this,Qe))==null?void 0:r.promise;return(s=x(this,Qe))==null||s.cancel(t),n?n.then(Lt).catch(Lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,us))}isActive(){return this.observers.some(t=>$t(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Wp(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,Qe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,Qe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),x(this,bt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(x(this,Qe)&&(x(this,xr)?x(this,Qe).cancel({revert:!0}):x(this,Qe).cancelRetry()),this.scheduleGc()),x(this,bt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||G(this,Ut,cn).call(this,{type:"invalidate"})}fetch(t,n){var u,c,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(x(this,Qe))return x(this,Qe).continueRetry(),x(this,Qe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(V(this,xr,!0),r.signal)})},i=()=>{const d=Kp(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),V(this,xr,!1),this.options.persister?this.options.persister(d,h,this):d(h)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(l),(u=this.options.behavior)==null||u.onFetch(l,this),V(this,cs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=l.fetchOptions)==null?void 0:c.meta))&&G(this,Ut,cn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const o=d=>{var h,y,S,C;Io(d)&&d.silent||G(this,Ut,cn).call(this,{type:"error",error:d}),Io(d)||((y=(h=x(this,bt).config).onError)==null||y.call(h,d,this),(C=(S=x(this,bt).config).onSettled)==null||C.call(S,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return V(this,Qe,Yp({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,y,S,C;if(d===void 0){o(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(y=(h=x(this,bt).config).onSuccess)==null||y.call(h,d,this),(C=(S=x(this,bt).config).onSettled)==null||C.call(S,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:o,onFail:(d,h)=>{G(this,Ut,cn).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{G(this,Ut,cn).call(this,{type:"pause"})},onContinue:()=>{G(this,Ut,cn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),x(this,Qe).start()}},us=new WeakMap,cs=new WeakMap,bt=new WeakMap,Qe=new WeakMap,Li=new WeakMap,xr=new WeakMap,Ut=new WeakSet,cn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...e1(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Io(s)&&s.revert&&x(this,cs)?{...x(this,cs),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Pe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),x(this,bt).notify({query:this,type:"updated",action:t})})},ph);function e1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qp(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function i2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qt,mh,l2=(mh=class extends Ts{constructor(t={}){super();B(this,qt,void 0);this.config=t,V(this,qt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Xc(s,n);let l=this.get(i);return l||(l=new s2({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){x(this,qt).has(t.queryHash)||(x(this,qt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=x(this,qt).get(t.queryHash);n&&(t.destroy(),n===t&&x(this,qt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return x(this,qt).get(t)}getAll(){return[...x(this,qt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>$f(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>$f(t,r)):n}notify(t){Pe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Pe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qt=new WeakMap,mh),Jt,Ke,wr,Yt,Nn,gh,a2=(gh=class extends Xp{constructor(t){super();B(this,Yt);B(this,Jt,void 0);B(this,Ke,void 0);B(this,wr,void 0);this.mutationId=t.mutationId,V(this,Ke,t.mutationCache),V(this,Jt,[]),this.state=t.state||t1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){x(this,Jt).includes(t)||(x(this,Jt).push(t),this.clearGcTimeout(),x(this,Ke).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){V(this,Jt,x(this,Jt).filter(n=>n!==t)),this.scheduleGc(),x(this,Ke).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){x(this,Jt).length||(this.state.status==="pending"?this.scheduleGc():x(this,Ke).remove(this))}continue(){var t;return((t=x(this,wr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,l,o,u,c,f,d,h,y,S,C,E,m,p,g,k,N,P,R;V(this,wr,Yp({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,Q)=>{G(this,Yt,Nn).call(this,{type:"failed",failureCount:L,error:Q})},onPause:()=>{G(this,Yt,Nn).call(this,{type:"pause"})},onContinue:()=>{G(this,Yt,Nn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,Ke).canRun(this)}));const n=this.state.status==="pending",r=!x(this,wr).canStart();try{if(!n){G(this,Yt,Nn).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(s=x(this,Ke).config).onMutate)==null?void 0:i.call(s,t,this));const Q=await((o=(l=this.options).onMutate)==null?void 0:o.call(l,t));Q!==this.state.context&&G(this,Yt,Nn).call(this,{type:"pending",context:Q,variables:t,isPaused:r})}const L=await x(this,wr).start();return await((c=(u=x(this,Ke).config).onSuccess)==null?void 0:c.call(u,L,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,L,t,this.state.context)),await((y=(h=x(this,Ke).config).onSettled)==null?void 0:y.call(h,L,null,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,L,null,t,this.state.context)),G(this,Yt,Nn).call(this,{type:"success",data:L}),L}catch(L){try{throw await((m=(E=x(this,Ke).config).onError)==null?void 0:m.call(E,L,t,this.state.context,this)),await((g=(p=this.options).onError)==null?void 0:g.call(p,L,t,this.state.context)),await((N=(k=x(this,Ke).config).onSettled)==null?void 0:N.call(k,void 0,L,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,void 0,L,t,this.state.context)),L}finally{G(this,Yt,Nn).call(this,{type:"error",error:L})}}finally{x(this,Ke).runNext(this)}}},Jt=new WeakMap,Ke=new WeakMap,wr=new WeakMap,Yt=new WeakSet,Nn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Pe.batch(()=>{x(this,Jt).forEach(r=>{r.onMutationUpdate(t)}),x(this,Ke).notify({mutation:this,type:"updated",action:t})})},gh);function t1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vt,Pi,yh,o2=(yh=class extends Ts{constructor(t={}){super();B(this,vt,void 0);B(this,Pi,void 0);this.config=t,V(this,vt,new Map),V(this,Pi,Date.now())}build(t,n,r){const s=new a2({mutationCache:this,mutationId:++Ji(this,Pi)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=gl(t),r=x(this,vt).get(n)??[];r.push(t),x(this,vt).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=gl(t);if(x(this,vt).has(n)){const s=(r=x(this,vt).get(n))==null?void 0:r.filter(i=>i!==t);s&&(s.length===0?x(this,vt).delete(n):x(this,vt).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=x(this,vt).get(gl(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=x(this,vt).get(gl(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Pe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...x(this,vt).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Bf(n,r))}findAll(t={}){return this.getAll().filter(n=>Bf(t,n))}notify(t){Pe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Pe.batch(()=>Promise.all(t.map(n=>n.continue().catch(Lt))))}},vt=new WeakMap,Pi=new WeakMap,yh);function gl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Mu(e){return{onFetch:(t,n)=>{const r=async()=>{var S,C,E,m,p;const s=t.options,i=(E=(C=(S=t.fetchOptions)==null?void 0:S.meta)==null?void 0:C.fetchMore)==null?void 0:E.direction,l=((m=t.state.data)==null?void 0:m.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[],u={pages:[],pageParams:[]};let c=!1;const f=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?c=!0:t.signal.addEventListener("abort",()=>{c=!0}),t.signal)})},d=Kp(t.options,t.fetchOptions),h=async(g,k,N)=>{if(c)return Promise.reject();if(k==null&&g.pages.length)return Promise.resolve(g);const P={queryKey:t.queryKey,pageParam:k,direction:N?"backward":"forward",meta:t.options.meta};f(P);const R=await d(P),{maxPages:L}=t.options,Q=N?Xv:Yv;return{pages:Q(g.pages,R,L),pageParams:Q(g.pageParams,k,L)}};let y;if(i&&l.length){const g=i==="backward",k=g?n1:Du,N={pages:l,pageParams:o},P=k(s,N);y=await h(N,P,g)}else{y=await h(u,o[0]??s.initialPageParam);const g=e??l.length;for(let k=1;k<g;k++){const N=Du(s,y);if(N==null)break;y=await h(y,N)}}return y};t.options.persister?t.fetchFn=()=>{var s,i;return(i=(s=t.options).persister)==null?void 0:i.call(s,r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=r}}}function Du(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function n1(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}function u2(e,t){return t?Du(e,t)!=null:!1}function c2(e,t){return!t||!e.getPreviousPageParam?!1:n1(e,t)!=null}var xe,Tn,Fn,ds,fs,Mn,hs,ps,vh,d2=(vh=class{constructor(e={}){B(this,xe,void 0);B(this,Tn,void 0);B(this,Fn,void 0);B(this,ds,void 0);B(this,fs,void 0);B(this,Mn,void 0);B(this,hs,void 0);B(this,ps,void 0);V(this,xe,e.queryCache||new l2),V(this,Tn,e.mutationCache||new o2),V(this,Fn,e.defaultOptions||{}),V(this,ds,new Map),V(this,fs,new Map),V(this,Mn,0)}mount(){Ji(this,Mn)._++,x(this,Mn)===1&&(V(this,hs,ed.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,xe).onFocus())})),V(this,ps,va.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,xe).onOnline())})))}unmount(){var e,t;Ji(this,Mn)._--,x(this,Mn)===0&&((e=x(this,hs))==null||e.call(this),V(this,hs,void 0),(t=x(this,ps))==null||t.call(this),V(this,ps,void 0))}isFetching(e){return x(this,xe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,Tn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,xe).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=x(this,xe).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(is(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return x(this,xe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=x(this,xe).get(r.queryHash),i=s==null?void 0:s.state.data,l=qv(t,i);if(l!==void 0)return x(this,xe).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Pe.batch(()=>x(this,xe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,xe).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=x(this,xe);Pe.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=x(this,xe),r={type:"active",...e};return Pe.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Pe.batch(()=>x(this,xe).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Lt).catch(Lt)}invalidateQueries(e={},t={}){return Pe.batch(()=>{if(x(this,xe).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Pe.batch(()=>x(this,xe).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Lt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Lt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=x(this,xe).build(this,t);return n.isStaleByTime(is(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Lt).catch(Lt)}fetchInfiniteQuery(e){return e.behavior=Mu(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Lt).catch(Lt)}resumePausedMutations(){return va.isOnline()?x(this,Tn).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,xe)}getMutationCache(){return x(this,Tn)}getDefaultOptions(){return x(this,Fn)}setDefaultOptions(e){V(this,Fn,e)}setQueryDefaults(e,t){x(this,ds).set(Or(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...x(this,ds).values()];let n={};return t.forEach(r=>{bi(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){x(this,fs).set(Or(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...x(this,fs).values()];let n={};return t.forEach(r=>{bi(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...x(this,Fn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xc(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Gp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,Fn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,xe).clear(),x(this,Tn).clear()}},xe=new WeakMap,Tn=new WeakMap,Fn=new WeakMap,ds=new WeakMap,fs=new WeakMap,Mn=new WeakMap,hs=new WeakMap,ps=new WeakMap,vh),lt,X,Ri,qe,Sr,ms,Xt,Oi,gs,ys,Cr,kr,Dn,vs,Er,Js,Ii,Uu,Ai,Vu,Ti,zu,Fi,$u,Mi,Bu,Di,Hu,Ui,Qu,ja,s1,xh,r1=(xh=class extends Ts{constructor(t,n){super();B(this,Er);B(this,Ii);B(this,Ai);B(this,Ti);B(this,Fi);B(this,Mi);B(this,Di);B(this,Ui);B(this,ja);B(this,lt,void 0);B(this,X,void 0);B(this,Ri,void 0);B(this,qe,void 0);B(this,Sr,void 0);B(this,ms,void 0);B(this,Xt,void 0);B(this,Oi,void 0);B(this,gs,void 0);B(this,ys,void 0);B(this,Cr,void 0);B(this,kr,void 0);B(this,Dn,void 0);B(this,vs,new Set);this.options=n,V(this,lt,t),V(this,Xt,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,X).addObserver(this),Wf(x(this,X),this.options)?G(this,Er,Js).call(this):this.updateResult(),G(this,Fi,$u).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wu(x(this,X),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wu(x(this,X),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,Mi,Bu).call(this),G(this,Di,Hu).call(this),x(this,X).removeObserver(this)}setOptions(t,n){const r=this.options,s=x(this,X);if(this.options=x(this,lt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $t(this.options.enabled,x(this,X))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,Ui,Qu).call(this),x(this,X).setOptions(this.options),r._defaulted&&!ya(this.options,r)&&x(this,lt).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,X),observer:this});const i=this.hasListeners();i&&Zf(x(this,X),s,this.options,r)&&G(this,Er,Js).call(this),this.updateResult(n),i&&(x(this,X)!==s||$t(this.options.enabled,x(this,X))!==$t(r.enabled,x(this,X))||is(this.options.staleTime,x(this,X))!==is(r.staleTime,x(this,X)))&&G(this,Ii,Uu).call(this);const l=G(this,Ai,Vu).call(this);i&&(x(this,X)!==s||$t(this.options.enabled,x(this,X))!==$t(r.enabled,x(this,X))||l!==x(this,Dn))&&G(this,Ti,zu).call(this,l)}getOptimisticResult(t){const n=x(this,lt).getQueryCache().build(x(this,lt),t),r=this.createResult(n,t);return h2(this,r)&&(V(this,qe,r),V(this,ms,this.options),V(this,Sr,x(this,X).state)),r}getCurrentResult(){return x(this,qe)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){x(this,vs).add(t)}getCurrentQuery(){return x(this,X)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=x(this,lt).defaultQueryOptions(t),r=x(this,lt).getQueryCache().build(x(this,lt),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return G(this,Er,Js).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,qe)))}createResult(t,n){var R;const r=x(this,X),s=this.options,i=x(this,qe),l=x(this,Sr),o=x(this,ms),c=t!==r?t.state:x(this,Ri),{state:f}=t;let d={...f},h=!1,y;if(n._optimisticResults){const L=this.hasListeners(),Q=!L&&Wf(t,n),I=L&&Zf(t,r,n,s);(Q||I)&&(d={...d,...e1(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:S,errorUpdatedAt:C,status:E}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(l==null?void 0:l.data)&&n.select===x(this,Oi))y=x(this,gs);else try{V(this,Oi,n.select),y=n.select(d.data),y=Fu(i==null?void 0:i.data,y,n),V(this,gs,y),V(this,Xt,null)}catch(L){V(this,Xt,L)}else y=d.data;if(n.placeholderData!==void 0&&y===void 0&&E==="pending"){let L;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData))L=i.data;else if(L=typeof n.placeholderData=="function"?n.placeholderData((R=x(this,ys))==null?void 0:R.state.data,x(this,ys)):n.placeholderData,n.select&&L!==void 0)try{L=n.select(L),V(this,Xt,null)}catch(Q){V(this,Xt,Q)}L!==void 0&&(E="success",y=Fu(i==null?void 0:i.data,L,n),h=!0)}x(this,Xt)&&(S=x(this,Xt),y=x(this,gs),C=Date.now(),E="error");const m=d.fetchStatus==="fetching",p=E==="pending",g=E==="error",k=p&&m,N=y!==void 0;return{status:E,fetchStatus:d.fetchStatus,isPending:p,isSuccess:E==="success",isError:g,isInitialLoading:k,isLoading:k,data:y,dataUpdatedAt:d.dataUpdatedAt,error:S,errorUpdatedAt:C,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:m,isRefetching:m&&!p,isLoadingError:g&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:g&&N,isStale:td(t,n),refetch:this.refetch}}updateResult(t){const n=x(this,qe),r=this.createResult(x(this,X),this.options);if(V(this,Sr,x(this,X).state),V(this,ms,this.options),x(this,Sr).data!==void 0&&V(this,ys,x(this,X)),ya(r,n))return;V(this,qe,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:l}=this.options,o=typeof l=="function"?l():l;if(o==="all"||!o&&!x(this,vs).size)return!0;const u=new Set(o??x(this,vs));return this.options.throwOnError&&u.add("error"),Object.keys(x(this,qe)).some(c=>{const f=c;return x(this,qe)[f]!==n[f]&&u.has(f)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),G(this,ja,s1).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,Fi,$u).call(this)}},lt=new WeakMap,X=new WeakMap,Ri=new WeakMap,qe=new WeakMap,Sr=new WeakMap,ms=new WeakMap,Xt=new WeakMap,Oi=new WeakMap,gs=new WeakMap,ys=new WeakMap,Cr=new WeakMap,kr=new WeakMap,Dn=new WeakMap,vs=new WeakMap,Er=new WeakSet,Js=function(t){G(this,Ui,Qu).call(this);let n=x(this,X).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Lt)),n},Ii=new WeakSet,Uu=function(){G(this,Mi,Bu).call(this);const t=is(this.options.staleTime,x(this,X));if(bs||x(this,qe).isStale||!Au(t))return;const r=Wp(x(this,qe).dataUpdatedAt,t)+1;V(this,Cr,setTimeout(()=>{x(this,qe).isStale||this.updateResult()},r))},Ai=new WeakSet,Vu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,X)):this.options.refetchInterval)??!1},Ti=new WeakSet,zu=function(t){G(this,Di,Hu).call(this),V(this,Dn,t),!(bs||$t(this.options.enabled,x(this,X))===!1||!Au(x(this,Dn))||x(this,Dn)===0)&&V(this,kr,setInterval(()=>{(this.options.refetchIntervalInBackground||ed.isFocused())&&G(this,Er,Js).call(this)},x(this,Dn)))},Fi=new WeakSet,$u=function(){G(this,Ii,Uu).call(this),G(this,Ti,zu).call(this,G(this,Ai,Vu).call(this))},Mi=new WeakSet,Bu=function(){x(this,Cr)&&(clearTimeout(x(this,Cr)),V(this,Cr,void 0))},Di=new WeakSet,Hu=function(){x(this,kr)&&(clearInterval(x(this,kr)),V(this,kr,void 0))},Ui=new WeakSet,Qu=function(){const t=x(this,lt).getQueryCache().build(x(this,lt),this.options);if(t===x(this,X))return;const n=x(this,X);V(this,X,t),V(this,Ri,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},ja=new WeakSet,s1=function(t){Pe.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(x(this,qe))}),x(this,lt).getQueryCache().notify({query:x(this,X),type:"observerResultsUpdated"})})},xh);function f2(e,t){return $t(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Wf(e,t){return f2(e,t)||e.state.data!==void 0&&Wu(e,t,t.refetchOnMount)}function Wu(e,t,n){if($t(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&td(e,t)}return!1}function Zf(e,t,n,r){return(e!==t||$t(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&td(e,n)}function td(e,t){return $t(t.enabled,e)!==!1&&e.isStaleByTime(is(t.staleTime,e))}function h2(e,t){return!ya(e.getCurrentResult(),t)}var p2=class extends r1{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:Mu()},t)}getOptimisticResult(e){return e.behavior=Mu(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var S,C;const{state:n}=e,r=super.createResult(e,t),{isFetching:s,isRefetching:i,isError:l,isRefetchError:o}=r,u=(C=(S=n.fetchMeta)==null?void 0:S.fetchMore)==null?void 0:C.direction,c=l&&u==="forward",f=s&&u==="forward",d=l&&u==="backward",h=s&&u==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:u2(t,n.data),hasPreviousPage:c2(t,n.data),isFetchNextPageError:c,isFetchingNextPage:f,isFetchPreviousPageError:d,isFetchingPreviousPage:h,isRefetchError:o&&!c&&!d,isRefetching:i&&!f&&!h}}},Un,Vn,at,hn,xs,Al,Vi,Zu,wh,m2=(wh=class extends Ts{constructor(n,r){super();B(this,xs);B(this,Vi);B(this,Un,void 0);B(this,Vn,void 0);B(this,at,void 0);B(this,hn,void 0);V(this,Un,n),this.setOptions(r),this.bindMethods(),G(this,xs,Al).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=x(this,Un).defaultMutationOptions(n),ya(this.options,r)||x(this,Un).getMutationCache().notify({type:"observerOptionsUpdated",mutation:x(this,at),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Or(r.mutationKey)!==Or(this.options.mutationKey)?this.reset():((s=x(this,at))==null?void 0:s.state.status)==="pending"&&x(this,at).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=x(this,at))==null||n.removeObserver(this)}onMutationUpdate(n){G(this,xs,Al).call(this),G(this,Vi,Zu).call(this,n)}getCurrentResult(){return x(this,Vn)}reset(){var n;(n=x(this,at))==null||n.removeObserver(this),V(this,at,void 0),G(this,xs,Al).call(this),G(this,Vi,Zu).call(this)}mutate(n,r){var s;return V(this,hn,r),(s=x(this,at))==null||s.removeObserver(this),V(this,at,x(this,Un).getMutationCache().build(x(this,Un),this.options)),x(this,at).addObserver(this),x(this,at).execute(n)}},Un=new WeakMap,Vn=new WeakMap,at=new WeakMap,hn=new WeakMap,xs=new WeakSet,Al=function(){var r;const n=((r=x(this,at))==null?void 0:r.state)??t1();V(this,Vn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Vi=new WeakSet,Zu=function(n){Pe.batch(()=>{var r,s,i,l,o,u,c,f;if(x(this,hn)&&this.hasListeners()){const d=x(this,Vn).variables,h=x(this,Vn).context;(n==null?void 0:n.type)==="success"?((s=(r=x(this,hn)).onSuccess)==null||s.call(r,n.data,d,h),(l=(i=x(this,hn)).onSettled)==null||l.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((u=(o=x(this,hn)).onError)==null||u.call(o,n.error,d,h),(f=(c=x(this,hn)).onSettled)==null||f.call(c,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(x(this,Vn))})})},wh),i1=v.createContext(void 0),Zt=e=>{const t=v.useContext(i1);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},g2=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(i1.Provider,{value:e,children:t})),l1=v.createContext(!1),y2=()=>v.useContext(l1);l1.Provider;function v2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var x2=v.createContext(v2()),w2=()=>v.useContext(x2);function a1(e,t){return typeof e=="function"?e(...t):!!e}function S2(){}var C2=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},k2=e=>{v.useEffect(()=>{e.clearReset()},[e])},E2=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&a1(n,[e.error,r]),j2=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},_2=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,N2=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function o1(e,t,n){var c,f,d,h;const r=Zt(n),s=y2(),i=w2(),l=r.defaultQueryOptions(e);(f=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||f.call(c,l),l._optimisticResults=s?"isRestoring":"optimistic",j2(l),C2(l,i),k2(i);const[o]=v.useState(()=>new t(r,l)),u=o.getOptimisticResult(l);if(v.useSyncExternalStore(v.useCallback(y=>{const S=s?()=>{}:o.subscribe(Pe.batchCalls(y));return o.updateResult(),S},[o,s]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),v.useEffect(()=>{o.setOptions(l,{listeners:!1})},[l,o]),_2(l,u))throw N2(l,o,i);if(E2({result:u,errorResetBoundary:i,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash)}))throw u.error;return(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||h.call(d,l,u),l.notifyOnChangeProps?u:o.trackResult(u)}function Wi(e,t){return o1(e,r1,t)}function Fs(e,t){const n=Zt(t),[r]=v.useState(()=>new m2(n,e));v.useEffect(()=>{r.setOptions(e)},[r,e]);const s=v.useSyncExternalStore(v.useCallback(l=>r.subscribe(Pe.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=v.useCallback((l,o)=>{r.mutate(l,o).catch(S2)},[r]);if(s.error&&a1(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function b2(e,t){return o1(e,p2,t)}const L2="https://mock.supabase.co",ce="user-me-001",He=[{id:ce,fullname:" ",username:"alexey",email:"alexey@demo.com",bio:"!   BarsikChat!",avatar_url:"https://i.pravatar.cc/150?img=11"},{id:"user-002",fullname:" ",username:"maria",email:"maria@demo.com",bio:" !",avatar_url:"https://i.pravatar.cc/150?img=5"},{id:"user-003",fullname:" ",username:"dmitry",email:"dmitry@demo.com",bio:"Full-stack developer",avatar_url:"https://i.pravatar.cc/150?img=12"},{id:"user-004",fullname:" ",username:"anna",email:"anna@demo.com",bio:" UI/UX",avatar_url:"https://i.pravatar.cc/150?img=9"},{id:"user-005",fullname:" ",username:"sergey",email:"sergey@demo.com",bio:"DevOps ",avatar_url:"https://i.pravatar.cc/150?img=15"},{id:"user-006",fullname:" ",username:"kate",email:"kate@demo.com",bio:"Product Manager",avatar_url:"https://i.pravatar.cc/150?img=20"}],nd=[{id:"conv-001",user1_id:ce,user2_id:"user-002",last_message:{content:",  ! ",created_at:"2026-02-26T10:30:00Z",sender_id:"user-002"},created_at:"2026-02-20T08:00:00Z"},{id:"conv-002",user1_id:ce,user2_id:"user-003",last_message:{content:" pull request,    ",created_at:"2026-02-26T09:15:00Z",sender_id:"user-003"},created_at:"2026-02-19T14:00:00Z"},{id:"conv-003",user1_id:"user-004",user2_id:ce,last_message:{content:" ,   Figma ",created_at:"2026-02-25T18:45:00Z",sender_id:"user-004"},created_at:"2026-02-18T10:00:00Z"},{id:"conv-004",user1_id:ce,user2_id:"user-005",last_message:{content:"   ",created_at:"2026-02-25T15:20:00Z",sender_id:ce},created_at:"2026-02-17T09:00:00Z"},{id:"conv-005",user1_id:"user-006",user2_id:ce,last_message:{content:"   ",created_at:"2026-02-24T12:00:00Z",sender_id:"user-006"},created_at:"2026-02-16T11:00:00Z"}],Tl={"conv-001":[{id:"m001",conversation_id:"conv-001",sender_id:ce,content:", !  ?",created_at:"2026-02-26T10:00:00Z"},{id:"m002",conversation_id:"conv-001",sender_id:"user-002",content:"!  ,    ",created_at:"2026-02-26T10:05:00Z"},{id:"m003",conversation_id:"conv-001",sender_id:ce,content:"!   ?",created_at:"2026-02-26T10:10:00Z"},{id:"m004",conversation_id:"conv-001",sender_id:"user-002",content:"  React,   ",created_at:"2026-02-26T10:15:00Z"},{id:"m005",conversation_id:"conv-001",sender_id:ce,content:" ! ,  ?",created_at:"2026-02-26T10:20:00Z"},{id:"m006",conversation_id:"conv-001",sender_id:"user-002",content:",    ?",created_at:"2026-02-26T10:25:00Z"},{id:"m007",conversation_id:"conv-001",sender_id:ce,content:",  14:00 ?",created_at:"2026-02-26T10:27:00Z"},{id:"m008",conversation_id:"conv-001",sender_id:"user-002",content:",  !",created_at:"2026-02-26T10:30:00Z"}],"conv-002":[{id:"m010",conversation_id:"conv-002",sender_id:"user-003",content:"!      ?",created_at:"2026-02-26T08:30:00Z"},{id:"m011",conversation_id:"conv-002",sender_id:ce,content:",  .     WebSocket",created_at:"2026-02-26T08:35:00Z"},{id:"m012",conversation_id:"conv-002",sender_id:"user-003",content:"   race condition  ",created_at:"2026-02-26T08:50:00Z"},{id:"m013",conversation_id:"conv-002",sender_id:ce,content:",   debounce  reconnect",created_at:"2026-02-26T09:00:00Z"},{id:"m014",conversation_id:"conv-002",sender_id:"user-003",content:" , ",created_at:"2026-02-26T09:05:00Z"},{id:"m015",conversation_id:"conv-002",sender_id:"user-003",content:" pull request,    ",created_at:"2026-02-26T09:15:00Z"}],"conv-003":[{id:"m020",conversation_id:"conv-003",sender_id:"user-004",content:"!     ",created_at:"2026-02-25T14:00:00Z"},{id:"m021",conversation_id:"conv-003",sender_id:ce,content:"!   ?",created_at:"2026-02-25T14:10:00Z"},{id:"m022",conversation_id:"conv-003",sender_id:"user-004",content:"  +     ",created_at:"2026-02-25T14:15:00Z"},{id:"m023",conversation_id:"conv-003",sender_id:ce,content:" !    ",created_at:"2026-02-25T14:20:00Z"},{id:"m024",conversation_id:"conv-003",sender_id:"user-004",content:" ,   Figma",created_at:"2026-02-25T18:45:00Z"}],"conv-004":[{id:"m030",conversation_id:"conv-004",sender_id:ce,content:",   CI/CD ?",created_at:"2026-02-25T14:00:00Z"},{id:"m031",conversation_id:"conv-004",sender_id:"user-005",content:" .    ",created_at:"2026-02-25T14:10:00Z"},{id:"m032",conversation_id:"conv-004",sender_id:ce,content:",   ",created_at:"2026-02-25T14:15:00Z"},{id:"m033",conversation_id:"conv-004",sender_id:"user-005",content:"    env   Docker",created_at:"2026-02-25T14:30:00Z"},{id:"m034",conversation_id:"conv-004",sender_id:ce,content:",  ",created_at:"2026-02-25T15:00:00Z"},{id:"m035",conversation_id:"conv-004",sender_id:ce,content:"  !",created_at:"2026-02-25T15:20:00Z"}],"conv-005":[{id:"m040",conversation_id:"conv-005",sender_id:"user-006",content:"!      Q2",created_at:"2026-02-24T10:00:00Z"},{id:"m041",conversation_id:"conv-005",sender_id:ce,content:", .  ?",created_at:"2026-02-24T10:15:00Z"},{id:"m042",conversation_id:"conv-005",sender_id:"user-006",content:"   ",created_at:"2026-02-24T12:00:00Z"}]};function P2(e){let t=[],n=null,r=!0,s=null,i=null;function l(){switch(e){case"users":return[...He];case"conversations":return[...nd];case"messages":{const u=[];for(const c of Object.values(Tl))u.push(...c);return u}case"usernames":return He.map(u=>({username:u.username}));default:return[]}}const o={select(u){return o},eq(u,c){return t.push(f=>f[u]===c),o},in(u,c){return t.push(f=>c.includes(f[u])),o},or(u){const f=u.split(",").map(d=>{const[h,y,...S]=d.split("."),C=S.join(".");if(y==="eq")return E=>E[h]===C;if(y==="ilike"){const E=C.replace(/%/g,"").toLowerCase();return m=>m[h]&&m[h].toLowerCase().includes(E)}return()=>!0});return t.push(d=>f.some(h=>h(d))),o},order(u,c={}){return n=u,r=c.ascending!==!1,o},range(u,c){return s=u,i=c,o},then(u){try{let c=l();for(const f of t)c=c.filter(f);if(n){const f=d=>{var h;if(n.includes("->")){const[y,S]=n.split("->");return(h=d[y])==null?void 0:h[S]}return d[n]};c.sort((d,h)=>{const y=f(d)||"",S=f(h)||"";return r?String(y).localeCompare(String(S)):String(S).localeCompare(String(y))})}s!==null&&i!==null&&(c=c.slice(s,i+1)),u({data:c,error:null})}catch(c){u({data:null,error:{message:c.message}})}}};return o}function R2(e,t){return{select(){return{then(r){if(e==="conversations"){const s={id:"conv-new-"+Date.now(),...t[0],user1_id:ce,last_message:null,created_at:new Date().toISOString()};nd.push(s),r({data:[s],error:null})}else if(e==="messages"){const s={...t[0],created_at:t[0].created_at||new Date().toISOString(),sender_id:t[0].sender_id||ce},i=s.conversation_id;Tl[i]||(Tl[i]=[]),Tl[i].push(s),r({data:[s],error:null})}else r({data:t,error:null})}}},then(r){r({data:t,error:null})}}}function O2(e,t){let n=[];const r={eq(s,i){return n.push(l=>l[s]===i),r},then(s){if(e==="conversations")for(const i of nd)n.every(l=>l(i))&&Object.assign(i,t);s({error:null})}};return r}const Jr={auth:{async getSession(){return{data:{session:{user:{id:ce,email:He[0].email,role:"authenticated",user_metadata:{fullname:He[0].fullname,username:He[0].username,bio:He[0].bio,avatar_url:He[0].avatar_url}}}},error:null}},async signInWithPassword({email:e}){return{data:{session:{user:{id:ce,email:e,role:"authenticated",user_metadata:He[0]}}},error:null}},async signUp({email:e,options:t}){return{data:{user:{id:ce,email:e,role:"authenticated",user_metadata:(t==null?void 0:t.data)||{}}},error:null}},async signOut(){return{error:null}},async updateUser(e){return e.data&&Object.assign(He[0],e.data),{data:{user:{id:ce,email:He[0].email,role:"authenticated",user_metadata:{fullname:He[0].fullname,username:He[0].username,bio:He[0].bio,avatar_url:He[0].avatar_url}}},error:null}},async resetPasswordForEmail(){return{error:null}},onAuthStateChange(e){return setTimeout(()=>{e("SIGNED_IN",{user:{id:ce,email:He[0].email,role:"authenticated",user_metadata:He[0]}})},0),{data:{subscription:{unsubscribe(){}}}}}},from(e){return{select(t){return P2(e).select(t)},insert(t){return R2(e,t)},update(t){return O2(e,t)}}},channel(e){const t={on(){return t},subscribe(){return t},unsubscribe(){return t}};return t},storage:{from(e){return{async upload(){return{error:null}},async remove(){return{error:null}}}}}};async function I2({password:e,fullname:t,username:n,bio:r,avatar:s,previousAvatar:i}){let l;e&&(l={password:e}),t&&(l={data:{fullname:t}}),n&&(l={data:{username:n}}),r&&(l={data:{bio:r}});const{data:o,error:u}=await Jr.auth.updateUser(l);if(u)throw new Error(u.message);if(!s)return o;const c=`avatar-${o.user.id}-${Math.random()}`,{error:f}=await Jr.storage.from("avatars").upload(c,s);if(f)throw f.statusCode==413?new Error(`The file is too large. It should be less than ${$v}MB.`):new Error(f.message);const{data:d,error:h}=await Jr.auth.updateUser({data:{avatar_url:`${L2}/storage/v1/object/public/avatars/${c}`}});if(h)throw new Error(h.message);if(i){const y=i.split("avatars/")[1],{error:S}=await Jr.storage.from("avatars").remove([y]);if(S)throw new Error(S.message)}return d}async function A2({email:e,redirectTo:t}){let{error:n}=await Jr.auth.resetPasswordForEmail(e,{redirectTo:t});if(n)throw new Error(n.message);return null}let T2={data:""},F2=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||T2,M2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,D2=/\/\*[^]*?\*\/|  +/g,Gf=/\n+/g,On=(e,t)=>{let n="",r="",s="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+l+";":r+=i[1]=="f"?On(l,i):i+"{"+On(l,i[1]=="k"?"":t)+"}":typeof l=="object"?r+=On(l,t?t.replace(/([^,])+/g,o=>i.replace(/(^:.*)|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,o):o?o+" "+u:u)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=On.p?On.p(i,l):i+":"+l+";")}return n+(t&&s?t+"{"+s+"}":s)+r},on={},u1=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+u1(e[n]);return t}return e},U2=(e,t,n,r,s)=>{let i=u1(e),l=on[i]||(on[i]=(u=>{let c=0,f=11;for(;c<u.length;)f=101*f+u.charCodeAt(c++)>>>0;return"go"+f})(i));if(!on[l]){let u=i!==e?e:(c=>{let f,d,h=[{}];for(;f=M2.exec(c.replace(D2,""));)f[4]?h.shift():f[3]?(d=f[3].replace(Gf," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][f[1]]=f[2].replace(Gf," ").trim();return h[0]})(e);on[l]=On(s?{["@keyframes "+l]:u}:u,n?"":"."+l)}let o=n&&on.g?on.g:null;return n&&(on.g=on[l]),((u,c,f,d)=>{d?c.data=c.data.replace(d,u):c.data.indexOf(u)===-1&&(c.data=f?u+c.data:c.data+u)})(on[l],t,r,o),l},V2=(e,t,n)=>e.reduce((r,s,i)=>{let l=t[i];if(l&&l.call){let o=l(n),u=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=u?"."+u:o&&typeof o=="object"?o.props?"":On(o,""):o===!1?"":o}return r+s+(l??"")},"");function Wa(e){let t=this||{},n=e.call?e(t.p):e;return U2(n.unshift?n.raw?V2(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,F2(t.target),t.g,t.o,t.k)}let c1,Gu,Ku;Wa.bind({g:1});let Cn=Wa.bind({k:1});function z2(e,t,n,r){On.p=t,c1=e,Gu=n,Ku=r}function ar(e,t){let n=this||{};return function(){let r=arguments;function s(i,l){let o=Object.assign({},i),u=o.className||s.className;n.p=Object.assign({theme:Gu&&Gu()},o),n.o=/ *go\d+/.test(u),o.className=Wa.apply(n,r)+(u?" "+u:""),t&&(o.ref=l);let c=e;return e[0]&&(c=o.as||e,delete o.as),Ku&&c[0]&&Ku(o),c1(c,o)}return t?t(s):s}}var $2=e=>typeof e=="function",xa=(e,t)=>$2(e)?e(t):e,B2=(()=>{let e=0;return()=>(++e).toString()})(),d1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),H2=20,Fl=new Map,Q2=1e3,Kf=e=>{if(Fl.has(e))return;let t=setTimeout(()=>{Fl.delete(e),Tr({type:4,toastId:e})},Q2);Fl.set(e,t)},W2=e=>{let t=Fl.get(e);t&&clearTimeout(t)},qu=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,H2)};case 1:return t.toast.id&&W2(t.toast.id),{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return e.toasts.find(i=>i.id===n.id)?qu(e,{type:1,toast:n}):qu(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?Kf(r):e.toasts.forEach(i=>{Kf(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Ml=[],Dl={toasts:[],pausedAt:void 0},Tr=e=>{Dl=qu(Dl,e),Ml.forEach(t=>{t(Dl)})},Z2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},G2=(e={})=>{let[t,n]=v.useState(Dl);v.useEffect(()=>(Ml.push(n),()=>{let s=Ml.indexOf(n);s>-1&&Ml.splice(s,1)}),[t]);let r=t.toasts.map(s=>{var i,l;return{...e,...e[s.type],...s,duration:s.duration||((i=e[s.type])==null?void 0:i.duration)||(e==null?void 0:e.duration)||Z2[s.type],style:{...e.style,...(l=e[s.type])==null?void 0:l.style,...s.style}}});return{...t,toasts:r}},K2=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||B2()}),Zi=e=>(t,n)=>{let r=K2(t,e,n);return Tr({type:2,toast:r}),r.id},Ct=(e,t)=>Zi("blank")(e,t);Ct.error=Zi("error");Ct.success=Zi("success");Ct.loading=Zi("loading");Ct.custom=Zi("custom");Ct.dismiss=e=>{Tr({type:3,toastId:e})};Ct.remove=e=>Tr({type:4,toastId:e});Ct.promise=(e,t,n)=>{let r=Ct.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(s=>(Ct.success(xa(t.success,s),{id:r,...n,...n==null?void 0:n.success}),s)).catch(s=>{Ct.error(xa(t.error,s),{id:r,...n,...n==null?void 0:n.error})}),e};var q2=(e,t)=>{Tr({type:1,toast:{id:e,height:t}})},J2=()=>{Tr({type:5,time:Date.now()})},Y2=e=>{let{toasts:t,pausedAt:n}=G2(e);v.useEffect(()=>{if(n)return;let i=Date.now(),l=t.map(o=>{if(o.duration===1/0)return;let u=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(u<0){o.visible&&Ct.dismiss(o.id);return}return setTimeout(()=>Ct.dismiss(o.id),u)});return()=>{l.forEach(o=>o&&clearTimeout(o))}},[t,n]);let r=v.useCallback(()=>{n&&Tr({type:6,time:Date.now()})},[n]),s=v.useCallback((i,l)=>{let{reverseOrder:o=!1,gutter:u=8,defaultPosition:c}=l||{},f=t.filter(y=>(y.position||c)===(i.position||c)&&y.height),d=f.findIndex(y=>y.id===i.id),h=f.filter((y,S)=>S<d&&y.visible).length;return f.filter(y=>y.visible).slice(...o?[h+1]:[0,h]).reduce((y,S)=>y+(S.height||0)+u,0)},[t]);return{toasts:t,handlers:{updateHeight:q2,startPause:J2,endPause:r,calculateOffset:s}}},X2=Cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ex=Cn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tx=Cn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nx=ar("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${X2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ex} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${tx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,rx=Cn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,sx=ar("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${rx} 1s linear infinite;
`,ix=Cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lx=Cn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ax=ar("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ix} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ox=ar("div")`
  position: absolute;
`,ux=ar("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,cx=Cn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dx=ar("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${cx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,fx=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?v.createElement(dx,null,t):t:n==="blank"?null:v.createElement(ux,null,v.createElement(sx,{...r}),n!=="loading"&&v.createElement(ox,null,n==="error"?v.createElement(nx,{...r}):v.createElement(ax,{...r})))},hx=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,px=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,mx="0%{opacity:0;} 100%{opacity:1;}",gx="0%{opacity:1;} 100%{opacity:0;}",yx=ar("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vx=ar("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,xx=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=d1()?[mx,gx]:[hx(n),px(n)];return{animation:t?`${Cn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wx=v.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?xx(e.position||t||"top-center",e.visible):{opacity:0},i=v.createElement(fx,{toast:e}),l=v.createElement(vx,{...e.ariaProps},xa(e.message,e));return v.createElement(yx,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:l}):v.createElement(v.Fragment,null,i,l))});z2(v.createElement);var Sx=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=v.useCallback(l=>{if(l){let o=()=>{let u=l.getBoundingClientRect().height;r(e,u)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return v.createElement("div",{ref:i,className:t,style:n},s)},Cx=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:d1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},kx=Wa`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,yl=16,Ex=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:l})=>{let{toasts:o,handlers:u}=Y2(n);return v.createElement("div",{style:{position:"fixed",zIndex:9999,top:yl,left:yl,right:yl,bottom:yl,pointerEvents:"none",...i},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},o.map(c=>{let f=c.position||t,d=u.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),h=Cx(f,d);return v.createElement(Sx,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?kx:"",style:h},c.type==="custom"?xa(c.message,c):s?s(c):v.createElement(wx,{toast:c,position:f}))}))},se=Ct;function rd(){const e=Zt(),{mutate:t,isPending:n}=Fs({mutationFn:I2,onMutate:()=>{se.loading("Updating...")},onSuccess:()=>{e.invalidateQueries("user")},onError:r=>{se.dismiss(),se.error(r.message)}});return{updateUser:t,isUpdating:n}}function jx(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"}}]})(e)}function f1(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"}}]})(e)}function _x(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.94631 9.31555C1.42377 9.14137 1.41965 8.86034 1.95706 8.6812L21.0433 2.31913C21.5717 2.14297 21.8748 2.43878 21.7268 2.95706L16.2736 22.0433C16.1226 22.5718 15.8179 22.5901 15.5946 22.0877L12.0002 14.0002L18.0002 6.00017L10.0002 12.0002L1.94631 9.31555Z"}}]})(e)}function Nx(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455ZM14 10.25V8H7V14H14V11.75L17 14V8L14 10.25Z"}}]})(e)}function bx(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14 10.25L17 8V14L14 11.75V14H7V8H14V10.25ZM5.76282 17H20V5H4V18.3851L5.76282 17ZM6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455Z"}}]})(e)}function Lx(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 18.89H6.41421L15.7279 9.57629L14.3137 8.16207L5 17.4758V18.89ZM21 20.89H3V16.6474L16.435 3.21233C16.8256 2.8218 17.4587 2.8218 17.8492 3.21233L20.6777 6.04075C21.0682 6.43128 21.0682 7.06444 20.6777 7.45497L9.24264 18.89H21V20.89ZM15.7279 6.74786L17.1421 8.16207L18.5563 6.74786L17.1421 5.33365L15.7279 6.74786Z"}}]})(e)}function Px(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 19.9C15.2822 19.4367 17 17.419 17 15V12C17 11.299 16.8564 10.6219 16.5846 10H7.41538C7.14358 10.6219 7 11.299 7 12V15C7 17.419 8.71776 19.4367 11 19.9V14H13V19.9ZM5.5358 17.6907C5.19061 16.8623 5 15.9534 5 15H2V13H5V12C5 11.3573 5.08661 10.7348 5.2488 10.1436L3.0359 8.86602L4.0359 7.13397L6.05636 8.30049C6.11995 8.19854 6.18609 8.09835 6.25469 8H17.7453C17.8139 8.09835 17.88 8.19854 17.9436 8.30049L19.9641 7.13397L20.9641 8.86602L18.7512 10.1436C18.9134 10.7348 19 11.3573 19 12V13H22V15H19C19 15.9534 18.8094 16.8623 18.4642 17.6907L20.9641 19.134L19.9641 20.866L17.4383 19.4077C16.1549 20.9893 14.1955 22 12 22C9.80453 22 7.84512 20.9893 6.56171 19.4077L4.0359 20.866L3.0359 19.134L5.5358 17.6907ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6H8Z"}}]})(e)}function Rx(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 16.42V19.9561C21 20.4811 20.5941 20.9167 20.0705 20.9537C19.6331 20.9846 19.2763 21 19 21C10.1634 21 3 13.8366 3 5C3 4.72371 3.01545 4.36687 3.04635 3.9295C3.08337 3.40588 3.51894 3 4.04386 3H7.5801C7.83678 3 8.05176 3.19442 8.07753 3.4498C8.10067 3.67907 8.12218 3.86314 8.14207 4.00202C8.34435 5.41472 8.75753 6.75936 9.3487 8.00303C9.44359 8.20265 9.38171 8.44159 9.20185 8.57006L7.04355 10.1118C8.35752 13.1811 10.8189 15.6425 13.8882 16.9565L15.4271 14.8019C15.5572 14.6199 15.799 14.5573 16.001 14.6532C17.2446 15.2439 18.5891 15.6566 20.0016 15.8584C20.1396 15.8782 20.3225 15.8995 20.5502 15.9225C20.8056 15.9483 21 16.1633 21 16.42Z"}}]})(e)}function Ox(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.36556 10.6821C10.302 12.3288 11.6712 13.698 13.3179 14.6344L14.2024 13.3961C14.4965 12.9845 15.0516 12.8573 15.4956 13.0998C16.9024 13.8683 18.4571 14.3353 20.0789 14.4637C20.599 14.5049 21 14.9389 21 15.4606V19.9234C21 20.4361 20.6122 20.8657 20.1022 20.9181C19.5723 20.9726 19.0377 21 18.5 21C9.93959 21 3 14.0604 3 5.5C3 4.96227 3.02742 4.42771 3.08189 3.89776C3.1343 3.38775 3.56394 3 4.07665 3H8.53942C9.0611 3 9.49513 3.40104 9.5363 3.92109C9.66467 5.54288 10.1317 7.09764 10.9002 8.50444C11.1427 8.9484 11.0155 9.50354 10.6039 9.79757L9.36556 10.6821ZM6.84425 10.0252L8.7442 8.66809C8.20547 7.50514 7.83628 6.27183 7.64727 5H5.00907C5.00303 5.16632 5 5.333 5 5.5C5 12.9558 11.0442 19 18.5 19C18.667 19 18.8337 18.997 19 18.9909V16.3527C17.7282 16.1637 16.4949 15.7945 15.3319 15.2558L13.9748 17.1558C13.4258 16.9425 12.8956 16.6915 12.3874 16.4061L12.3293 16.373C10.3697 15.2587 8.74134 13.6303 7.627 11.6707L7.59394 11.6126C7.30849 11.1044 7.05754 10.5742 6.84425 10.0252Z"}}]})(e)}function h1(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.82843 5L7.82843 7H4V19H20V7H16.1716L14.1716 5H9.82843ZM9 3H15L17 5H21C21.5523 5 22 5.44772 22 6V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V6C2 5.44772 2.44772 5 3 5H7L9 3ZM12 18C8.96243 18 6.5 15.5376 6.5 12.5C6.5 9.46243 8.96243 7 12 7C15.0376 7 17.5 9.46243 17.5 12.5C17.5 15.5376 15.0376 18 12 18ZM12 16C13.933 16 15.5 14.433 15.5 12.5C15.5 10.567 13.933 9 12 9C10.067 9 8.5 10.567 8.5 12.5C8.5 14.433 10.067 16 12 16Z"}}]})(e)}function p1(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.5869 21.0002H3.00113C2.44885 21.0002 2.00113 20.5524 2.00113 20.0002V6.00016C2.00113 5.44787 2.44885 5.00016 3.00113 5.00016H3.58692L1.39453 2.80777L2.80874 1.39355L22.6077 21.1925L21.1935 22.6068L19.5869 21.0002ZM5.58692 7.00016H4.00113V19.0002H17.5869L15.4063 16.8196C14.4698 17.5589 13.287 18.0002 12.0011 18.0002C8.96357 18.0002 6.50113 15.5377 6.50113 12.5002C6.50113 11.2143 6.94239 10.0315 7.68173 9.09497L5.58692 7.00016ZM9.11149 10.5247C8.72641 11.0869 8.50113 11.7672 8.50113 12.5002C8.50113 14.4332 10.0681 16.0002 12.0011 16.0002C12.734 16.0002 13.4143 15.7749 13.9766 15.3898L9.11149 10.5247ZM22.0011 17.786L20.0011 15.786V7.00016H16.1727L14.1727 5.00016H9.82956L9.52245 5.30727L8.10823 3.89306L9.00113 3.00016H15.0011L17.0011 5.00016H21.0011C21.5534 5.00016 22.0011 5.44787 22.0011 6.00016V17.786ZM11.2643 7.04909C11.5053 7.01682 11.7513 7.00016 12.0011 7.00016C15.0387 7.00016 17.5011 9.46259 17.5011 12.5002C17.5011 12.75 17.4845 12.996 17.4522 13.237L15.1143 10.8991C14.7804 10.2512 14.2501 9.72089 13.6022 9.38698L11.2643 7.04909Z"}}]})(e)}function m1(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.9998 3C10.3429 3 8.99976 4.34315 8.99976 6V10C8.99976 11.6569 10.3429 13 11.9998 13C13.6566 13 14.9998 11.6569 14.9998 10V6C14.9998 4.34315 13.6566 3 11.9998 3ZM11.9998 1C14.7612 1 16.9998 3.23858 16.9998 6V10C16.9998 12.7614 14.7612 15 11.9998 15C9.23833 15 6.99976 12.7614 6.99976 10V6C6.99976 3.23858 9.23833 1 11.9998 1ZM3.05469 11H5.07065C5.55588 14.3923 8.47329 17 11.9998 17C15.5262 17 18.4436 14.3923 18.9289 11H20.9448C20.4837 15.1716 17.1714 18.4839 12.9998 18.9451V23H10.9998V18.9451C6.82814 18.4839 3.51584 15.1716 3.05469 11Z"}}]})(e)}function g1(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.4259 17.839L21.1935 22.6066L22.6077 21.1924L2.80874 1.3934L1.39453 2.80761L7.00113 8.41421V10C7.00113 12.7614 9.23971 15 12.0011 15C12.4835 15 12.9499 14.9317 13.3912 14.8042L14.9413 16.3544C14.0474 16.7688 13.0513 17 12.0011 17C8.47466 17 5.55725 14.3923 5.07202 11H3.05606C3.51721 15.1716 6.82952 18.4839 11.0011 18.9451V23H13.0011V18.9451C14.2351 18.8087 15.3939 18.4228 16.4259 17.839ZM11.5538 12.9669C10.2551 12.7727 9.22843 11.7461 9.03426 10.4473L11.5538 12.9669ZM19.3757 15.1604L17.9333 13.7179C18.4417 12.9084 18.789 11.9874 18.9302 11H20.9462C20.7763 12.5366 20.2197 13.9565 19.3757 15.1604ZM16.4668 12.2514L14.9183 10.703C14.9725 10.4775 15.0011 10.2421 15.0011 10V6C15.0011 4.34315 13.658 3 12.0011 3C10.7069 3 9.60408 3.81956 9.18335 4.96802L7.68672 3.47139C8.55524 1.99268 10.1623 1 12.0011 1C14.7626 1 17.0011 3.23858 17.0011 6V10C17.0011 10.8099 16.8086 11.5748 16.4668 12.2514Z"}}]})(e)}function Ix(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"}}]})(e)}function Ax(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z"}}]})(e)}function sd(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z"}}]})(e)}function Tx(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 7H13V9H11V7ZM11 11H13V17H11V11Z"}}]})(e)}function Fx(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.364 5.63604L16.9497 7.05025C15.683 5.7835 13.933 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12H21C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C14.4853 3 16.7353 4.00736 18.364 5.63604Z"}}]})(e)}function y1(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 11H13V13H5V16L0 12L5 8V11ZM3.99927 18H6.70835C8.11862 19.2447 9.97111 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C9.97111 4 8.11862 4.75527 6.70835 6H3.99927C5.82368 3.57111 8.72836 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C8.72836 22 5.82368 20.4289 3.99927 18Z"}}]})(e)}function Mx(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 11H21V13H3V11ZM3 18H21V20H3V18Z"}}]})(e)}function Dx(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"}}]})(e)}function Ux(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8.68735 4.00008L11.294 1.39348C11.6845 1.00295 12.3176 1.00295 12.7082 1.39348L15.3148 4.00008H19.0011C19.5533 4.00008 20.0011 4.4478 20.0011 5.00008V8.68637L22.6077 11.293C22.9982 11.6835 22.9982 12.3167 22.6077 12.7072L20.0011 15.3138V19.0001C20.0011 19.5524 19.5533 20.0001 19.0011 20.0001H15.3148L12.7082 22.6067C12.3176 22.9972 11.6845 22.9972 11.294 22.6067L8.68735 20.0001H5.00106C4.44877 20.0001 4.00106 19.5524 4.00106 19.0001V15.3138L1.39446 12.7072C1.00393 12.3167 1.00393 11.6835 1.39446 11.293L4.00106 8.68637V5.00008C4.00106 4.4478 4.44877 4.00008 5.00106 4.00008H8.68735ZM6.00106 6.00008V9.5148L3.51578 12.0001L6.00106 14.4854V18.0001H9.51578L12.0011 20.4854L14.4863 18.0001H18.0011V14.4854L20.4863 12.0001L18.0011 9.5148V6.00008H14.4863L12.0011 3.5148L9.51578 6.00008H6.00106ZM12.0011 16.0001C9.79192 16.0001 8.00106 14.2092 8.00106 12.0001C8.00106 9.79094 9.79192 8.00008 12.0011 8.00008C14.2102 8.00008 16.0011 9.79094 16.0011 12.0001C16.0011 14.2092 14.2102 16.0001 12.0011 16.0001ZM12.0011 14.0001C13.1056 14.0001 14.0011 13.1047 14.0011 12.0001C14.0011 10.8955 13.1056 10.0001 12.0011 10.0001C10.8965 10.0001 10.0011 10.8955 10.0011 12.0001C10.0011 13.1047 10.8965 14.0001 12.0011 14.0001Z"}}]})(e)}function v1(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 14H11C7.54202 14 4.53953 15.9502 3.03239 18.8107C3.01093 18.5433 3 18.2729 3 18C3 12.4772 7.47715 8 13 8V2.5L23.5 11L13 19.5V14ZM11 12H15V15.3078L20.3214 11L15 6.69224V10H13C10.5795 10 8.41011 11.0749 6.94312 12.7735C8.20873 12.2714 9.58041 12 11 12Z"}}]})(e)}function x1(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 22C2 17.5817 5.58172 14 10 14C14.4183 14 18 17.5817 18 22H16C16 18.6863 13.3137 16 10 16C6.68629 16 4 18.6863 4 22H2ZM10 13C6.685 13 4 10.315 4 7C4 3.685 6.685 1 10 1C13.315 1 16 3.685 16 7C16 10.315 13.315 13 10 13ZM10 11C12.21 11 14 9.21 14 7C14 4.79 12.21 3 10 3C7.79 3 6 4.79 6 7C6 9.21 7.79 11 10 11ZM18.2837 14.7028C21.0644 15.9561 23 18.752 23 22H21C21 19.564 19.5483 17.4671 17.4628 16.5271L18.2837 14.7028ZM17.5962 3.41321C19.5944 4.23703 21 6.20361 21 8.5C21 11.3702 18.8042 13.7252 16 13.9776V11.9646C17.6967 11.7222 19 10.264 19 8.5C19 7.11935 18.2016 5.92603 17.041 5.35635L17.5962 3.41321Z"}}]})(e)}function Vx(e){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 6C10 10.4183 13.5817 14 18 14C19.4386 14 20.7885 13.6203 21.9549 12.9556C21.4738 18.0302 17.2005 22 12 22C6.47715 22 2 17.5228 2 12C2 6.79948 5.9698 2.52616 11.0444 2.04507C10.3797 3.21152 10 4.56142 10 6ZM4 12C4 16.4183 7.58172 20 12 20C14.9654 20 17.5757 18.3788 18.9571 15.9546C18.6407 15.9848 18.3214 16 18 16C12.4772 16 8 11.5228 8 6C8 5.67863 8.01524 5.35933 8.04536 5.04293C5.62119 6.42426 4 9.03458 4 12ZM18.1642 2.29104L19 2.5V3.5L18.1642 3.70896C17.4476 3.8881 16.8881 4.4476 16.709 5.16417L16.5 6H15.5L15.291 5.16417C15.1119 4.4476 14.5524 3.8881 13.8358 3.70896L13 3.5V2.5L13.8358 2.29104C14.5524 2.1119 15.1119 1.5524 15.291 0.835829L15.5 0H16.5L16.709 0.835829C16.8881 1.5524 17.4476 2.1119 18.1642 2.29104ZM23.1642 7.29104L24 7.5V8.5L23.1642 8.70896C22.4476 8.8881 21.8881 9.4476 21.709 10.1642L21.5 11H20.5L20.291 10.1642C20.1119 9.4476 19.5524 8.8881 18.8358 8.70896L18 8.5V7.5L18.8358 7.29104C19.5524 7.1119 20.1119 6.5524 20.291 5.83583L20.5 5H21.5L21.709 5.83583C21.8881 6.5524 22.4476 7.1119 23.1642 7.29104Z"}}]})(e)}function Ne({size:e="small",text:t="",customClasses:n=""}){const r={small:"text-[1rem]",medium:"text-[1.5rem]",large:"text-[2rem]"};return a.jsxs("span",{className:`flex items-center justify-center ${n}`,children:[a.jsx(Fx,{className:`${r[e]} animate-spin`}),t&&a.jsxs("span",{className:"ml-2",children:[t,"..."]})]})}function zx({avatar:e}){const t=e,{updateUser:n,isUpdating:r}=rd();function s(i){n({avatar:i,previousAvatar:t},{onSuccess:()=>{se.dismiss(),se.success("Updated profile picture successfully!")}})}return a.jsxs("div",{className:"relative mx-auto mt-4 h-52 w-52  rounded-full border-2 border-bgAccent dark:border-bgAccent-dark",children:[t?a.jsx("img",{className:"pointer-events-none h-full w-full rounded-full object-cover object-center",src:t,alt:"avatar"}):a.jsx(Qa,{className:"h-full w-full opacity-50",strokeWidth:"1"}),a.jsxs("span",{children:[a.jsx("label",{className:"absolute bottom-0 right-0 m-2 flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-bgAccent p-1 text-xl text-textPrimary-dark shadow-lg hover:bg-bgAccentDim dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",htmlFor:"uploadPhoto",role:"button",tabIndex:0,children:r?a.jsx(Ne,{}):a.jsx(Kv,{"aria-label":"upload photo"})}),a.jsx("input",{onChange:i=>s(i.target.files[0]),disabled:r,className:"hidden",accept:Bv,type:"file",name:"Profile picture",id:"uploadPhoto"})]})]})}async function Fe(e,t={}){const n=localStorage.getItem("token"),r={...t.headers};n&&(r.Authorization=`Bearer ${n}`),t.body instanceof FormData||(r["Content-Type"]=r["Content-Type"]||"application/json");const s=await fetch(e,{...t,headers:r});if(s.status===401)throw localStorage.removeItem("token"),localStorage.removeItem("username"),window.location.href="/signin",new Error(" ,  ");if(!s.ok){let l=` ${s.status}`;try{const o=await s.json();l=o.error||o.message||l}catch{}throw new Error(l)}const i=await s.text();if(!i)return null;try{return JSON.parse(i)}catch{return i}}let Ye=null,mr=null,$x=[],qf=[],Qs=!1,Ul=[],Vl=[];const Bx=new Set(["CALL_OFFER","CALL_ANSWER","CALL_REJECT","CALL_END","CALL_BUSY","ICE_CANDIDATE","CALL_LOG"]),Hx=new Set(["CONF_JOIN","CONF_LEAVE","CONF_PEERS","CONF_OFFER","CONF_ANSWER","CONF_ICE"]);function Qx(){const e=localStorage.getItem("token");return e?`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/chat?token=${e}`:null}function Za(){if(Ye&&(Ye.readyState===WebSocket.OPEN||Ye.readyState===WebSocket.CONNECTING)||Qs)return;const e=Qx();e&&(Qs=!0,Ye=new WebSocket(e),Ye.onopen=()=>{Qs=!1,console.log("[WS] Connected"),qf.forEach(t=>t(!0)),mr&&(clearTimeout(mr),mr=null)},Ye.onmessage=t=>{try{const n=JSON.parse(t.data);Bx.has(n.type)?Ul.forEach(r=>r(n)):Hx.has(n.type)&&Vl.forEach(r=>r(n)),$x.forEach(r=>r(n))}catch{console.warn("[WS] Failed to parse message:",t.data)}},Ye.onclose=t=>{Qs=!1,console.log("[WS] Disconnected",t.code,t.reason),qf.forEach(n=>n(!1)),Ye=null,localStorage.getItem("token")&&(mr=setTimeout(()=>{console.log("[WS] Reconnecting..."),Za()},3e3))},Ye.onerror=t=>{Qs=!1,console.error("[WS] Error:",t)})}function Wx(){mr&&(clearTimeout(mr),mr=null),Ye&&(Ye.close(),Ye=null)}function ot(e){return Ye&&Ye.readyState===WebSocket.OPEN?(Ye.send(JSON.stringify(e)),!0):(console.warn("[WS] Cannot send  not connected"),!1)}function Zx(e){return Ul.push(e),()=>{Ul=Ul.filter(t=>t!==e)}}function Gx(e){return Vl.push(e),()=>{Vl=Vl.filter(t=>t!==e)}}function id(e,t,n,r,s){return{session:{access_token:e,user:{id:t,role:"authenticated",user_metadata:{username:t,fullname:t,avatar_url:r||"",tag:s||"",bio:"!   BarsikChat!"}}}}}async function Kx({username:e,password:t}){await Fe("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.trim(),password:t})}).catch(()=>null);const n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.trim(),password:t})});if(!n.ok){let s="    ";try{const i=await n.json();s=i.error||i.message||s}catch{}throw new Error(s)}const r=await n.json();return localStorage.setItem("token",r.token),localStorage.setItem("username",r.username),localStorage.setItem("role",r.role||"USER"),localStorage.setItem("avatarUrl",r.avatarUrl||""),localStorage.setItem("tag",r.tag||""),Za(),id(r.token,r.username,r.role,r.avatarUrl,r.tag)}async function qx({username:e,password:t,tag:n}){const r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.trim(),password:t,tag:n==null?void 0:n.trim()})});if(!r.ok){let i=" ";try{const l=await r.json();i=l.error||l.message||i}catch{}throw new Error(i)}const s=await r.json();return localStorage.setItem("token",s.token),localStorage.setItem("username",s.username),localStorage.setItem("role",s.role||"USER"),localStorage.setItem("avatarUrl",s.avatarUrl||""),localStorage.setItem("tag",s.tag||""),Za(),id(s.token,s.username,s.role,s.avatarUrl,s.tag)}async function Jx(){Wx(),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("role"),localStorage.removeItem("avatarUrl"),localStorage.removeItem("tag")}async function Yx(){const e=localStorage.getItem("token"),t=localStorage.getItem("username");return!e||!t?{session:null}:(Za(),id(e,t,localStorage.getItem("role"),localStorage.getItem("avatarUrl"),localStorage.getItem("tag")))}async function Xx(e){if(!e)return null;try{const t=await Fe(`/api/profile/${e}`);return{id:t.username,fullname:t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`.trim():t.username,username:t.username,avatar_url:t.avatarUrl||"",bio:t.bio||"",tag:t.tag||"",online:!1,lastSeen:t.lastSeen||null}}catch{return{id:e,fullname:e,username:e,avatar_url:"",bio:"",tag:""}}}function gt(){var i;const e=Zt(),{isLoading:t,data:n}=Wi({queryKey:["user"],queryFn:Yx}),r=(i=n==null?void 0:n.session)==null?void 0:i.user,s=()=>{e.invalidateQueries("user")};return{isLoading:t,session:n==null?void 0:n.session,user:r,isAuthenticated:(r==null?void 0:r.role)==="authenticated",invalidateUser:s}}function w1(){const{mutate:e,isPending:t,isSuccess:n,isError:r,error:s}=Fs({mutationFn:({email:l,redirectTo:o})=>A2({email:l,redirectTo:o}),onMutate:()=>{se.loading("Sending email...")},onSuccess:()=>{se.dismiss(),se.success("Email sent. Please check your inbox.")},onError:l=>{se.dismiss(),se.error(l.message)}});return{resetPassword:l=>{const o=`${Ov()}/new-password`;e({email:l,redirectTo:o})},isPending:t,isSuccess:n,isError:r,error:s}}function ew(){const{user:{email:e}}=gt(),{resetPassword:t,isPending:n,isSuccess:r}=w1();function s(){t(e)}return a.jsxs("button",{disabled:n||r,onClick:s,className:"mt-8 flex h-10 items-center gap-2 rounded-md bg-bgAccent px-4 text-textPrimary-dark hover:bg-bgAccentDim disabled:bg-LightShade/50 disabled:text-textPrimary disabled:opacity-70 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark disabled:dark:text-textPrimary-dark",children:[n&&a.jsxs(a.Fragment,{children:[a.jsx(Ne,{}),"Sending..."]}),r&&a.jsx("span",{children:"Recovery email sent!"}),!n&&!r&&a.jsx("span",{children:"Recover password"})]})}function kt({children:e,onClick:t,addClass:n=""}){return a.jsx("button",{onClick:t,className:`${n} relative z-50 flex flex-shrink-0 items-center justify-center rounded-full text-lg hover:bg-LightShade/20`,children:e})}function tw(){return a.jsx(jx,{className:"h-11 w-11 p-3","aria-label":"Back"})}function nw(){return a.jsx(Mx,{className:"h-11 w-11 p-3","aria-label":"Menu"})}function rw(){return a.jsx(sd,{className:"h-11 w-11 p-3","aria-label":"Close"})}kt.Back=tw;kt.Menu=nw;kt.Close=rw;var Gi=e=>e.type==="checkbox",Yr=e=>e instanceof Date,Xe=e=>e==null;const S1=e=>typeof e=="object";var Oe=e=>!Xe(e)&&!Array.isArray(e)&&S1(e)&&!Yr(e),C1=e=>Oe(e)&&e.target?Gi(e.target)?e.target.checked:e.target.value:e,sw=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,k1=(e,t)=>e.has(sw(t)),iw=e=>{const t=e.constructor&&e.constructor.prototype;return Oe(t)&&t.hasOwnProperty("isPrototypeOf")},ld=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function it(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(ld&&(e instanceof Blob||e instanceof FileList))&&(n||Oe(e)))if(t=n?[]:{},!n&&!iw(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=it(e[r]));else return e;return t}var Ga=e=>Array.isArray(e)?e.filter(Boolean):[],Se=e=>e===void 0,T=(e,t,n)=>{if(!t||!Oe(e))return n;const r=Ga(t.split(/[,[\].]+?/)).reduce((s,i)=>Xe(s)?s:s[i],e);return Se(r)||r===e?Se(e[t])?n:e[t]:r},tn=e=>typeof e=="boolean",ad=e=>/^\w*$/.test(e),E1=e=>Ga(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ue=(e,t,n)=>{let r=-1;const s=ad(t)?[t]:E1(t),i=s.length,l=i-1;for(;++r<i;){const o=s[r];let u=n;if(r!==l){const c=e[o];u=Oe(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(o==="__proto__")return;e[o]=u,e=e[o]}return e};const wa={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Bt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},un={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},lw=ee.createContext(null),od=()=>ee.useContext(lw);var j1=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const l=i;return t._proxyFormState[l]!==Bt.all&&(t._proxyFormState[l]=!r||Bt.all),n&&(n[l]=!0),e[l]}});return s},xt=e=>Oe(e)&&!Object.keys(e).length,_1=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return xt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!r||Bt.all))},ai=e=>Array.isArray(e)?e:[e],N1=(e,t,n)=>!e||!t||e===t||ai(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function ud(e){const t=ee.useRef(e);t.current=e,ee.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function aw(e){const t=od(),{control:n=t.control,disabled:r,name:s,exact:i}=e||{},[l,o]=ee.useState(n._formState),u=ee.useRef(!0),c=ee.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=ee.useRef(s);return f.current=s,ud({disabled:r,next:d=>u.current&&N1(f.current,d.name,i)&&_1(d,c.current,n._updateFormState)&&o({...n._formState,...d}),subject:n._subjects.state}),ee.useEffect(()=>(u.current=!0,c.current.isValid&&n._updateValid(!0),()=>{u.current=!1}),[n]),j1(l,n,c.current,!1)}var nn=e=>typeof e=="string",b1=(e,t,n,r,s)=>nn(e)?(r&&t.watch.add(e),T(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),T(n,i))):(r&&(t.watchAll=!0),n);function ow(e){const t=od(),{control:n=t.control,name:r,defaultValue:s,disabled:i,exact:l}=e||{},o=ee.useRef(r);o.current=r,ud({disabled:i,subject:n._subjects.values,next:f=>{N1(o.current,f.name,l)&&c(it(b1(o.current,n._names,f.values||n._formValues,!1,s)))}});const[u,c]=ee.useState(n._getWatch(r,s));return ee.useEffect(()=>n._removeUnmounted()),u}function uw(e){const t=od(),{name:n,disabled:r,control:s=t.control,shouldUnregister:i}=e,l=k1(s._names.array,n),o=ow({control:s,name:n,defaultValue:T(s._formValues,n,T(s._defaultValues,n,e.defaultValue)),exact:!0}),u=aw({control:s,name:n}),c=ee.useRef(s.register(n,{...e.rules,value:o,...tn(e.disabled)?{disabled:e.disabled}:{}}));return ee.useEffect(()=>{const f=s._options.shouldUnregister||i,d=(h,y)=>{const S=T(s._fields,h);S&&S._f&&(S._f.mount=y)};if(d(n,!0),f){const h=it(T(s._options.defaultValues,n));ue(s._defaultValues,n,h),Se(T(s._formValues,n))&&ue(s._formValues,n,h)}return()=>{(l?f&&!s._state.action:f)?s.unregister(n):d(n,!1)}},[n,s,l,i]),ee.useEffect(()=>{T(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:T(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:o,...tn(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:ee.useCallback(f=>c.current.onChange({target:{value:C1(f),name:n},type:wa.CHANGE}),[n]),onBlur:ee.useCallback(()=>c.current.onBlur({target:{value:T(s._formValues,n),name:n},type:wa.BLUR}),[n,s]),ref:f=>{const d=T(s._fields,n);d&&f&&(d._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:h=>f.setCustomValidity(h),reportValidity:()=>f.reportValidity()})}},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!T(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!T(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!T(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!T(u.validatingFields,n)},error:{enumerable:!0,get:()=>T(u.errors,n)}})}}const rn=e=>e.render(uw(e));var cw=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Jf=e=>({isOnSubmit:!e||e===Bt.onSubmit,isOnBlur:e===Bt.onBlur,isOnChange:e===Bt.onChange,isOnAll:e===Bt.all,isOnTouch:e===Bt.onTouched}),Yf=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const oi=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=T(e,s);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],s)&&!r)break;if(l.ref&&t(l.ref,l.name)&&!r)break;oi(o,t)}else Oe(o)&&oi(o,t)}}};var dw=(e,t,n)=>{const r=ai(T(e,n));return ue(r,"root",t[n]),ue(e,n,r),e},cd=e=>e.type==="file",Hn=e=>typeof e=="function",Sa=e=>{if(!ld)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},zl=e=>nn(e),dd=e=>e.type==="radio",Ca=e=>e instanceof RegExp;const Xf={value:!1,isValid:!1},eh={value:!0,isValid:!0};var L1=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Se(e[0].attributes.value)?Se(e[0].value)||e[0].value===""?eh:{value:e[0].value,isValid:!0}:eh:Xf}return Xf};const th={isValid:!1,value:null};var P1=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,th):th;function nh(e,t,n="validate"){if(zl(e)||Array.isArray(e)&&e.every(zl)||tn(e)&&!e)return{type:n,message:zl(e)?e:"",ref:t}}var Dr=e=>Oe(e)&&!Ca(e)?e:{value:e,message:""},rh=async(e,t,n,r,s)=>{const{ref:i,refs:l,required:o,maxLength:u,minLength:c,min:f,max:d,pattern:h,validate:y,name:S,valueAsNumber:C,mount:E,disabled:m}=e._f,p=T(t,S);if(!E||m)return{};const g=l?l[0]:i,k=W=>{r&&g.reportValidity&&(g.setCustomValidity(tn(W)?"":W||""),g.reportValidity())},N={},P=dd(i),R=Gi(i),L=P||R,Q=(C||cd(i))&&Se(i.value)&&Se(p)||Sa(i)&&i.value===""||p===""||Array.isArray(p)&&!p.length,I=cw.bind(null,S,n,N),ae=(W,M,Y,te=un.maxLength,K=un.minLength)=>{const Z=W?M:Y;N[S]={type:W?te:K,message:Z,ref:i,...I(W?te:K,Z)}};if(s?!Array.isArray(p)||!p.length:o&&(!L&&(Q||Xe(p))||tn(p)&&!p||R&&!L1(l).isValid||P&&!P1(l).isValid)){const{value:W,message:M}=zl(o)?{value:!!o,message:o}:Dr(o);if(W&&(N[S]={type:un.required,message:M,ref:g,...I(un.required,M)},!n))return k(M),N}if(!Q&&(!Xe(f)||!Xe(d))){let W,M;const Y=Dr(d),te=Dr(f);if(!Xe(p)&&!isNaN(p)){const K=i.valueAsNumber||p&&+p;Xe(Y.value)||(W=K>Y.value),Xe(te.value)||(M=K<te.value)}else{const K=i.valueAsDate||new Date(p),Z=$=>new Date(new Date().toDateString()+" "+$),_=i.type=="time",U=i.type=="week";nn(Y.value)&&p&&(W=_?Z(p)>Z(Y.value):U?p>Y.value:K>new Date(Y.value)),nn(te.value)&&p&&(M=_?Z(p)<Z(te.value):U?p<te.value:K<new Date(te.value))}if((W||M)&&(ae(!!W,Y.message,te.message,un.max,un.min),!n))return k(N[S].message),N}if((u||c)&&!Q&&(nn(p)||s&&Array.isArray(p))){const W=Dr(u),M=Dr(c),Y=!Xe(W.value)&&p.length>+W.value,te=!Xe(M.value)&&p.length<+M.value;if((Y||te)&&(ae(Y,W.message,M.message),!n))return k(N[S].message),N}if(h&&!Q&&nn(p)){const{value:W,message:M}=Dr(h);if(Ca(W)&&!p.match(W)&&(N[S]={type:un.pattern,message:M,ref:i,...I(un.pattern,M)},!n))return k(M),N}if(y){if(Hn(y)){const W=await y(p,t),M=nh(W,g);if(M&&(N[S]={...M,...I(un.validate,M.message)},!n))return k(M.message),N}else if(Oe(y)){let W={};for(const M in y){if(!xt(W)&&!n)break;const Y=nh(await y[M](p,t),g,M);Y&&(W={...Y,...I(M,Y.message)},k(Y.message),n&&(N[S]=W))}if(!xt(W)&&(N[S]={ref:g,...W},!n))return N}}return k(!0),N};function fw(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Se(e)?r++:e[t[r++]];return e}function hw(e){for(const t in e)if(e.hasOwnProperty(t)&&!Se(e[t]))return!1;return!0}function be(e,t){const n=Array.isArray(t)?t:ad(t)?[t]:E1(t),r=n.length===1?e:fw(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Oe(r)&&xt(r)||Array.isArray(r)&&hw(r))&&be(e,n.slice(0,-1)),e}var Ao=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},ka=e=>Xe(e)||!S1(e);function gr(e,t){if(ka(e)||ka(t))return e===t;if(Yr(e)&&Yr(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const i=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const l=t[s];if(Yr(i)&&Yr(l)||Oe(i)&&Oe(l)||Array.isArray(i)&&Array.isArray(l)?!gr(i,l):i!==l)return!1}}return!0}var R1=e=>e.type==="select-multiple",pw=e=>dd(e)||Gi(e),To=e=>Sa(e)&&e.isConnected,O1=e=>{for(const t in e)if(Hn(e[t]))return!0;return!1};function Ea(e,t={}){const n=Array.isArray(e);if(Oe(e)||n)for(const r in e)Array.isArray(e[r])||Oe(e[r])&&!O1(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Ea(e[r],t[r])):Xe(e[r])||(t[r]=!0);return t}function I1(e,t,n){const r=Array.isArray(e);if(Oe(e)||r)for(const s in e)Array.isArray(e[s])||Oe(e[s])&&!O1(e[s])?Se(t)||ka(n[s])?n[s]=Array.isArray(e[s])?Ea(e[s],[]):{...Ea(e[s])}:I1(e[s],Xe(t)?{}:t[s],n[s]):n[s]=!gr(e[s],t[s]);return n}var vl=(e,t)=>I1(e,t,Ea(t)),A1=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Se(e)?e:t?e===""?NaN:e&&+e:n&&nn(e)?new Date(e):r?r(e):e;function Fo(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return cd(t)?t.files:dd(t)?P1(e.refs).value:R1(t)?[...t.selectedOptions].map(({value:n})=>n):Gi(t)?L1(e.refs).value:A1(Se(t.value)?e.ref.value:t.value,e)}var mw=(e,t,n,r)=>{const s={};for(const i of e){const l=T(t,i);l&&ue(s,i,l._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Ws=e=>Se(e)?e:Ca(e)?e.source:Oe(e)?Ca(e.value)?e.value.source:e.value:e,gw=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function sh(e,t,n){const r=T(e,n);if(r||ad(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),l=T(t,i),o=T(e,i);if(l&&!Array.isArray(l)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};s.pop()}return{name:n}}var yw=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,vw=(e,t)=>!Ga(T(e,t)).length&&be(e,t);const xw={mode:Bt.onSubmit,reValidateMode:Bt.onChange,shouldFocusError:!0};function ww(e={}){let t={...xw,...e},n={submitCount:0,isDirty:!1,isLoading:Hn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=Oe(t.defaultValues)||Oe(t.values)?it(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:it(s),l={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Ao(),array:Ao(),state:Ao()},h=Jf(t.mode),y=Jf(t.reValidateMode),S=t.criteriaMode===Bt.all,C=w=>j=>{clearTimeout(c),c=setTimeout(w,j)},E=async w=>{if(f.isValid||w){const j=t.resolver?xt((await L()).errors):await I(r,!0);j!==n.isValid&&d.state.next({isValid:j})}},m=(w,j)=>{(f.isValidating||f.validatingFields)&&((w||Array.from(o.mount)).forEach(b=>{b&&(j?ue(n.validatingFields,b,j):be(n.validatingFields,b))}),d.state.next({validatingFields:n.validatingFields,isValidating:!xt(n.validatingFields)}))},p=(w,j=[],b,D,F=!0,A=!0)=>{if(D&&b){if(l.action=!0,A&&Array.isArray(T(r,w))){const H=b(T(r,w),D.argA,D.argB);F&&ue(r,w,H)}if(A&&Array.isArray(T(n.errors,w))){const H=b(T(n.errors,w),D.argA,D.argB);F&&ue(n.errors,w,H),vw(n.errors,w)}if(f.touchedFields&&A&&Array.isArray(T(n.touchedFields,w))){const H=b(T(n.touchedFields,w),D.argA,D.argB);F&&ue(n.touchedFields,w,H)}f.dirtyFields&&(n.dirtyFields=vl(s,i)),d.state.next({name:w,isDirty:W(w,j),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ue(i,w,j)},g=(w,j)=>{ue(n.errors,w,j),d.state.next({errors:n.errors})},k=w=>{n.errors=w,d.state.next({errors:n.errors,isValid:!1})},N=(w,j,b,D)=>{const F=T(r,w);if(F){const A=T(i,w,Se(b)?T(s,w):b);Se(A)||D&&D.defaultChecked||j?ue(i,w,j?A:Fo(F._f)):te(w,A),l.mount&&E()}},P=(w,j,b,D,F)=>{let A=!1,H=!1;const le={name:w},je=!!(T(r,w)&&T(r,w)._f&&T(r,w)._f.disabled);if(!b||D){f.isDirty&&(H=n.isDirty,n.isDirty=le.isDirty=W(),A=H!==le.isDirty);const yt=je||gr(T(s,w),j);H=!!(!je&&T(n.dirtyFields,w)),yt||je?be(n.dirtyFields,w):ue(n.dirtyFields,w,!0),le.dirtyFields=n.dirtyFields,A=A||f.dirtyFields&&H!==!yt}if(b){const yt=T(n.touchedFields,w);yt||(ue(n.touchedFields,w,b),le.touchedFields=n.touchedFields,A=A||f.touchedFields&&yt!==b)}return A&&F&&d.state.next(le),A?le:{}},R=(w,j,b,D)=>{const F=T(n.errors,w),A=f.isValid&&tn(j)&&n.isValid!==j;if(e.delayError&&b?(u=C(()=>g(w,b)),u(e.delayError)):(clearTimeout(c),u=null,b?ue(n.errors,w,b):be(n.errors,w)),(b?!gr(F,b):F)||!xt(D)||A){const H={...D,...A&&tn(j)?{isValid:j}:{},errors:n.errors,name:w};n={...n,...H},d.state.next(H)}},L=async w=>{m(w,!0);const j=await t.resolver(i,t.context,mw(w||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return m(w),j},Q=async w=>{const{errors:j}=await L(w);if(w)for(const b of w){const D=T(j,b);D?ue(n.errors,b,D):be(n.errors,b)}else n.errors=j;return j},I=async(w,j,b={valid:!0})=>{for(const D in w){const F=w[D];if(F){const{_f:A,...H}=F;if(A){const le=o.array.has(A.name);m([D],!0);const je=await rh(F,i,S,t.shouldUseNativeValidation&&!j,le);if(m([D]),je[A.name]&&(b.valid=!1,j))break;!j&&(T(je,A.name)?le?dw(n.errors,je,A.name):ue(n.errors,A.name,je[A.name]):be(n.errors,A.name))}H&&await I(H,j,b)}}return b.valid},ae=()=>{for(const w of o.unMount){const j=T(r,w);j&&(j._f.refs?j._f.refs.every(b=>!To(b)):!To(j._f.ref))&&ve(w)}o.unMount=new Set},W=(w,j)=>(w&&j&&ue(i,w,j),!gr(q(),s)),M=(w,j,b)=>b1(w,o,{...l.mount?i:Se(j)?s:nn(w)?{[w]:j}:j},b,j),Y=w=>Ga(T(l.mount?i:s,w,e.shouldUnregister?T(s,w,[]):[])),te=(w,j,b={})=>{const D=T(r,w);let F=j;if(D){const A=D._f;A&&(!A.disabled&&ue(i,w,A1(j,A)),F=Sa(A.ref)&&Xe(j)?"":j,R1(A.ref)?[...A.ref.options].forEach(H=>H.selected=F.includes(H.value)):A.refs?Gi(A.ref)?A.refs.length>1?A.refs.forEach(H=>(!H.defaultChecked||!H.disabled)&&(H.checked=Array.isArray(F)?!!F.find(le=>le===H.value):F===H.value)):A.refs[0]&&(A.refs[0].checked=!!F):A.refs.forEach(H=>H.checked=H.value===F):cd(A.ref)?A.ref.value="":(A.ref.value=F,A.ref.type||d.values.next({name:w,values:{...i}})))}(b.shouldDirty||b.shouldTouch)&&P(w,F,b.shouldTouch,b.shouldDirty,!0),b.shouldValidate&&$(w)},K=(w,j,b)=>{for(const D in j){const F=j[D],A=`${w}.${D}`,H=T(r,A);(o.array.has(w)||!ka(F)||H&&!H._f)&&!Yr(F)?K(A,F,b):te(A,F,b)}},Z=(w,j,b={})=>{const D=T(r,w),F=o.array.has(w),A=it(j);ue(i,w,A),F?(d.array.next({name:w,values:{...i}}),(f.isDirty||f.dirtyFields)&&b.shouldDirty&&d.state.next({name:w,dirtyFields:vl(s,i),isDirty:W(w,A)})):D&&!D._f&&!Xe(A)?K(w,A,b):te(w,A,b),Yf(w,o)&&d.state.next({...n}),d.values.next({name:l.mount?w:void 0,values:{...i}})},_=async w=>{l.mount=!0;const j=w.target;let b=j.name,D=!0;const F=T(r,b),A=()=>j.type?Fo(F._f):C1(w),H=le=>{D=Number.isNaN(le)||le===T(i,b,le)};if(F){let le,je;const yt=A(),Fr=w.type===wa.BLUR||w.type===wa.FOCUS_OUT,q1=!gw(F._f)&&!t.resolver&&!T(n.errors,b)&&!F._f.deps||yw(Fr,T(n.touchedFields,b),n.isSubmitted,y,h),to=Yf(b,o,Fr);ue(i,b,yt),Fr?(F._f.onBlur&&F._f.onBlur(w),u&&u(0)):F._f.onChange&&F._f.onChange(w);const no=P(b,yt,Fr,!1),J1=!xt(no)||to;if(!Fr&&d.values.next({name:b,type:w.type,values:{...i}}),q1)return f.isValid&&E(),J1&&d.state.next({name:b,...to?{}:no});if(!Fr&&to&&d.state.next({...n}),t.resolver){const{errors:wd}=await L([b]);if(H(yt),D){const Y1=sh(n.errors,r,b),Sd=sh(wd,r,Y1.name||b);le=Sd.error,b=Sd.name,je=xt(wd)}}else m([b],!0),le=(await rh(F,i,S,t.shouldUseNativeValidation))[b],m([b]),H(yt),D&&(le?je=!1:f.isValid&&(je=await I(r,!0)));D&&(F._f.deps&&$(F._f.deps),R(b,je,le,no))}},U=(w,j)=>{if(T(n.errors,j)&&w.focus)return w.focus(),1},$=async(w,j={})=>{let b,D;const F=ai(w);if(t.resolver){const A=await Q(Se(w)?w:F);b=xt(A),D=w?!F.some(H=>T(A,H)):b}else w?(D=(await Promise.all(F.map(async A=>{const H=T(r,A);return await I(H&&H._f?{[A]:H}:H)}))).every(Boolean),!(!D&&!n.isValid)&&E()):D=b=await I(r);return d.state.next({...!nn(w)||f.isValid&&b!==n.isValid?{}:{name:w},...t.resolver||!w?{isValid:b}:{},errors:n.errors}),j.shouldFocus&&!D&&oi(r,U,w?F:o.mount),D},q=w=>{const j={...l.mount?i:s};return Se(w)?j:nn(w)?T(j,w):w.map(b=>T(j,b))},ne=(w,j)=>({invalid:!!T((j||n).errors,w),isDirty:!!T((j||n).dirtyFields,w),error:T((j||n).errors,w),isValidating:!!T(n.validatingFields,w),isTouched:!!T((j||n).touchedFields,w)}),Ie=w=>{w&&ai(w).forEach(j=>be(n.errors,j)),d.state.next({errors:w?n.errors:{}})},Ce=(w,j,b)=>{const D=(T(r,w,{_f:{}})._f||{}).ref,F=T(n.errors,w)||{},{ref:A,message:H,type:le,...je}=F;ue(n.errors,w,{...je,...j,ref:D}),d.state.next({name:w,errors:n.errors,isValid:!1}),b&&b.shouldFocus&&D&&D.focus&&D.focus()},En=(w,j)=>Hn(w)?d.values.subscribe({next:b=>w(M(void 0,j),b)}):M(w,j,!0),ve=(w,j={})=>{for(const b of w?ai(w):o.mount)o.mount.delete(b),o.array.delete(b),j.keepValue||(be(r,b),be(i,b)),!j.keepError&&be(n.errors,b),!j.keepDirty&&be(n.dirtyFields,b),!j.keepTouched&&be(n.touchedFields,b),!j.keepIsValidating&&be(n.validatingFields,b),!t.shouldUnregister&&!j.keepDefaultValue&&be(s,b);d.values.next({values:{...i}}),d.state.next({...n,...j.keepDirty?{isDirty:W()}:{}}),!j.keepIsValid&&E()},ur=({disabled:w,name:j,field:b,fields:D,value:F})=>{if(tn(w)&&l.mount||w){const A=w?void 0:Se(F)?Fo(b?b._f:T(D,j)._f):F;ue(i,j,A),P(j,A,!1,!1,!0)}},eo=(w,j={})=>{let b=T(r,w);const D=tn(j.disabled);return ue(r,w,{...b||{},_f:{...b&&b._f?b._f:{ref:{name:w}},name:w,mount:!0,...j}}),o.mount.add(w),b?ur({field:b,disabled:j.disabled,name:w,value:j.value}):N(w,!0,j.value),{...D?{disabled:j.disabled}:{},...t.progressive?{required:!!j.required,min:Ws(j.min),max:Ws(j.max),minLength:Ws(j.minLength),maxLength:Ws(j.maxLength),pattern:Ws(j.pattern)}:{},name:w,onChange:_,onBlur:_,ref:F=>{if(F){eo(w,j),b=T(r,w);const A=Se(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,H=pw(A),le=b._f.refs||[];if(H?le.find(je=>je===A):A===b._f.ref)return;ue(r,w,{_f:{...b._f,...H?{refs:[...le.filter(To),A,...Array.isArray(T(s,w))?[{}]:[]],ref:{type:A.type,name:w}}:{ref:A}}}),N(w,!1,void 0,A)}else b=T(r,w,{}),b._f&&(b._f.mount=!1),(t.shouldUnregister||j.shouldUnregister)&&!(k1(o.array,w)&&l.action)&&o.unMount.add(w)}}},gd=()=>t.shouldFocusError&&oi(r,U,o.mount),G1=w=>{tn(w)&&(d.state.next({disabled:w}),oi(r,(j,b)=>{const D=T(r,b);D&&(j.disabled=D._f.disabled||w,Array.isArray(D._f.refs)&&D._f.refs.forEach(F=>{F.disabled=D._f.disabled||w}))},0,!1))},yd=(w,j)=>async b=>{let D;b&&(b.preventDefault&&b.preventDefault(),b.persist&&b.persist());let F=it(i);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:A,values:H}=await L();n.errors=A,F=H}else await I(r);if(be(n.errors,"root"),xt(n.errors)){d.state.next({errors:{}});try{await w(F,b)}catch(A){D=A}}else j&&await j({...n.errors},b),gd(),setTimeout(gd);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xt(n.errors)&&!D,submitCount:n.submitCount+1,errors:n.errors}),D)throw D},K1=(w,j={})=>{T(r,w)&&(Se(j.defaultValue)?Z(w,it(T(s,w))):(Z(w,j.defaultValue),ue(s,w,it(j.defaultValue))),j.keepTouched||be(n.touchedFields,w),j.keepDirty||(be(n.dirtyFields,w),n.isDirty=j.defaultValue?W(w,it(T(s,w))):W()),j.keepError||(be(n.errors,w),f.isValid&&E()),d.state.next({...n}))},vd=(w,j={})=>{const b=w?it(w):s,D=it(b),F=xt(w),A=F?s:D;if(j.keepDefaultValues||(s=b),!j.keepValues){if(j.keepDirtyValues)for(const H of o.mount)T(n.dirtyFields,H)?ue(A,H,T(i,H)):Z(H,T(A,H));else{if(ld&&Se(w))for(const H of o.mount){const le=T(r,H);if(le&&le._f){const je=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;if(Sa(je)){const yt=je.closest("form");if(yt){yt.reset();break}}}}r={}}i=e.shouldUnregister?j.keepDefaultValues?it(s):{}:it(A),d.array.next({values:{...A}}),d.values.next({values:{...A}})}o={mount:j.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!f.isValid||!!j.keepIsValid||!!j.keepDirtyValues,l.watch=!!e.shouldUnregister,d.state.next({submitCount:j.keepSubmitCount?n.submitCount:0,isDirty:F?!1:j.keepDirty?n.isDirty:!!(j.keepDefaultValues&&!gr(w,s)),isSubmitted:j.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:F?{}:j.keepDirtyValues?j.keepDefaultValues&&i?vl(s,i):n.dirtyFields:j.keepDefaultValues&&w?vl(s,w):j.keepDirty?n.dirtyFields:{},touchedFields:j.keepTouched?n.touchedFields:{},errors:j.keepErrors?n.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},xd=(w,j)=>vd(Hn(w)?w(i):w,j);return{control:{register:eo,unregister:ve,getFieldState:ne,handleSubmit:yd,setError:Ce,_executeSchema:L,_getWatch:M,_getDirty:W,_updateValid:E,_removeUnmounted:ae,_updateFieldArray:p,_updateDisabledField:ur,_getFieldArray:Y,_reset:vd,_resetDefaultValues:()=>Hn(t.defaultValues)&&t.defaultValues().then(w=>{xd(w,t.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:w=>{n={...n,...w}},_disableForm:G1,_subjects:d,_proxyFormState:f,_setErrors:k,get _fields(){return r},get _formValues(){return i},get _state(){return l},set _state(w){l=w},get _defaultValues(){return s},get _names(){return o},set _names(w){o=w},get _formState(){return n},set _formState(w){n=w},get _options(){return t},set _options(w){t={...t,...w}}},trigger:$,register:eo,handleSubmit:yd,watch:En,setValue:Z,getValues:q,reset:xd,resetField:K1,clearErrors:Ie,unregister:ve,setError:Ce,setFocus:(w,j={})=>{const b=T(r,w),D=b&&b._f;if(D){const F=D.refs?D.refs[0]:D.ref;F.focus&&(F.focus(),j.shouldSelect&&F.select())}},getFieldState:ne}}function Ki(e={}){const t=ee.useRef(),n=ee.useRef(),[r,s]=ee.useState({isDirty:!1,isValidating:!1,isLoading:Hn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Hn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ww(e),formState:r});const i=t.current.control;return i._options=e,ud({subject:i._subjects.state,next:l=>{_1(l,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),ee.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ee.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==r.isDirty&&i._subjects.state.next({isDirty:l})}},[i,r.isDirty]),ee.useEffect(()=>{e.values&&!gr(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[e.values,i]),ee.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),ee.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ee.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=j1(r,i),t.current}function xl({minLength:e=1,maxLength:t,label:n,oldValue:r="",updateKey:s="none",regex:i,patternMessage:l,checkUsername:o,isChecking:u,isTaken:c,isBusy:f,reset:d}){const{handleSubmit:h,watch:y,setError:S,clearErrors:C,control:E,formState:{errors:m}}=Ki({defaultValues:{[s]:r}}),p=y(s),g=t-p.length,{updateUser:k,isUpdating:N}=rd(),[P,R]=v.useState(!1),L=v.useRef(null);v.useEffect(()=>{P&&L.current.focus()},[P]),v.useEffect(()=>{s==="username"&&(u?S(s,{type:"checking",message:"Checking..."}):c?S(s,{type:"server",message:"Username is already taken."}):C(s))},[u,c,S,C,s]);function Q(I){if(!P){R(!0);return}const ae=I[s].trim();if(ae===r){R(!1),d&&d();return}!N&&!f&&!c&&k({[s]:ae},{onSuccess:()=>{se.dismiss(),se.success(`Updated ${n.toLowerCase()} successfully!`),R(!1),d&&d()},onError:W=>{S(s,{type:"server",message:W.message})}})}return a.jsxs("form",{onSubmit:h(Q),className:"mt-5",children:[a.jsxs("div",{className:"flex h-11 items-center justify-between",children:[a.jsx("label",{htmlFor:s,className:"select-none text-sm font-bold tracking-wider text-textAccent opacity-80 dark:text-textAccent-dark",children:n}),s!=="none"&&a.jsx("button",{disabled:N||f||c,type:"submit",className:"flex h-11 w-11 items-center justify-center rounded-full text-xl text-textAccent hover:bg-LightShade/20 dark:text-textAccent-dark",children:N?a.jsx(Ne,{}):P?a.jsx(Ax,{"aria-label":"Update"}):a.jsx(Lx,{"aria-label":"Edit"})})]}),P?a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx(rn,{name:s,control:E,rules:{required:`Enter your ${n}`,pattern:{value:i,message:l||"Invalid input."},maxLength:{value:t,message:`Maximum ${t} characters allowed.`},minLength:{value:e,message:`Minimum ${e} characters required.`},validate:I=>s==="username"?o(I,r):!0},render:({field:I})=>a.jsx("input",{...I,autoComplete:"off",autoCapitalize:"none",onBlur:()=>I.onBlur(),id:s,type:"text",ref:ae=>{I.ref(ae),L.current=ae},maxLength:t,className:`${m[s]&&m[s].type!=="checking"?"border-RedColor":"border-textAccent dark:border-textAccent-dark"} h-10 w-full rounded-md border-b-2 bg-bgSecondary px-2 text-base text-textPrimary outline-none dark:bg-LightShade/20 dark:text-textPrimary-dark`})}),a.jsx("span",{className:"mt-3 flex w-11 select-none items-start justify-center text-xs text-textAccent dark:text-textAccent-dark",children:g})]}),m[s]&&m[s].message&&a.jsx("p",{className:`mt-1 text-xs ${m[s].type==="checking"?"text-textAccent-dark":"text-RedColor"}`,children:m[s].message})]}):a.jsxs("p",{className:"self-center text-base",children:[n==="Username"?"@":"",p]})]})}async function Sw(e){if(!e)return;const{data:t,error:n}=await Jr.from("usernames").select("username").eq("username",e);if(n)throw new Error(n.message);return t[0]}function Cw(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(!1),[l,o]=v.useState(!1),[u,c]=v.useState(!1);v.useEffect(()=>{if(!n||n.length<pa||n.length>ma||!Jc.test(n)){i(!1);return}const h=setTimeout(()=>{o(!0),Sw(n).then(y=>{if((y==null?void 0:y.username)===n)if(e===n){c(!1);return}else c(!0);else{c(!1);return}}).catch(y=>{console.error(y)}).finally(()=>{o(!1),i(!1)})},500);return()=>clearTimeout(h)},[n,e]);const f=(h,y)=>{i(!0),r(h.trim()),y&&t(y.trim())};function d(){r(""),t(""),i(!1),o(!1),c(!1)}return{isBusy:s,isChecking:l,isTaken:u,checkUsername:f,reset:d}}function kw(){const{isBusy:e,isChecking:t,isTaken:n,checkUsername:r,reset:s}=Cw(),{user:{email:i,user_metadata:{fullname:l,username:o,bio:u,avatar_url:c}}}=gt(),{closeAccountView:f}=mt();return a.jsxs("div",{className:"fadeIn grid h-screen-safe grid-rows-[auto_1fr] bg-bgPrimary dark:bg-bgPrimary-dark",children:[a.jsxs("div",{className:"flex h-16 items-center justify-start gap-4 bg-LightShade/10 p-2",children:[a.jsx(kt,{onClick:f,children:a.jsx(kt.Back,{})}),a.jsx("p",{className:"select-none font-bold tracking-wider",children:"Profile"})]}),a.jsxs("div",{tabIndex:-1,className:"h-full overflow-scroll p-10",children:[a.jsx(zx,{avatar:c}),a.jsx(xl,{label:"Name",oldValue:l,updateKey:"fullname",maxLength:Fv,regex:Vv,patternMessage:"Only letters, numbers, and single spaces are allowed."}),a.jsx(xl,{label:"Username",oldValue:o,updateKey:"username",minLength:pa,maxLength:ma,regex:Jc,patternMessage:"Only lowercase letters, numbers, underscores, and dashes are allowed.",checkUsername:r,isChecking:t,isTaken:n,isBusy:e,reset:s}),a.jsx(xl,{label:"Bio",oldValue:u,updateKey:"bio",maxLength:Tv}),a.jsx(xl,{label:"Email",oldValue:i}),a.jsx(ew,{})]})]})}function Ew(){return a.jsx("div",{className:"bg-LightShade/20 p-2 text-xs",children:a.jsxs("p",{className:"text-center opacity-80",children:[" ",new Date().getFullYear()," BarsikChat"]})})}async function jw(e){if(!e||e.length<2)return[];const t=await Fe(`/api/chat/users?search=${encodeURIComponent(e)}`);if(!t||!Array.isArray(t))return[];const n=localStorage.getItem("username");return t.filter(r=>r.username!==n).map(r=>({id:r.username,fullname:r.username,username:r.username,avatar_url:r.avatarUrl||"",bio:"",tag:r.tag||"",online:r.online||!1}))}function _w(){const{searchQuery:e}=mt(),t=e.trim(),{user:{id:n}}=gt(),[r,s]=v.useState([]),[i,l]=v.useState(!0),[o,u]=v.useState(!1),[c,f]=v.useState("");return v.useEffect(function(){const h=new AbortController;let y;async function S(){try{u(!0),f("");const C=await jw(t);s(C),f(""),l(!1)}catch(C){C.name!=="AbortError"&&(f(C.message),se.error(C.message))}finally{u(!1)}}if(t.length<Mv){l(!0),f(""),u(!1);return}else l(!1);return u(!0),clearTimeout(y),y=setTimeout(()=>{S()},1e3),function(){h.abort(),clearTimeout(y)}},[t]),{users:r==null?void 0:r.filter(h=>h.id!==n),isShortQuery:i,isLoading:o,error:c}}function fd(e){return v.useCallback(n=>{n.key==="Enter"&&e(n)},[e])}function hd({id:e,name:t,avatar:n,subtext:r,handler:s,shouldReplace:i=!1}){const{userId:l}=Ba(),o=l===e,u=Ft();function c(){s(),u(`/chat/${e}`,{replace:i})}const f=fd(c);return a.jsxs("div",{className:`${o?"pointer-events-none bg-gradient-to-r text-textPrimary-dark sm:from-bgAccentDim sm:to-bgAccent dark:sm:from-bgAccentDim-dark dark:sm:to-bgAccent-dark":"hover:bg-LightShade/20"} flex cursor-pointer select-none items-center gap-2 rounded-lg p-2 `,onClick:c,onKeyDown:f,role:"button",tabIndex:0,children:[a.jsx("span",{className:"h-12 w-12  flex-shrink-0 overflow-hidden rounded-full",children:n?a.jsx("img",{src:n,alt:t,className:"pointer-events-none h-full w-full object-cover"}):a.jsx(Qa,{size:55,viewBox:"2 2 24 24",opacity:.5,strokeWidth:"1"})}),a.jsxs("span",{className:"flex flex-col overflow-hidden ",children:[a.jsx("span",{className:"truncate font-bold",children:t}),a.jsx("span",{className:"truncate text-sm opacity-70",children:r})]})]})}function Ze({children:e,opacity:t=60}){return a.jsx("span",{className:`slideUpMessage my-4 flex select-none items-center justify-center opacity-${t}`,children:e})}function Nw(){const{users:e,isShortQuery:t,isLoading:n,error:r}=_w(),{closeSearchView:s}=mt();return t?a.jsx(Ze,{children:"Search for people"}):n?a.jsx(Ze,{opacity:100,children:a.jsx(Ne,{text:"Searching",size:"medium"})}):r?a.jsx(Ze,{children:" Something went wrong!"}):e.length?a.jsx("div",{className:"fadeIn p-2",children:e.map(({id:i,avatar_url:l,fullname:o,username:u})=>a.jsx(hd,{id:i,avatar:l,name:o,subtext:u,handler:()=>s({back:!1}),shouldReplace:!0},i))}):a.jsx(Ze,{children:"No users found!"})}function T1({onClick:e,userData:t}){const n=t==null?void 0:t.fullname,r=t==null?void 0:t.username,s=t==null?void 0:t.avatar_url,i=fd(e);return t?a.jsxs("div",{className:"mr-auto grid cursor-pointer grid-cols-[2.5rem_1fr] gap-4 truncate rounded-lg border border-LightShade/20 bg-LightShade/5 p-2 hover:bg-LightShade/20",onClick:e,onKeyDown:i,role:"button",tabIndex:0,children:[a.jsx("div",{className:"h-11 w-11 overflow-hidden rounded-full",children:s?a.jsx("img",{src:s,alt:n,className:"pointer-events-none h-full w-full object-cover"}):a.jsx(Qa,{size:45,opacity:.5,strokeWidth:"1"})}),a.jsxs("div",{className:"truncate text-left",children:[a.jsx("p",{className:"truncate",children:n}),a.jsxs("p",{className:"truncate text-sm opacity-70",children:["@",r]})]})]}):a.jsx("span",{children:""})}function F1(){const{resetUi:e}=mt(),t=Ft(),n=Zt(),{mutate:r,isPending:s}=Fs({mutationFn:Jx,onSuccess:()=>{n.removeQueries(),e(),t("/signin")},onError:i=>{se.error(i.message)}});return{signout:r,isPending:s}}function Ae({children:e}){return a.jsx("div",{className:"fadeIn absolute left-4 top-12 z-50 w-60 divide-y divide-LightShade/20 rounded-lg bg-bgPrimary p-2 shadow-[0_10px_60px_rgba(0,0,0,0.3)] dark:divide-LightShade/50  dark:bg-bgTertiary",children:e})}function pd({children:e}){return a.jsx("div",{className:"px-4 py-3 text-lg",children:e})}function bw({children:e}){return a.jsx("div",{className:"truncate",children:e})}function Lw({children:e}){return a.jsx("div",{className:"truncate text-sm opacity-70",children:e})}function Pw({children:e}){return a.jsx("ul",{className:"py-2","aria-labelledby":"dropdownInformationButton",children:e})}const Ka="focus:outline-none cursor-pointer flex w-full items-center gap-2 rounded-md px-4 py-2 text-base hover:bg-LightShade/10 dark:hover:text-textPrimary-dark focus:ring-2 focus:ring-bgAccent";function Rw({children:e,href:t}){return a.jsx("li",{children:a.jsx("a",{className:Ka,href:t,target:"_blank",rel:"noopener noreferrer",children:e})})}function Ow({children:e,to:t}){return a.jsx("li",{children:a.jsx(Ha,{to:t,className:Ka,children:e})})}function Iw({children:e,onClick:t}){return a.jsx("li",{children:a.jsx("button",{className:Ka,onClick:()=>t(),children:e})})}function Aw({children:e,toggler:t,isChecked:n}){return a.jsx("li",{children:a.jsxs("label",{onChange:()=>t(),onKeyDown:r=>{r.key==="Enter"&&t()},className:Ka+" justify-between",tabIndex:0,children:[a.jsx("span",{className:"flex items-center gap-2",children:e}),a.jsxs("div",{className:"relative flex",children:[a.jsx("input",{checked:n,type:"checkbox",onChange:()=>t(),tabIndex:-1,className:"peer sr-only"}),a.jsx("div",{className:"peer h-5 w-9 rounded-full bg-LightShade/20 shadow-sm after:absolute after:start-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:bg-bgPrimary after:shadow-md after:transition-all after:content-[''] peer-checked:bg-bgAccent peer-checked:after:translate-x-full rtl:peer-checked:after:translate-x-[-100%]"})]})]})})}function Tw(){return a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 truncate text-center text-xs",children:[a.jsx("img",{className:"h-6 rounded-full border-2 border-LightShade/20",src:"/images/barsik-logo.svg",alt:"BarsikChat"}),a.jsxs("span",{className:" opacity-60",children:[Ns," ",Iv]})]})})}Ae.Header=pd;pd.Name=bw;pd.Email=Lw;Ae.List=Pw;Ae.LinkItem=Rw;Ae.RouteItem=Ow;Ae.ButtonItem=Iw;Ae.TogglerItem=Aw;Ae.Footer=Tw;function Fw(){const{user:e}=gt(),{email:t,user_metadata:{fullname:n}}=e,{openAccountView:r,isDarkMode:s,toggleDarkMode:i,isMenuOpen:l,toggleMenu:o}=mt(),{signout:u,isPending:c}=F1();return a.jsx(Yc,{isOpen:l,toggle:o,withOverlay:!1,children:a.jsxs(Ae,{children:[a.jsxs(Ae.Header,{children:[a.jsx(Ae.Header.Name,{children:n}),a.jsx(Ae.Header.Email,{children:t})]}),a.jsxs(Ae.List,{children:[a.jsxs(Ae.ButtonItem,{onClick:r,children:[a.jsx(Ux,{}),a.jsx("div",{children:"My Account"})]}),a.jsxs(Ae.TogglerItem,{isChecked:s,toggler:i,children:[a.jsx(Vx,{}),a.jsx("div",{children:"Dark Mode"})]}),a.jsxs(Ae.LinkItem,{href:"#",children:[a.jsx(Px,{}),a.jsx("div",{children:"  "})]}),a.jsxs(Ae.RouteItem,{to:"/about",children:[a.jsx(Tx,{}),a.jsx("div",{children:"About"})]}),a.jsxs(Ae.ButtonItem,{onClick:u,children:[c?a.jsx(Ne,{}):a.jsx(y1,{}),a.jsx("div",{children:"Sign out"})]})]}),a.jsx(Ae.Footer,{})]})})}function Mw(){const{signout:e,isPending:t}=F1();function n(){e()}return a.jsxs("button",{className:"flex flex-shrink-0 items-center justify-center gap-2 rounded-full border border-LightShade/20 bg-LightShade/5 p-3  shadow-sm hover:bg-LightShade/20",disabled:t,onClick:n,children:[t?a.jsx(Ne,{}):a.jsx(y1,{"aria-label":"logout"}),a.jsx("span",{className:"hidden xm:block",children:"Sign out"})]})}function Dw(){const{user:e}=gt(),t=e==null?void 0:e.user_metadata,{openAccountView:n,isSearchViewOpen:r,closeSearchView:s,isMenuOpen:i,toggleMenu:l}=mt();function o(){r?s():l()}return a.jsxs("div",{className:"mb-4 flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(kt,{onClick:o,children:[r&&a.jsx(kt.Back,{}),i&&a.jsx(kt.Close,{}),!r&&!i&&a.jsx(kt.Menu,{})]}),i&&a.jsx(Fw,{})]}),a.jsx(T1,{userData:t,onClick:n}),a.jsx(Mw,{})]})}function Uw(){const{isSearchViewOpen:e,openSearchView:t,searchQuery:n,updateSearchQuery:r}=mt(),s=v.useRef(null);return v.useEffect(()=>{!e&&s.current&&s.current.blur()},[e]),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"searchPeople",className:"sr-only",children:"Search people"}),a.jsx("input",{id:"searchPeople",className:"flex w-full grow items-center justify-between self-stretch overflow-hidden rounded-full border border-LightShade/20 bg-LightShade/10 p-2 pl-9 outline-none transition-all duration-200 ease-in-out focus:ring-2 focus:ring-bgAccent",value:n,onChange:i=>r(i.target.value),type:"text",onClick:()=>t(),placeholder:"Search people","aria-label":"Search people",ref:s}),a.jsx("span",{className:"pointer-events-none absolute left-3 top-3 text-xl opacity-30",children:a.jsx(Dx,{"aria-label":"search icon"})})]})}async function Vw(){return await Fe("/api/rooms")||[]}async function zw({myUserId:e}){const n=(await Vw()).filter(s=>s.type==="PRIVATE"||s.type==="ROOM"),r=await Promise.all(n.map(async s=>{var u;const i=s.type==="ROOM",l=i?null:((u=s.members)==null?void 0:u.find(c=>c!==e))||"";let o=null;try{const c=await Fe(`/api/rooms/${encodeURIComponent(s.id)}/history?page=0&size=1`);c&&c.length>0&&(o={content:c[0].content||"",created_at:c[0].timestamp||s.createdAt,sender_id:c[0].sender||""})}catch{}return i?{id:s.id,isGroup:!0,last_message:o,created_at:s.createdAt,friendInfo:{id:s.id,fullname:s.name||"",username:s.name||s.id,avatar_url:s.avatarUrl||"",bio:s.description||""},members:s.members}:{id:s.id,user1_id:e,user2_id:l,last_message:o,created_at:s.createdAt,friendInfo:{id:l,fullname:l,username:l,avatar_url:s.avatarUrl||"",bio:""}}}));return r.sort((s,i)=>{var u,c;const l=((u=s.last_message)==null?void 0:u.created_at)||s.created_at||"";return(((c=i.last_message)==null?void 0:c.created_at)||i.created_at||"").localeCompare(l)}),r}async function M1({conversation_id:e,pageParam:t=0}){if(!e)return[];const n=Uv,r=t,s=await Fe(`/api/rooms/${encodeURIComponent(e)}/history?page=${r}&size=${n}`);return!s||!Array.isArray(s)?[]:s.map(l=>({id:l.id,conversation_id:e,content:l.content||"",sender_id:l.sender,created_at:l.timestamp,type:l.type||"CHAT",fileUrl:l.fileUrl,fileName:l.fileName,edited:l.edited||!1})).reverse()}async function $w(e){const t=await Fe(`/api/rooms/private/${encodeURIComponent(e)}`,{method:"POST"});return t==null?void 0:t.id}async function Bw({id:e,conversation_id:t,content:n,friendUserId:r}){let s=t;if(s||(s=await $w(r)),!ot({type:"CHAT",roomId:s,content:n,id:e}))throw new Error("   .  .");return{id:e,conversation_id:s,content:n,sender_id:localStorage.getItem("username"),created_at:new Date().toISOString(),type:"CHAT"}}async function D1({myUserId:e,friendUserId:t}){if(!t)return null;const n=await Xx(t);let r=null;try{r=await Fe(`/api/rooms/private/${encodeURIComponent(t)}`,{method:"POST"})}catch{}return{id:(r==null?void 0:r.id)||null,user1_id:e,user2_id:t,friendInfo:n,created_at:(r==null?void 0:r.createdAt)||null}}async function U1({roomId:e}){if(!e)return null;const t=await Fe(`/api/rooms/${encodeURIComponent(e)}`);return t?{id:t.id,isGroup:!0,friendInfo:{id:t.id,fullname:t.name||"",username:t.name||t.id,avatar_url:t.avatarUrl||"",bio:t.description||""},members:t.members||[],createdBy:t.createdBy,created_at:t.createdAt,description:t.description}:null}function Hw(){const e=Zt(),{user:t}=gt(),n=t.id,{data:r,isPending:s,error:i}=Wi({queryKey:["conversations",n],queryFn:()=>zw({myUserId:n})}),l=v.useRef(!1);return v.useEffect(()=>{!r||l.current||(r==null||r.slice(0,Dv).forEach(o=>{var d;const u=o==null?void 0:o.id,c=(d=o==null?void 0:o.friendInfo)==null?void 0:d.id,f=o==null?void 0:o.isGroup;!u||!c||(e.prefetchInfiniteQuery({queryKey:["friend",c],queryFn:({pageParam:h})=>M1({conversation_id:u,pageParam:h}),pages:1}),f?e.prefetchQuery({queryKey:["convInfo","room",u],queryFn:()=>U1({roomId:u})}):e.prefetchQuery({queryKey:["convInfo",c],queryFn:()=>D1({myUserId:n,friendUserId:c})}))}),l.current=!0)},[r,e,n]),{conversations:r,isPending:s,error:i}}function V1({group:e,handler:t}){var u,c,f;const{roomId:n}=Ba(),r=n===e.id,s=Ft();function i(){t(),s(`/chat/room/${encodeURIComponent(e.id)}`)}const l=fd(i),o=`${((u=e.members)==null?void 0:u.length)||0} ${(((c=e.members)==null?void 0:c.length)||0)===1?"":(((f=e.members)==null?void 0:f.length)||0)<5?"":""}`;return a.jsxs("div",{className:`${r?"pointer-events-none bg-gradient-to-r text-textPrimary-dark sm:from-bgAccentDim sm:to-bgAccent dark:sm:from-bgAccentDim-dark dark:sm:to-bgAccent-dark":"hover:bg-LightShade/20"} flex cursor-pointer select-none items-center gap-2 rounded-lg p-2`,onClick:i,onKeyDown:l,role:"button",tabIndex:0,children:[a.jsx("span",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center overflow-hidden rounded-full bg-bgAccent/20 dark:bg-bgAccent-dark/20",children:e.avatarUrl?a.jsx("img",{src:e.avatarUrl,alt:e.name,className:"pointer-events-none h-full w-full object-cover"}):a.jsx(Gv,{size:28,opacity:.6})}),a.jsxs("span",{className:"flex flex-col overflow-hidden",children:[a.jsx("span",{className:"truncate font-bold",children:e.name}),a.jsx("span",{className:"truncate text-sm opacity-70",children:e.description||o})]})]})}function Qw(){const{conversations:e,isPending:t,error:n}=Hw(),{closeSidebar:r}=mt();if(t)return a.jsx(Ze,{opacity:100,children:a.jsx(Ne,{size:"medium",text:"Loading chats"})});if(n)return a.jsxs(Ze,{children:[" ",n.message]});if(!(e!=null&&e.length))return a.jsx(Ze,{children:" .    !"});if(e)return e.map(s=>{var c,f,d,h,y,S,C;if(s!=null&&s.isGroup)return a.jsx(V1,{group:{id:s.id,name:((c=s.friendInfo)==null?void 0:c.fullname)||"",description:((f=s.friendInfo)==null?void 0:f.bio)||"",avatarUrl:((d=s.friendInfo)==null?void 0:d.avatar_url)||"",members:s.members||[]},handler:r},s.id);const i=(h=s==null?void 0:s.friendInfo)==null?void 0:h.id;if(!i)return null;const l=(y=s==null?void 0:s.friendInfo)==null?void 0:y.avatar_url,o=(S=s==null?void 0:s.friendInfo)==null?void 0:S.fullname,u=(C=s==null?void 0:s.last_message)==null?void 0:C.content;return a.jsx(hd,{id:i,avatar:l,name:o,subtext:u,handler:r},i)})}async function Ww(){const e=await Fe("/api/chat/contacts");return!e||!Array.isArray(e)?[]:e.map(t=>({id:t.contact,fullname:t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`:t.firstName||t.contact,username:t.contact,avatar_url:t.avatarUrl||"",tag:t.tag||""}))}function z1(){const{data:e,isPending:t,error:n}=Wi({queryKey:["contacts"],queryFn:Ww,staleTime:6e4});return{contacts:e,isPending:t,error:n}}function Zw(){const{contacts:e,isPending:t,error:n}=z1(),{closeSidebar:r}=mt();return t?a.jsx(Ze,{opacity:100,children:a.jsx(Ne,{size:"medium",text:" "})}):n?a.jsxs(Ze,{children:[" ",n.message]}):e!=null&&e.length?e.map(s=>a.jsx(hd,{id:s.id,avatar:s.avatar_url,name:s.fullname,subtext:s.tag||`@${s.username}`,handler:r},s.id)):a.jsx(Ze,{children:" .    !"})}async function Gw(){const e=await Fe("/api/rooms");return!e||!Array.isArray(e)?[]:e.filter(t=>t.type==="ROOM").map(t=>({id:t.id,name:t.name||"",description:t.description||"",avatarUrl:t.avatarUrl||"",members:t.members||[],createdBy:t.createdBy,createdAt:t.createdAt}))}function Kw(){const{data:e,isPending:t,error:n}=Wi({queryKey:["groups"],queryFn:Gw,staleTime:6e4});return{groups:e,isPending:t,error:n}}function qw({isOpen:e,onClose:t}){const[n,r]=v.useState(""),[s,i]=v.useState(""),[l,o]=v.useState([]),[u,c]=v.useState(!1),{contacts:f}=z1(),d=Zt(),h=Ft();function y(C){o(E=>E.includes(C)?E.filter(m=>m!==C):[...E,C])}async function S(C){if(C.preventDefault(),!n.trim()){se.error("  ");return}c(!0);try{const E=await Fe("/api/rooms/create",{method:"POST",body:JSON.stringify({name:n.trim(),description:s.trim(),type:"ROOM",memberUsernames:l})});d.invalidateQueries({queryKey:["groups"]}),d.invalidateQueries({queryKey:["conversations"]}),se.success(" !"),t(),E!=null&&E.id&&h(`/chat/room/${encodeURIComponent(E.id)}`),r(""),i(""),o([])}catch(E){se.error(E.message||"   ")}finally{c(!1)}}return e?a.jsx("div",{className:"fixed inset-0 z-[9000] flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-bgPrimary shadow-2xl dark:bg-bgPrimary-dark",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-LightShade/20 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(x1,{className:"text-xl text-bgAccent dark:text-bgAccent-dark"}),a.jsx("h2",{className:"text-lg font-semibold",children:" "})]}),a.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-LightShade/20",children:a.jsx(sd,{className:"text-2xl"})})]}),a.jsxs("form",{onSubmit:S,className:"p-4",children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-textPrimary/70 dark:text-textPrimary-dark/70",children:"  *"}),a.jsx("input",{type:"text",value:n,onChange:C=>r(C.target.value),placeholder:":  ",maxLength:50,className:"mb-3 w-full rounded-lg border border-LightShade/30 bg-transparent px-3 py-2 outline-none focus:border-bgAccent dark:border-LightShade/20 dark:focus:border-bgAccent-dark"}),a.jsx("label",{className:"mb-1 block text-sm font-medium text-textPrimary/70 dark:text-textPrimary-dark/70",children:""}),a.jsx("input",{type:"text",value:s,onChange:C=>i(C.target.value),placeholder:"  ?",maxLength:200,className:"mb-4 w-full rounded-lg border border-LightShade/30 bg-transparent px-3 py-2 outline-none focus:border-bgAccent dark:border-LightShade/20 dark:focus:border-bgAccent-dark"}),a.jsxs("label",{className:"mb-2 block text-sm font-medium text-textPrimary/70 dark:text-textPrimary-dark/70",children:[" (",l.length,")"]}),a.jsx("div",{className:"mb-4 max-h-48 overflow-y-auto rounded-lg border border-LightShade/20 p-1",children:(f==null?void 0:f.length)>0?f.map(C=>{var E,m;return a.jsxs("label",{className:"flex cursor-pointer items-center gap-3 rounded-lg px-3 py-2 hover:bg-LightShade/10",children:[a.jsx("input",{type:"checkbox",checked:l.includes(C.username),onChange:()=>y(C.username),className:"h-4 w-4 rounded accent-bgAccent"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-blue-400 to-purple-500 text-xs font-bold text-white",children:((m=(E=C.fullname)==null?void 0:E[0])==null?void 0:m.toUpperCase())||"?"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:C.fullname}),a.jsxs("p",{className:"text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:["@",C.username]})]})]})]},C.id)}):a.jsx("p",{className:"py-4 text-center text-sm text-textPrimary/50 dark:text-textPrimary-dark/50",children:" .    ."})}),a.jsx("button",{type:"submit",disabled:u||!n.trim(),className:"w-full rounded-xl bg-bgAccent py-2.5 font-semibold text-textPrimary-dark transition hover:bg-bgAccentDim active:scale-[0.98] disabled:opacity-60 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",children:u?"...":" "})]})]})}):null}function Jw(){const{groups:e,isPending:t,error:n}=Kw(),{closeSidebar:r}=mt(),[s,i]=v.useState(!1);return t?a.jsx(Ze,{opacity:100,children:a.jsx(Ne,{size:"medium",text:" "})}):n?a.jsxs(Ze,{children:[" ",n.message]}):a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>i(!0),className:"mb-2 flex w-full items-center gap-2 rounded-xl px-3 py-2.5 text-sm font-medium text-bgAccent transition hover:bg-LightShade/10 dark:text-bgAccent-dark",children:[a.jsx(Ix,{className:"text-lg"})," "]}),e!=null&&e.length?e.map(l=>a.jsx(V1,{group:l,handler:r},l.id)):a.jsx(Ze,{children:" .     !"}),a.jsx(qw,{isOpen:s,onClose:()=>i(!1)})]})}const Yw=[{key:"chats",label:""},{key:"contacts",label:""},{key:"groups",label:""}];function Xw(){const[e,t]=v.useState("chats");return a.jsxs("div",{className:"grid h-full grid-rows-[auto_1fr]",children:[a.jsx("div",{className:"flex border-b border-t border-LightShade/20",children:Yw.map(n=>a.jsx("button",{onClick:()=>t(n.key),className:`flex-1 px-2 py-2.5 text-sm font-medium transition-colors ${e===n.key?"border-b-2 border-bgAccent text-bgAccent dark:border-bgAccent-dark dark:text-bgAccent-dark":"text-textPrimary/60 hover:text-textPrimary dark:text-textPrimary-dark/60 dark:hover:text-textPrimary-dark"}`,children:n.label},n.key))}),a.jsxs("div",{tabIndex:-1,className:"h-full overflow-auto p-2",children:[e==="chats"&&a.jsx(Qw,{}),e==="contacts"&&a.jsx(Zw,{}),e==="groups"&&a.jsx(Jw,{})]})]})}function e4(){const{isSearchViewOpen:e}=mt();return a.jsxs("div",{className:"relative z-30 grid h-screen-safe select-none grid-cols-1 grid-rows-[auto_1fr] overflow-hidden",children:[a.jsxs("div",{className:"px-2 py-4",children:[a.jsx(Dw,{}),a.jsx(Uw,{})]}),a.jsx("div",{className:"h-full overflow-auto",children:e?a.jsx(Nw,{}):a.jsx(Xw,{})}),a.jsx(Ew,{})]})}function t4(){const{isSidebarOpen:e,isAccountViewOpen:t,closeSidebar:n,openSidebar:r}=mt(),{userId:s,roomId:i}=Ba(),l=!!(s||i);v.useEffect(()=>{l?n():r()},[l]);function o(){l&&n()}return a.jsx(Yc,{isOpen:e,toggle:o,children:a.jsx("aside",{className:`${e?"visible left-0 opacity-100":"invisible -left-full opacity-0"} absolute top-0 z-30 h-screen-safe w-full overflow-hidden bg-bgPrimary shadow-lg transition-all duration-500 ease-[cubic-bezier(.15,.72,.08,.99)] dark:bg-bgPrimary-dark sm:w-[23rem] md:visible md:relative md:left-0 md:opacity-100`,children:t?a.jsx(kw,{}):a.jsx(e4,{})})})}function pt({children:e}){return a.jsx("main",{className:"flex min-h-screen-safe flex-col items-center justify-center overflow-hidden bg-gradient-to-br from-bgSecondary to-bgSecondaryDim text-textPrimary dark:from-bgSecondary-dark dark:to-bgSecondaryDim-dark dark:text-textPrimary-dark",children:e})}function n4(){return a.jsx(pt,{children:a.jsxs("div",{className:"grid w-full grid-cols-[auto_1fr]",children:[a.jsx(t4,{}),a.jsx(vv,{})]})})}function r4({children:e}){const t=Ft(),{isLoading:n,isAuthenticated:r}=gt();if(v.useEffect(function(){!r&&!n&&t("/signin",{replace:!0})},[r,n,t]),n)return a.jsx(pt,{children:a.jsx(Ne,{size:"large",text:"Loading"})});if(r)return e}function s4(){const e=Zt(),{mutate:t,isPending:n,error:r,isSuccess:s}=Fs({mutationFn:({username:i,password:l,tag:o})=>qx({username:i,password:l,tag:o}),onMutate:()=>{se.loading("...")},onSuccess:i=>{e.setQueriesData(["user"],i),se.dismiss(),se.success(" !")},onError:i=>{se.dismiss(),se.error(i.message)}});return{signup:t,isPending:n,error:r,isSuccess:s}}function or({children:e,addClass:t}){return a.jsx("h1",{className:`mx-auto mb-5 text-center text-2xl ${t}`,children:e})}function qa({children:e,onSubmit:t}){return a.jsx("div",{className:" flex w-full items-center justify-center p-4",children:a.jsx("form",{onSubmit:t,className:"flex w-full max-w-sm flex-col items-start rounded-xl bg-bgPrimary p-6 shadow-2xl dark:bg-bgTertiary",children:e})})}function gn({value:e,onChange:t,onBlur:n,placeholder:r,type:s,error:i,htmlFor:l,disabled:o}){return a.jsxs("div",{className:"input-container mb-6 w-full",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{value:e,onChange:u=>t(u.target.value),onBlur:n,autoComplete:"off",type:s,id:l,disabled:o,className:`${i?"border-RedColor":""} peer block w-full appearance-none rounded-lg border-2 border-LightShade/50 bg-transparent px-4 pb-2.5 pt-4 focus:border-textAccentDim focus:outline-none focus:ring-0 dark:border-LightShade dark:focus:border-textAccentDim-dark`,placeholder:" "}),a.jsx("label",{htmlFor:l,className:`${i?"text-RedColor":""} pointer-events-none absolute start-1 top-2 z-10 mx-2 origin-[0] -translate-y-5 scale-75 transform bg-bgPrimary px-2 text-LightGray transition-all duration-100 ease-out peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:mx-2 peer-focus:-translate-y-5 peer-focus:scale-75 peer-focus:text-textAccentDim dark:bg-bgTertiary  dark:text-LightGray-dark peer-focus:dark:text-textAccentDim-dark rtl:peer-focus:left-auto rtl:peer-focus:translate-x-1/4`,children:r})]}),i&&a.jsx("p",{className:"ml-2 mt-1 text-sm text-RedColor",children:i})]})}function Ja({children:e,type:t="submit",disabled:n=!1}){return a.jsx("button",{type:t,disabled:n,className:"mb-4 flex w-full items-center justify-center rounded-md bg-bgAccent p-3 font-bold leading-6 tracking-wider text-textPrimary-dark transition-all duration-200 hover:bg-bgAccent-dark active:scale-95 disabled:pointer-events-none disabled:bg-bgAccent/50",children:e})}function Ya({children:e,href:t,addClass:n,to:r}){const s=`text-textAccent underline dark:text-textAccent-dark ${n}`;if(r)return a.jsx(Ha,{className:s,to:r,children:e});if(t)return a.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:s,children:e})}function Xa(){return a.jsxs("div",{className:"pointer-events-none mb-8 mt-4 flex select-none flex-col items-center",children:[a.jsx("span",{className:"text-7xl md:text-8xl",children:""}),a.jsx("span",{className:"mt-2 text-2xl font-bold text-textAccent dark:text-textAccent-dark md:text-3xl",children:"BarsikChat"})]})}function i4(){document.title=Ns+"  ";const{signup:e,isPending:t,isSuccess:n}=s4(),{isAuthenticated:r}=gt(),s=Ft(),{control:i,handleSubmit:l,formState:{errors:o},trigger:u,watch:c}=Ki({defaultValues:{username:"",tag:"",password:"",confirmPassword:""}}),f=c("password");v.useEffect(()=>{(r||n)&&s("/chat",{replace:!0})},[r,n,s]);const d=({username:h,tag:y,password:S})=>{e({username:h.trim(),password:S,tag:y.trim()})};return a.jsxs(pt,{children:[a.jsx(Xa,{}),a.jsxs(qa,{onSubmit:l(d),children:[a.jsx(or,{addClass:"text-3xl",children:""}),a.jsx(rn,{name:"username",control:i,rules:{required:"  .",pattern:{value:Jc,message:"  , ,   ."},minLength:{value:pa,message:` ${pa} .`},maxLength:{value:ma,message:` ${ma} .`}},render:({field:h})=>{var y;return a.jsx(gn,{type:"text",value:h.value,onChange:h.onChange,onBlur:()=>u("username"),placeholder:" ",htmlFor:"username",error:(y=o.username)==null?void 0:y.message,disabled:t,autoFocus:!0})}}),a.jsx(rn,{name:"tag",control:i,rules:{required:" .",maxLength:{value:25,message:" 25 ."}},render:({field:h})=>{var y;return a.jsx(gn,{type:"text",value:h.value,onChange:h.onChange,onBlur:()=>u("tag"),placeholder:" (@yourtag)",htmlFor:"tag",error:(y=o.tag)==null?void 0:y.message,disabled:t})}}),a.jsx(rn,{name:"password",control:i,rules:{required:" .",minLength:{value:ga,message:` ${ga} .`}},render:({field:h})=>{var y;return a.jsx(gn,{type:"password",value:h.value,onChange:h.onChange,onBlur:()=>u("password"),placeholder:"",htmlFor:"password",error:(y=o.password)==null?void 0:y.message,disabled:t})}}),a.jsx(rn,{name:"confirmPassword",control:i,rules:{required:" .",validate:h=>h===f||"  ."},render:({field:h})=>{var y;return a.jsx(gn,{type:"password",value:h.value,onChange:h.onChange,onBlur:()=>u("confirmPassword"),placeholder:" ",htmlFor:"confirmPassword",error:(y=o.confirmPassword)==null?void 0:y.message,disabled:t})}}),a.jsx(Ja,{disabled:t,type:"submit",children:t?a.jsxs(a.Fragment,{children:[a.jsx(Ne,{size:"small"}),a.jsx("span",{className:"ml-2",children:"..."})]}):a.jsx("span",{children:""})}),a.jsxs("p",{children:["  ?"," ",a.jsx(Ya,{to:"/signin",children:""})]})]})]})}function l4(){const e=Zt(),{mutate:t,isPending:n}=Fs({mutationFn:({username:r,password:s})=>Kx({username:r,password:s}),onMutate:()=>{se.loading("...")},onSuccess:r=>{e.setQueriesData(["user"],r),se.dismiss()},onError:r=>{se.dismiss(),se.error(r.message)}});return{signin:t,isPending:n}}function a4(){document.title=Ns+"  ";const{signin:e,isPending:t}=l4(),n=Ft(),{isAuthenticated:r}=gt(),{control:s,handleSubmit:i,formState:{errors:l},trigger:o}=Ki({defaultValues:{username:"",password:""}});v.useEffect(()=>{r&&n("/chat",{replace:!0})},[r,n]);const u=c=>{const{username:f,password:d}=c;!f||!d||e({username:f,password:d},{onSuccess:()=>{n("/chat",{replace:!0})}})};return a.jsxs(pt,{children:[a.jsx(Xa,{}),a.jsxs(qa,{onSubmit:i(u),children:[a.jsx(or,{addClass:"text-3xl",children:"  "}),a.jsx(rn,{name:"username",control:s,rules:{required:"  ."},render:({field:c})=>{var f;return a.jsx(gn,{type:"text",value:c.value||"",onChange:c.onChange,placeholder:" ",htmlFor:"username",error:(f=l.username)==null?void 0:f.message,onBlur:()=>o("username"),disabled:t,autoFocus:!0})}}),a.jsx(rn,{name:"password",control:s,rules:{required:" ."},render:({field:c})=>{var f;return a.jsx(gn,{type:"password",value:c.value||"",onChange:c.onChange,placeholder:"",htmlFor:"password",error:(f=l.password)==null?void 0:f.message,onBlur:()=>o("password"),disabled:t})}}),a.jsx(Ja,{disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx(Ne,{size:"small"}),a.jsx("span",{className:"ml-2",children:"..."})]}):a.jsx("span",{children:""})}),a.jsxs("p",{children:[" ?"," ",a.jsx(Ya,{to:"/signup",children:""})]})]})]})}function qi(){const{userId:e,roomId:t}=Ba(),{user:n}=gt(),r=n==null?void 0:n.id,s=!!t,i=s?["convInfo","room",t]:["convInfo",e],{data:l,isPending:o,isError:u,error:c}=Wi({queryKey:i,queryFn:()=>s?U1({roomId:t}):D1({myUserId:r,friendUserId:e}),staleTime:1/0,enabled:!!(e||t)});return{convInfo:l,isPending:o,isError:u,error:c}}function o4(){var C;const{convInfo:e,isPending:t,error:n}=qi(),r=e==null?void 0:e.id,s=(C=e==null?void 0:e.friendInfo)==null?void 0:C.id,i=Zt();v.useEffect(()=>{i.setQueryData(["friend",s],E=>{var m;if(!(!E||!((m=E.pages[1])!=null&&m.length)))return{pages:E.pages.slice(0,1),pageParams:E.pageParams.slice(0,1)}})},[s,i,r]);const{data:{pages:l}={},error:o,fetchNextPage:u,hasNextPage:c,isFetching:f,isPending:d,isLoading:h,isFetchingNextPage:y}=b2({queryKey:["friend",s],queryFn:({pageParam:E})=>M1({conversation_id:r,pageParam:E}),select:E=>!E||E.pages.length<2?E:{pages:[...E.pages].reverse(),pageParams:[...E.pageParams].reverse()},getNextPageParam:(E,m,p)=>{if((E==null?void 0:E.length)!==0)return p+1},initialPageParam:0,enabled:!!s});return{pages:l,isFetching:f,isPending:d,isLoading:t||h,error:n||o,fetchNextPage:u,hasNextPage:c,isFetchingNextPage:y}}function ih(e){if(!e)return"-- : --";const t=new Date(e),n=new Date,r=Math.round((n-t)/(1e3*60*60*24)),s=t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0});return r===0?s.toLowerCase():r===1?`Yesterday at ${s.toLowerCase()}`:r<7?`${t.toLocaleDateString([],{weekday:"short"})} at ${s.toLowerCase()}`:n.getFullYear()===t.getFullYear()?`${t.toLocaleDateString([],{month:"short",day:"numeric"})} at ${s.toLowerCase()}`:`${t.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"})} at ${s.toLowerCase()}`}let wl;const u4=new Uint8Array(16);function c4(){if(!wl&&(wl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wl(u4)}const De=[];for(let e=0;e<256;++e)De.push((e+256).toString(16).slice(1));function d4(e,t=0){return De[e[t+0]]+De[e[t+1]]+De[e[t+2]]+De[e[t+3]]+"-"+De[e[t+4]]+De[e[t+5]]+"-"+De[e[t+6]]+De[e[t+7]]+"-"+De[e[t+8]]+De[e[t+9]]+"-"+De[e[t+10]]+De[e[t+11]]+De[e[t+12]]+De[e[t+13]]+De[e[t+14]]+De[e[t+15]]}const f4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lh={randomUUID:f4};function $1(e,t,n){if(lh.randomUUID&&!t&&!e)return lh.randomUUID();e=e||{};const r=e.random||(e.rng||c4)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return d4(r)}function h4({isOpen:e,onClose:t,message:n}){const[r,s]=v.useState([]),[i,l]=v.useState(!1),[o,u]=v.useState(""),c=localStorage.getItem("username");v.useEffect(()=>{e&&(l(!0),Fe("/api/rooms").then(h=>{Array.isArray(h)&&s(h.map(y=>{var S;return{id:y.id,name:y.type==="ROOM"?y.name||"":((S=y.members)==null?void 0:S.find(C=>C!==c))||y.id,type:y.type,members:y.members||[]}}))}).catch(()=>{}).finally(()=>l(!1)))},[e,c]);function f(h){if(!(n!=null&&n.content)){se.error("   ");return}ot({type:"CHAT",roomId:h.id,content:`   ${n.sender_id||"?"}: ${n.content}`,id:$1()})?(se.success(`  ${h.name}`),t()):se.error("  .  .")}const d=r.filter(h=>h.name.toLowerCase().includes(o.toLowerCase()));return e?a.jsx("div",{className:"fixed inset-0 z-[9000] flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-bgPrimary shadow-2xl dark:bg-bgPrimary-dark",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-LightShade/20 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(v1,{className:"text-xl text-bgAccent dark:text-bgAccent-dark"}),a.jsx("h2",{className:"text-lg font-semibold",children:" "})]}),a.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-LightShade/20",children:a.jsx(sd,{className:"text-2xl"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"mb-3 rounded-lg bg-LightShade/10 px-3 py-2 text-sm dark:bg-LightShade/5",children:a.jsx("p",{className:"truncate text-textPrimary/70 dark:text-textPrimary-dark/70",children:(n==null?void 0:n.content)||"..."})}),a.jsx("input",{type:"text",value:o,onChange:h=>u(h.target.value),placeholder:" ...",className:"mb-3 w-full rounded-lg border border-LightShade/30 bg-transparent px-3 py-2 outline-none focus:border-bgAccent dark:border-LightShade/20 dark:focus:border-bgAccent-dark"}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:i?a.jsx("p",{className:"py-4 text-center text-sm text-textPrimary/50 dark:text-textPrimary-dark/50",children:"..."}):d.length===0?a.jsx("p",{className:"py-4 text-center text-sm text-textPrimary/50 dark:text-textPrimary-dark/50",children:" "}):d.map(h=>{var y,S;return a.jsxs("button",{onClick:()=>f(h),className:"flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-left transition hover:bg-LightShade/10",children:[a.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-blue-400 to-purple-500 text-sm font-bold text-white",children:h.type==="ROOM"?"G":((S=(y=h.name)==null?void 0:y[0])==null?void 0:S.toUpperCase())||"?"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:h.name}),a.jsx("p",{className:"text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:h.type==="ROOM"?"":" "})]})]},h.id)})})]})]})}):null}function p4({message:e}){var c,f;const{user:t}=gt(),{convInfo:n}=qi(),r=n==null?void 0:n.isGroup,s=(e==null?void 0:e.sender_id)===t.id,[i,l]=v.useState(!1),[o,u]=v.useState(!1);if((e==null?void 0:e.type)==="CALL_LOG"){const d=((c=e.content)==null?void 0:c.includes(""))||((f=e.content)==null?void 0:f.includes("audio"));return a.jsxs("div",{className:"my-2 flex items-center justify-center gap-2 text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:[a.jsx("span",{children:d?"":""}),a.jsx("span",{children:e.content||""}),a.jsx("span",{className:"text-[10px]",children:ih(e==null?void 0:e.created_at)})]})}return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`group relative ${s?"self-end rounded-br-none bg-gradient-to-br from-bgAccent to-bgAccentDim text-textPrimary-dark before:absolute before:bottom-0 before:right-0 before:h-0 before:w-0 before:translate-x-full before:border-l-8 before:border-t-8 before:border-l-bgAccentDim before:border-t-transparent before:content-[''] dark:from-bgAccent-dark dark:to-bgAccentDim-dark before:dark:border-l-bgAccentDim-dark":"rounded-bl-none bg-bgPrimary before:absolute before:bottom-0 before:left-0 before:h-0 before:w-0 before:-translate-x-full before:border-r-8 before:border-t-8 before:border-r-bgPrimary before:border-t-transparent before:content-[''] dark:bg-LightShade/20 before:dark:border-r-LightShade/20"} my-1 w-fit max-w-[80%] rounded-2xl px-4 py-2 shadow-md before:shadow-md`,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[r&&!s&&(e==null?void 0:e.sender_id)&&a.jsx("p",{className:"mb-0.5 text-xs font-bold text-bgAccent dark:text-bgAccent-dark",children:e.sender_id}),a.jsxs("p",{children:[e==null?void 0:e.content,a.jsx("span",{className:"float-right ml-2 mt-2 select-none text-xs opacity-70",children:ih(e==null?void 0:e.created_at)})]}),o&&a.jsx("button",{onClick:()=>l(!0),className:`absolute top-1 ${s?"-left-8":"-right-8"} flex h-6 w-6 items-center justify-center rounded-full bg-LightShade/30 text-xs text-textPrimary/60 transition hover:bg-LightShade/50 dark:text-textPrimary-dark/60`,title:"",children:a.jsx(v1,{})})]}),a.jsx(h4,{isOpen:i,onClose:()=>l(!1),message:e})]})}function ah(e,t={}){const[n,r]=v.useState(!1);return v.useEffect(()=>{if(!e)return;const s=new IntersectionObserver(([i])=>r(i.isIntersecting));return s.observe(e,t),()=>s.disconnect()},[e,t]),n}function m4({pages:e,bottomRef:t,lastPageBtm:n,isIntersectingTop:r,isIntersectingBtm:s}){const i=(l,o="smooth")=>{var u;(u=l==null?void 0:l.current)==null||u.scrollIntoView({behavior:o})};v.useEffect(()=>{if(!e||!e[0])return;if(s)return i(t);const l=e[e.length-1],o=l[l.length-1];if(o!=null&&o.optimistic||e.length===1)return i(t);if(n.current&&r)return i(n,"instant")},[e,t,n])}function g4(){const{pages:e,isFetchingNextPage:t,isLoading:n,fetchNextPage:r,hasNextPage:s,error:i}=o4(),l=v.useRef(null),o=v.useRef(),u=v.useRef(null),[c,f]=v.useState(null),d=ah(c),h=ah(o.current);return v.useEffect(()=>{if(l.current){const y=setTimeout(()=>{f(l.current)},1e3);return()=>clearTimeout(y)}},[s]),v.useEffect(()=>{d&&s&&r()},[d,s,r]),m4({pages:e,bottomRef:o,lastPageBtm:u,isIntersectingTop:d,isIntersectingBtm:h}),i?a.jsxs(Ze,{children:[" ",i.message]}):n?a.jsx(Ze,{opacity:100,children:a.jsx(Ne,{size:"medium",text:"Loading messages"})}):a.jsx("div",{className:"grid grid-cols-1 items-end overflow-y-auto",children:a.jsxs("div",{tabIndex:-1,className:"mx-auto flex w-full max-w-3xl flex-col px-4",children:[e&&!e[0]&&a.jsx(Ze,{children:"No messages yet"}),e&&e[0]&&a.jsxs(a.Fragment,{children:[s&&a.jsx("span",{ref:l,children:t&&a.jsx(Ne,{})}),e.map((y,S)=>y.length?a.jsxs("span",{className:"flex w-full flex-col",children:[y.map(C=>a.jsx(p4,{message:C},C.id)),S===0&&a.jsx("span",{ref:u})]},S):a.jsx("span",{className:"mx-auto my-4 h-2 w-2 select-none rounded bg-LightShade/50 opacity-50"},S))]}),a.jsx("span",{ref:o})]})})}function y4({friend:e}){const{avatar_url:t,fullname:n,username:r,bio:s}=e??{},{closeFriendSidebar:i,isFriendsSidebarOpen:l}=mt();function o(){l&&i()}return a.jsx(Yc,{isOpen:l,toggle:o,children:a.jsxs("div",{className:`${l?"visible right-0 opacity-100":"invisible -right-full opacity-0"} absolute top-0 z-30 grid h-screen-safe w-4/5 grid-rows-[auto_1fr] overflow-hidden bg-bgPrimary opacity-0 shadow-[-10px_0px_15px_-3px_rgba(0,0,0,0.1),-10px_0px_6px_-2px_rgba(0,0,0,0.05)] transition-all duration-500 ease-[cubic-bezier(.15,.72,.08,.99)] dark:bg-bgPrimary-dark sm:w-[21rem]`,children:[a.jsxs("div",{className:"flex h-16 items-center justify-start gap-4 bg-LightShade/10 p-2",children:[a.jsx(kt,{onClick:o,children:a.jsx(kt.Close,{})}),a.jsx("p",{className:"select-none font-bold tracking-wider",children:"Profile"})]}),a.jsxs("div",{className:"h-full overflow-scroll p-10",children:[a.jsx("div",{className:"mx-auto mt-4 h-52 w-52 overflow-hidden rounded-full border-2 border-bgAccent dark:border-bgAccent-dark",children:t?a.jsx("img",{className:"pointer-events-none h-full w-full object-cover object-center",src:t,alt:n}):a.jsx(Qa,{className:"h-full w-full opacity-50",strokeWidth:"1"})}),a.jsxs("div",{className:"mt-8",children:[a.jsx("p",{className:"select-none  text-sm font-bold tracking-wider text-textAccent opacity-80 dark:text-textAccent-dark",children:"Name"}),a.jsx("p",{className:"truncate text-base",children:n})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"select-none text-sm font-bold tracking-wider text-textAccent  opacity-80 dark:text-textAccent-dark",children:"Username"}),a.jsx("p",{className:"truncate text-base",children:r})]}),s&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"select-none text-sm font-bold tracking-wider text-textAccent  opacity-80 dark:text-textAccent-dark",children:"Bio"}),a.jsx("p",{className:"break-all text-base",children:s})]})]})]})})}let Sl=null,oh=0;async function v4(){const e=Date.now();if(Sl&&e<oh)return Sl;try{const t=await Fe("/api/webrtc/ice-config");return Sl=t.iceServers||t,oh=e+23*60*60*1e3,Sl}catch(t){return console.error("[WebRTC] Failed to get ICE config:",t),[{urls:"stun:stun.l.google.com:19302"}]}}async function Ju({onIceCandidate:e,onTrack:t,onConnectionStateChange:n}){const r=await v4(),s=new RTCPeerConnection({iceServers:r});return s.onicecandidate=i=>{i.candidate&&e(i.candidate)},s.ontrack=i=>{t(i.streams[0]||new MediaStream([i.track]))},s.onconnectionstatechange=()=>{n==null||n(s.connectionState)},s}async function Yu(e){const t={audio:!0,video:e==="video"?{facingMode:"user",width:{ideal:1280},height:{ideal:720}}:!1};return navigator.mediaDevices.getUserMedia(t)}const B1=v.createContext(),rt={IDLE:"idle",CALLING:"calling",RINGING:"ringing",ACTIVE:"active"};function x4({children:e}){const[t,n]=v.useState(rt.IDLE),[r,s]=v.useState(null),[i,l]=v.useState(null),[o,u]=v.useState(null),[c,f]=v.useState(null),[d,h]=v.useState(null),[y,S]=v.useState(!1),[C,E]=v.useState(!1),[m,p]=v.useState(0),g=v.useRef(null),k=v.useRef(null),N=v.useRef([]),P=v.useRef(null),R=v.useRef(null),L=v.useRef(null),Q=v.useRef(rt.IDLE);v.useEffect(()=>{Q.current=t},[t]);const I=v.useCallback(()=>{g.current&&(g.current.close(),g.current=null),R.current&&(R.current.getTracks().forEach(_=>_.stop()),R.current=null),k.current&&(clearInterval(k.current),k.current=null),f(null),h(null),n(rt.IDLE),s(null),l(null),u(null),S(!1),E(!1),p(0),N.current=[],P.current=null,L.current=null},[]),ae=v.useCallback(async(_,U,$="audio")=>{if(Q.current===rt.IDLE)try{n(rt.CALLING),s($),l(_),u(U);const q=await Yu($);R.current=q,f(q);const ne=await Ju({onIceCandidate:Ce=>{ot({type:"ICE_CANDIDATE",roomId:U,content:"",extra:{target:_,candidate:JSON.stringify(Ce)}})},onTrack:Ce=>h(Ce),onConnectionStateChange:Ce=>{(Ce==="disconnected"||Ce==="failed")&&I()}});q.getTracks().forEach(Ce=>ne.addTrack(Ce,q)),g.current=ne;const Ie=await ne.createOffer();await ne.setLocalDescription(Ie),ot({type:"CALL_OFFER",roomId:U,content:"",extra:{target:_,callType:$,sdp:JSON.stringify(Ie)}})}catch(q){console.error("[Call] Failed to start call:",q),I()}},[I]),W=v.useCallback(async()=>{if(Q.current!==rt.RINGING)return;const _=L.current;if(_)try{n(rt.ACTIVE);const U=_.callType||"audio",$=await Yu(U);R.current=$,f($);const q=_.sender,ne=_.roomId,Ie=await Ju({onIceCandidate:ve=>{ot({type:"ICE_CANDIDATE",roomId:ne,content:"",extra:{target:q,candidate:JSON.stringify(ve)}})},onTrack:ve=>h(ve),onConnectionStateChange:ve=>{(ve==="disconnected"||ve==="failed")&&I()}});$.getTracks().forEach(ve=>Ie.addTrack(ve,$)),g.current=Ie;const Ce=JSON.parse(_.sdp);await Ie.setRemoteDescription(new RTCSessionDescription(Ce));for(const ve of N.current)try{await Ie.addIceCandidate(new RTCIceCandidate(JSON.parse(ve)))}catch{}N.current=[];const En=await Ie.createAnswer();await Ie.setLocalDescription(En),ot({type:"CALL_ANSWER",roomId:ne,content:"",extra:{target:q,sdp:JSON.stringify(En)}}),P.current=Date.now(),k.current=setInterval(()=>{p(Math.floor((Date.now()-P.current)/1e3))},1e3)}catch(U){console.error("[Call] Failed to accept call:",U),I()}},[I]),M=v.useCallback(()=>{if(Q.current!==rt.RINGING)return;const _=L.current;ot({type:"CALL_REJECT",roomId:(_==null?void 0:_.roomId)||o,content:"",extra:{target:(_==null?void 0:_.sender)||i}}),I()},[o,i,I]),Y=v.useCallback(()=>{Q.current!==rt.IDLE&&(ot({type:"CALL_END",roomId:o,content:"",extra:{target:i,reason:"ended"}}),I())},[o,i,I]),te=v.useCallback(()=>{R.current&&(R.current.getAudioTracks().forEach(_=>{_.enabled=!_.enabled}),S(_=>!_))},[]),K=v.useCallback(()=>{R.current&&(R.current.getVideoTracks().forEach(_=>{_.enabled=!_.enabled}),E(_=>!_))},[]);v.useEffect(()=>Zx(U=>{const $=U.extra||{},q=U.sender;switch(U.type){case"CALL_OFFER":{if(Q.current!==rt.IDLE){ot({type:"CALL_BUSY",roomId:U.roomId,content:"",extra:{target:q}});return}L.current={sender:q,roomId:U.roomId,callType:$.callType||"audio",sdp:$.sdp},n(rt.RINGING),l(q),u(U.roomId),s($.callType||"audio");break}case"CALL_ANSWER":{if(Q.current!==rt.CALLING||!g.current)return;n(rt.ACTIVE),(async()=>{try{const ne=JSON.parse($.sdp);await g.current.setRemoteDescription(new RTCSessionDescription(ne));for(const Ie of N.current)try{await g.current.addIceCandidate(new RTCIceCandidate(JSON.parse(Ie)))}catch{}N.current=[],P.current=Date.now(),k.current=setInterval(()=>{p(Math.floor((Date.now()-P.current)/1e3))},1e3)}catch(ne){console.error("[Call] Failed to handle answer:",ne),I()}})();break}case"ICE_CANDIDATE":{if(!$.candidate)return;if(g.current&&g.current.remoteDescription)try{g.current.addIceCandidate(new RTCIceCandidate(JSON.parse($.candidate)))}catch{}else N.current.push($.candidate);break}case"CALL_END":case"CALL_REJECT":case"CALL_BUSY":{I();break}}}),[I]);const Z={callState:t,callType:r,remoteUser:i,roomId:o,localStream:c,remoteStream:d,isAudioMuted:y,isVideoOff:C,callDuration:m,startCall:ae,acceptCall:W,rejectCall:M,endCall:Y,toggleAudio:te,toggleVideo:K,CALL_STATE:rt};return a.jsx(B1.Provider,{value:Z,children:e})}function H1(){const e=v.useContext(B1);if(!e)throw new Error("useCall must be used within CallProvider");return e}const Q1=v.createContext(),_n={IDLE:"idle",JOINING:"joining",ACTIVE:"active"};function w4({children:e}){const[t,n]=v.useState(_n.IDLE),[r,s]=v.useState(null),[i,l]=v.useState(null),[o,u]=v.useState(null),[c,f]=v.useState({}),[d,h]=v.useState([]),[y,S]=v.useState(!1),[C,E]=v.useState(!1),m=v.useRef({}),p=v.useRef(null),g=v.useRef(_n.IDLE),k=v.useRef(null),N=localStorage.getItem("username");v.useEffect(()=>{g.current=t},[t]),v.useEffect(()=>{k.current=r},[r]);const P=v.useCallback(()=>{Object.values(m.current).forEach(M=>M.close()),m.current={},p.current&&(p.current.getTracks().forEach(M=>M.stop()),p.current=null),u(null),f({}),h([]),n(_n.IDLE),s(null),l(null),S(!1),E(!1)},[]),R=v.useCallback(async(M,Y,te,K)=>{m.current[M]&&m.current[M].close();const Z=await Ju({onIceCandidate:_=>{ot({type:"CONF_ICE",roomId:te,content:"",extra:{target:M,confId:k.current,candidate:JSON.stringify(_)}})},onTrack:_=>{f(U=>({...U,[M]:_}))},onConnectionStateChange:_=>{(_==="disconnected"||_==="failed")&&(m.current[M]&&(m.current[M].close(),delete m.current[M]),f(U=>{const $={...U};return delete $[M],$}))}});if(Y.getTracks().forEach(_=>Z.addTrack(_,Y)),m.current[M]=Z,K){const _=await Z.createOffer();await Z.setLocalDescription(_),ot({type:"CONF_OFFER",roomId:te,content:"",extra:{target:M,confId:k.current,sdp:JSON.stringify(_)}})}return Z},[]),L=v.useCallback(async(M,Y="video")=>{if(g.current===_n.IDLE)try{n(_n.JOINING),l(M);const te=await Yu(Y);p.current=te,u(te);let K;try{K=await Fe("/api/conference",{method:"POST",body:JSON.stringify({roomId:M})})}catch{const _=await Fe(`/api/rooms/${encodeURIComponent(M)}`);K={id:M+"-conf"}}const Z=K.id||K.confId;s(Z);try{await Fe(`/api/conference/${encodeURIComponent(Z)}/join`,{method:"POST"})}catch(_){console.warn("[Conf] Join REST failed, trying WS:",_)}ot({type:"CONF_JOIN",roomId:M,content:"",extra:{confId:Z}}),n(_n.ACTIVE)}catch(te){console.error("[Conf] Failed to start conference:",te),P()}},[P]),Q=v.useCallback(()=>{g.current!==_n.IDLE&&(ot({type:"CONF_LEAVE",roomId:i,content:"",extra:{confId:k.current}}),k.current&&Fe(`/api/conference/${encodeURIComponent(k.current)}/leave`,{method:"POST"}).catch(()=>{}),P())},[i,P]),I=v.useCallback(()=>{p.current&&(p.current.getAudioTracks().forEach(M=>{M.enabled=!M.enabled}),S(M=>!M))},[]),ae=v.useCallback(()=>{p.current&&(p.current.getVideoTracks().forEach(M=>{M.enabled=!M.enabled}),E(M=>!M))},[]);v.useEffect(()=>Gx(Y=>{const te=Y.extra||{},K=Y.sender;switch(Y.type){case"CONF_PEERS":{const Z=te.peers||[];h(Z),p.current&&Z.forEach(_=>{_!==N&&R(_,p.current,Y.roomId,!0)});break}case"CONF_OFFER":{if(!p.current)return;(async()=>{try{const Z=await R(K,p.current,Y.roomId,!1),_=JSON.parse(te.sdp);await Z.setRemoteDescription(new RTCSessionDescription(_));const U=await Z.createAnswer();await Z.setLocalDescription(U),ot({type:"CONF_ANSWER",roomId:Y.roomId,content:"",extra:{target:K,confId:te.confId,sdp:JSON.stringify(U)}})}catch(Z){console.error("[Conf] Failed to handle offer from",K,Z)}})();break}case"CONF_ANSWER":{const Z=m.current[K];if(!Z)return;(async()=>{try{const _=JSON.parse(te.sdp);await Z.setRemoteDescription(new RTCSessionDescription(_))}catch(_){console.error("[Conf] Failed to handle answer from",K,_)}})();break}case"CONF_ICE":{const Z=m.current[K];if(!Z)return;try{Z.addIceCandidate(new RTCIceCandidate(JSON.parse(te.candidate)))}catch{}break}case"CONF_JOIN":{if(K===N)return;h(Z=>Z.includes(K)?Z:[...Z,K]);break}case"CONF_LEAVE":{m.current[K]&&(m.current[K].close(),delete m.current[K]),f(Z=>{const _={...Z};return delete _[K],_}),h(Z=>Z.filter(_=>_!==K));break}}}),[N,R]);const W={confState:t,confId:r,confRoomId:i,localStream:o,peerStreams:c,participants:d,isAudioMuted:y,isVideoOff:C,startConference:L,leaveConference:Q,toggleAudio:I,toggleVideo:ae,CONF_STATE:_n};return a.jsx(Q1.Provider,{value:W,children:e})}function W1(){const e=v.useContext(Q1);if(!e)throw new Error("useConference must be used within ConferenceProvider");return e}function S4(){const{convInfo:e,isPending:t}=qi(),{openFriendSidebar:n,openSidebar:r}=mt(),{startCall:s,callState:i,CALL_STATE:l}=H1(),{startConference:o,confState:u,CONF_STATE:c}=W1(),f=e==null?void 0:e.friendInfo,d=e==null?void 0:e.isGroup,h=e==null?void 0:e.id,y=Ft();v.useEffect(()=>{document.title=(f==null?void 0:f.fullname)||Ns},[f]);function S(){window.matchMedia("(max-width: 640px)").matches?(y("/chat",{replace:!0}),document.title=Ns):r()}function C(){!f||!h||i!==l.IDLE||s(f.id,h,"audio")}function E(){!f||!h||i!==l.IDLE||s(f.id,h,"video")}function m(){!h||u!==c.IDLE||o(h,"video")}return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"z-10 flex min-h-20 select-none items-center gap-2 rounded-b-xl border-b border-l border-r border-transparent bg-bgPrimary p-2 shadow-lg dark:border-LightShade/20 dark:bg-bgPrimary-dark",children:[a.jsx(kt,{addClass:"md:hidden",onClick:S,children:a.jsx(kt.Back,{})}),t?a.jsx(Ne,{size:"medium"}):a.jsx(T1,{onClick:n,userData:f}),!t&&f&&h&&a.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[!d&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:C,disabled:i!==l.IDLE,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/70 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/70",title:"",children:a.jsx(Ox,{})}),a.jsx("button",{onClick:E,disabled:i!==l.IDLE,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/70 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/70",title:"",children:a.jsx(bx,{})})]}),d&&a.jsx("button",{onClick:m,disabled:u!==c.IDLE,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/70 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/70",title:"",children:a.jsx(x1,{})})]})]}),a.jsx(y4,{friend:f})]})}function C4(){var l;const e=Zt(),{convInfo:t}=qi(),n=t==null?void 0:t.id,r=(l=t==null?void 0:t.friendInfo)==null?void 0:l.id,{mutate:s,isPending:i}=Fs({mutationFn:Bw,onMutate:async o=>{await e.cancelQueries({queryKey:["friend",r]});const u=e.getQueryData(["friend",r]);return e.setQueryData(["friend",r],c=>({...c,pages:c==null?void 0:c.pages.slice().map((f,d)=>d===0?f?[...f,o]:[o]:f)})),{previousMessages:u}},onSuccess:o=>{n||e.setQueryData(["convInfo",r],u=>({...u,id:o.conversation_id}))},onError:(o,u,c)=>{se.error(o.message),e.setQueryData(["friend",r],c.previousMessages)}});return{isSending:i,sendNewMessage:s}}function k4(){var y;const{convInfo:e,isPending:t,isError:n}=qi(),[r,s]=v.useState(""),{isSending:i,sendNewMessage:l}=C4(),{user:o}=gt(),u=e==null?void 0:e.id,c=(y=e==null?void 0:e.friendInfo)==null?void 0:y.id,f=o==null?void 0:o.id,d=v.useRef(null);function h(S){if(S.preventDefault(),d.current.focus(),!r)return;const C={id:$1(),conversation_id:u,content:r,friendUserId:c,sender_id:f,created_at:new Date,optimistic:!0};s(""),l(C,{onError:(E,m)=>{s(m.content)}})}return n?null:a.jsx("div",{className:"px-4 py-2",children:a.jsxs("form",{className:"mx-auto grid max-w-3xl grid-cols-[1fr_auto] overflow-hidden rounded-full border border-transparent bg-bgPrimary shadow-lg dark:border-LightShade/20 dark:bg-LightShade/20",children:[a.jsx("label",{htmlFor:"inputMessage",className:"sr-only"}),a.jsx("input",{disabled:t,className:"h-12 w-full bg-transparent pl-4 pr-2 outline-none",ref:d,value:r,onChange:S=>s(S.target.value),type:"text",placeholder:"Message",id:"inputMessage",autoComplete:"off"}),a.jsx("button",{className:"m-1 flex h-10 w-10 items-center justify-center rounded-full bg-bgAccent text-2xl text-textPrimary-dark hover:bg-bgAccentDim active:scale-95 disabled:opacity-70 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",disabled:i||t,onClick:h,type:"submit",children:i?a.jsx(Ne,{size:"small"}):a.jsx(_x,{"aria-label":"send button"})})]})})}function uh(){return a.jsxs("div",{className:"relative col-span-2 grid h-screen-safe w-full grid-cols-1 grid-rows-[auto_1fr_auto] overflow-hidden md:col-span-1",children:[a.jsx(S4,{}),a.jsx(g4,{}),a.jsx(k4,{})]})}function E4(e){const t=Math.floor(e/60).toString().padStart(2,"0"),n=(e%60).toString().padStart(2,"0");return`${t}:${n}`}function j4(){const{callState:e,callType:t,remoteUser:n,localStream:r,remoteStream:s,isAudioMuted:i,isVideoOff:l,callDuration:o,acceptCall:u,rejectCall:c,endCall:f,toggleAudio:d,toggleVideo:h,CALL_STATE:y}=H1(),S=v.useRef(null),C=v.useRef(null);if(v.useEffect(()=>{S.current&&r&&(S.current.srcObject=r)},[r]),v.useEffect(()=>{C.current&&s&&(C.current.srcObject=s)},[s]),e===y.IDLE)return null;const E=t==="video",m=e===y.RINGING,p=e===y.CALLING,g=e===y.ACTIVE;return a.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col bg-gray-900/95 text-white",children:[E&&g?a.jsx("video",{ref:C,autoPlay:!0,playsInline:!0,className:"absolute inset-0 h-full w-full object-cover"}):a.jsx("audio",{ref:C,autoPlay:!0}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center pt-12",children:[a.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-purple-600 text-4xl font-bold uppercase shadow-lg",children:(n==null?void 0:n[0])||"?"}),a.jsx("p",{className:"mt-4 text-2xl font-semibold",children:n}),a.jsxs("p",{className:"mt-1 text-sm text-gray-300",children:[m&&" ...",p&&"...",g&&E4(o)]}),m&&a.jsx("p",{className:"mt-1 text-xs text-gray-400",children:E?" ":" "})]}),E&&r&&a.jsx("div",{className:"absolute bottom-32 right-4 z-20 h-40 w-28 overflow-hidden rounded-2xl border-2 border-white/30 shadow-lg",children:a.jsx("video",{ref:S,autoPlay:!0,playsInline:!0,muted:!0,className:"h-full w-full object-cover"})}),a.jsxs("div",{className:"relative z-10 mt-auto flex items-center justify-center gap-6 pb-12",children:[m&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:c,className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500 text-3xl shadow-lg transition hover:bg-red-600 active:scale-95",title:"",children:a.jsx(Iu,{})}),a.jsx("button",{onClick:u,className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-500 text-3xl shadow-lg transition hover:bg-green-600 active:scale-95",title:"",children:E?a.jsx(Nx,{}):a.jsx(Rx,{})})]}),(g||p)&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:d,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${i?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,title:i?" ":" ",children:i?a.jsx(g1,{}):a.jsx(m1,{})}),E&&a.jsx("button",{onClick:h,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${l?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,title:l?" ":" ",children:l?a.jsx(p1,{}):a.jsx(h1,{})}),a.jsx("button",{onClick:f,className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500 text-3xl shadow-lg transition hover:bg-red-600 active:scale-95",title:"",children:a.jsx(Iu,{})})]})]})]})}function ch({stream:e,muted:t=!1,label:n}){const r=v.useRef(null);return v.useEffect(()=>{r.current&&e&&(r.current.srcObject=e)},[e]),a.jsxs("div",{className:"relative flex items-center justify-center overflow-hidden rounded-2xl bg-gray-800 shadow-lg",children:[e?a.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:t,className:"h-full w-full object-cover"}):a.jsx("div",{className:"flex h-full w-full items-center justify-center text-4xl font-bold uppercase text-gray-500",children:(n==null?void 0:n[0])||"?"}),n&&a.jsx("span",{className:"absolute bottom-2 left-2 rounded-md bg-black/50 px-2 py-0.5 text-xs text-white",children:n})]})}function _4(){const{confState:e,localStream:t,peerStreams:n,participants:r,isAudioMuted:s,isVideoOff:i,leaveConference:l,toggleAudio:o,toggleVideo:u,CONF_STATE:c}=W1();if(e===c.IDLE)return null;const f=Object.entries(n),d=1+f.length,h=localStorage.getItem("username");let y="grid-cols-1";return d===2||d>=3&&d<=4?y="grid-cols-2":d>=5&&(y="grid-cols-3"),a.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col bg-gray-900 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("h2",{className:"text-lg font-semibold",children:["  ",r.length+1," ",r.length===0?"":r.length<4?"":""]}),e===c.JOINING&&a.jsx("span",{className:"animate-pulse text-sm text-gray-400",children:"..."})]}),a.jsxs("div",{className:`grid flex-1 gap-2 p-2 ${y}`,style:{gridAutoRows:"1fr"},children:[a.jsx(ch,{stream:t,muted:!0,label:`${h} ()`}),f.map(([S,C])=>a.jsx(ch,{stream:C,label:S},S))]}),a.jsxs("div",{className:"flex items-center justify-center gap-6 pb-8 pt-4",children:[a.jsx("button",{onClick:o,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${s?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white-/30"}`,title:s?" ":" ",children:s?a.jsx(g1,{}):a.jsx(m1,{})}),a.jsx("button",{onClick:u,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${i?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,title:i?" ":" ",children:i?a.jsx(p1,{}):a.jsx(h1,{})}),a.jsx("button",{onClick:l,className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500 text-3xl shadow-lg transition hover:bg-red-600 active:scale-95",title:" ",children:a.jsx(Iu,{})})]})]})}function Z1(e){return ie({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"}}]})(e)}function N4(e){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function md(e){return ie({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function b4(){return a.jsx(pt,{children:a.jsxs("div",{className:"flex max-w-lg flex-col items-center",children:[a.jsx(md,{className:"mb-4 text-4xl text-RedColor sm:text-5xl"}),a.jsx(or,{children:"Oops! The password reset link is invalid or expired!"}),a.jsx("p",{className:"mb-4 text-center opacity-60",children:"The link you clicked to reset your password might be incorrect, expired, or used already. Please request a new password reset."}),a.jsxs(Ha,{to:"/reset-password",className:"inline-flex items-center gap-1 rounded-md bg-bgAccent px-4 py-2 font-bold text-textPrimary-dark dark:bg-bgAccent-dark",children:["Send a new request",a.jsx(Z1,{})]})]})})}function L4(){var c,f,d;const[e,t]=v.useState(!0),[n,r]=v.useState(""),{session:s}=gt(),i=s==null?void 0:s.refresh_token,o=(d=((f=(c=window.location)==null?void 0:c.hash)==null?void 0:f.split("&"))[3])==null?void 0:d.split("=")[1];return v.useEffect(()=>{o!==void 0&&o!==""&&r(o),setTimeout(()=>{t(!1)},1e3)},[o,i,n]),{isRecovery:i===n,isLoading:e}}function P4(){const e=Ft(),{control:t,handleSubmit:n,formState:{errors:r},trigger:s,getValues:i}=Ki({defaultValues:{newPassword:"",confirmPassword:""}}),{updateUser:l,isUpdating:o}=rd(),{isRecovery:u,isLoading:c}=L4(),f=({newPassword:d,confirmPassword:h})=>{!d||!h||l({password:d},{onSuccess:()=>{se.dismiss(),se.success("Password updated successfully!"),e("/chat")}})};return c?a.jsx(pt,{children:a.jsx(Ne,{size:"large",text:"Loading"})}):!u&&!c?a.jsx(b4,{}):a.jsxs(pt,{children:[a.jsx(Xa,{}),a.jsxs(qa,{onSubmit:n(f),children:[a.jsx(or,{children:"Set new password"}),a.jsx(rn,{name:"newPassword",control:t,rules:{required:"Enter a password.",minLength:{value:ga,message:`Weak password. Minimum ${ga} characters required.`}},render:({field:d})=>{var h;return a.jsx(gn,{type:"password",value:d.value,onChange:d.onChange,onBlur:()=>s("newPassword"),placeholder:"New password",htmlFor:"newPassword",error:(h=r.newPassword)==null?void 0:h.message,disabled:o})}}),a.jsx(rn,{name:"confirmPassword",control:t,rules:{required:"Confirm your password.",validate:d=>d===i().newPassword||"Passwords don't match!"},render:({field:d})=>{var h;return a.jsx(gn,{type:"password",value:d.value,onChange:d.onChange,onBlur:()=>s("confirmPassword"),placeholder:"Confirm password",htmlFor:"confirmPassword",error:(h=r.confirmPassword)==null?void 0:h.message,disabled:o})}}),a.jsx(Ja,{disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(Ne,{size:"small"}),a.jsx("span",{className:"ml-2",children:"Updating..."})]}):a.jsx("span",{children:"Update"})})]})]})}function R4(){return a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(N4,{className:"mb-4 text-4xl text-GreenColor sm:text-5xl"}),a.jsx(or,{children:"We've sent you an email!"}),a.jsx("p",{className:"mb-4 text-center opacity-60",children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions to reset your password."}),a.jsxs(Ya,{to:"/signin",addClass:"flex items-center justify-center",children:[a.jsx(f1,{}),"Back to Sign in"]})]})}function O4(){const{control:e,handleSubmit:t,formState:{errors:n},trigger:r}=Ki({defaultValues:{email:""}}),{resetPassword:s,isPending:i,isSuccess:l}=w1();function o({email:u}){s(u)}return a.jsxs(pt,{children:[a.jsx(Xa,{}),a.jsx(qa,{onSubmit:t(o),children:l?a.jsx(R4,{}):a.jsxs(a.Fragment,{children:[a.jsx(or,{children:"Reset your password"}),a.jsx("p",{className:"mb-4 text-center text-sm",children:"Enter your email below and we'll send you a recovery link to reset your password."}),a.jsx(rn,{name:"email",control:e,rules:{required:"Enter your email.",pattern:{value:zv,message:"Invalid email. Please enter a valid email."}},render:({field:u})=>{var c;return a.jsx(gn,{type:"email",value:u.value,onChange:u.onChange,onBlur:()=>r("email"),placeholder:"Email",htmlFor:"email",error:(c=n.email)==null?void 0:c.message,disabled:i})}}),a.jsx(Ja,{isPending:i,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Ne,{size:"small"}),a.jsx("span",{className:"ml-2",children:"Sending..."})]}):a.jsx("span",{className:"",children:"Send"})}),a.jsxs(Ya,{to:"/signin",addClass:"flex items-center justify-center self-center",children:[a.jsx(f1,{}),"Back to Sign in"]})]})})]})}const I4=()=>a.jsx(pt,{children:a.jsxs("div",{className:"flex max-w-lg flex-col items-center",children:[a.jsx(md,{className:"mb-4 text-4xl text-RedColor sm:text-5xl"}),a.jsx(or,{children:"Oops! We can't seem to find that page."}),a.jsx("p",{className:"mb-4 text-center opacity-60",children:"The page you're looking for might have been removed, or the URL might be incorrect."}),a.jsxs(Ha,{to:"/",className:"inline-flex items-center gap-1 rounded-md bg-bgAccent px-4 py-2 font-bold text-textPrimary-dark dark:bg-bgAccent-dark",children:["Back to Home",a.jsx(Z1,{})]})]})});function A4(){const e=Ft(),{isLoading:t,isAuthenticated:n}=gt(),r=window.location.hash,i=new URLSearchParams(r.slice(1)).get("error_description");if(t)return a.jsx(pt,{children:a.jsx(Ne,{size:"large",text:"Loading"})});if(n&&e("/chat",{replace:!0}),!n)return a.jsx(pt,{children:a.jsxs("div",{className:"flex max-w-lg flex-col items-center",children:[a.jsx(md,{className:"mb-4 text-4xl text-RedColor sm:text-5xl"}),a.jsx(or,{children:i}),a.jsx("p",{className:"mb-4 text-center opacity-60",children:"The link you clicked to confirm your account might be incorrect, expired, or used already. Please request a new confirmation link."})]})})}function T4({children:e}){const t=As();return v.useEffect(()=>{/^\/m\/[^/]+$/.test(t.pathname)||(document.title=Ns)},[t]),e}const F4=()=>a.jsx(pt,{children:a.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8 leading-relaxed",children:[a.jsx("h1",{className:"sr-only",children:" BarsikChat"}),a.jsxs("div",{className:"pointer-events-none mb-6 flex select-none flex-col items-center",children:[a.jsx("span",{className:"text-8xl",children:""}),a.jsx("span",{className:"mt-2 text-3xl font-bold text-textAccent dark:text-textAccent-dark",children:"BarsikChat"})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:" "}),a.jsx("p",{children:"BarsikChat          .    React.js  Spring Boot,      . BarsikChat     ,  ,        ."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:""}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsx("li",{children:"      WebSocket"}),a.jsx("li",{children:"   JWT-"}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"    "}),a.jsx("li",{children:"      "}),a.jsx("li",{children:"Push-"})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:""}),a.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:["React.js","Spring Boot","PostgreSQL","WebSocket","Tailwind CSS","Docker"].map(e=>a.jsx("div",{className:"rounded-lg border border-bgSecondary bg-white/50 p-3 text-center dark:border-bgSecondary-dark dark:bg-black/20",children:a.jsx("span",{className:"font-semibold",children:e})},e))})]}),a.jsx("footer",{className:"mt-6 text-center text-sm opacity-70",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," BarsikChat"]})})]})}),M4=()=>a.jsx(pt,{children:a.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8 leading-relaxed",children:[a.jsx("h1",{className:"mb-8 text-3xl font-bold",children:" "}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"1. "}),a.jsx("p",{children:"BarsikChat (,   )    .   ,   ,        ."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"2.  "}),a.jsx("p",{className:"mb-3",children:"   :"}),a.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[a.jsxs("li",{children:[a.jsx("strong",{children:" :"}),"  ,   "]}),a.jsxs("li",{children:[a.jsx("strong",{children:" :"}),"  ,     "]}),a.jsxs("li",{children:[a.jsx("strong",{children:" :"}),"     "]}),a.jsxs("li",{children:[a.jsx("strong",{children:" :"})," IP-,    "]})]})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"3.  "}),a.jsx("p",{className:"mb-3",children:"    :"}),a.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[a.jsx("li",{children:"    BarsikChat"}),a.jsx("li",{children:"     "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"    "}),a.jsx("li",{children:"  "})]})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"4.  "}),a.jsx("p",{children:"       PostgreSQL     ,       ."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"5.  "}),a.jsx("p",{children:"  ,            .        ,     ."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"6.  "}),a.jsx("p",{className:"mb-3",children:"  :"}),a.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[a.jsx("li",{children:"     "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"     "}),a.jsx("li",{children:"    "})]})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"7. "}),a.jsx("p",{children:"   , JWT-    .            100% .     ."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"8.  "}),a.jsx("p",{children:"     .         .   BarsikChat    ."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"9. "}),a.jsx("p",{children:"          ."})]}),a.jsx("footer",{className:"mt-12 border-t border-bgSecondary pt-6 dark:border-bgSecondary-dark",children:a.jsx("p",{className:"text-sm opacity-70",children:" : 23  2026"})})]})}),D4=()=>a.jsx(pt,{children:a.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8 leading-relaxed",children:[a.jsx("h1",{className:"mb-8 text-3xl font-bold",children:" "}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"1.  "}),a.jsx("p",{children:" BarsikChat,       .      , ,    ."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"2. "}),a.jsx("p",{className:"mb-3",children:"  BarsikChat    .     :"}),a.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[a.jsx("li",{children:"      "}),a.jsx("li",{children:"   -  "}),a.jsx("li",{children:"    "}),a.jsx("li",{children:"      "})]})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"3.   "}),a.jsx("p",{children:" BarsikChat   . BarsikChat    ,   ,        ."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"4.  "}),a.jsx("p",{children:"BarsikChat      ,        ."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"5.  "}),a.jsx("p",{children:" BarsikChat      . BarsikChat         ."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"6. "}),a.jsx("p",{children:"BarsikChat       ,       .        ."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"7.  "}),a.jsx("p",{children:"BarsikChat       .   ,      ."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"8.  "}),a.jsx("p",{className:"mb-3",children:"  :"}),a.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[a.jsx("li",{children:",     "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"     "}),a.jsx("li",{children:"     "}),a.jsx("li",{children:"      "})]})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"9.  "}),a.jsx("p",{children:"                 ."})]}),a.jsx("footer",{className:"mt-12 border-t border-bgSecondary pt-6 dark:border-bgSecondary-dark",children:a.jsx("p",{className:"text-sm opacity-70",children:" : 23  2026"})})]})}),U4=new d2;function V4(){return a.jsx(Qv,{children:a.jsx(g2,{client:U4,children:a.jsx(x4,{children:a.jsxs(w4,{children:[a.jsx(Ex,{position:"top-center",toastOptions:{error:{duration:5e3},style:{maxWidth:"500px"}}}),a.jsx(j4,{}),a.jsx(_4,{}),a.jsx(Nv,{children:a.jsx(T4,{children:a.jsxs(wv,{children:[a.jsx(st,{path:"/",element:a.jsx(yv,{to:"/chat",replace:!0})}),a.jsxs(st,{path:"/chat",element:a.jsx(r4,{children:a.jsx(n4,{})}),children:[a.jsx(st,{path:"/chat/room/:roomId",element:a.jsx(uh,{})}),a.jsx(st,{path:"/chat/:userId",element:a.jsx(uh,{})})]}),a.jsx(st,{path:"signup",element:a.jsx(i4,{})}),a.jsx(st,{path:"signin",element:a.jsx(a4,{})}),a.jsx(st,{path:"new-password",element:a.jsx(P4,{})}),a.jsx(st,{path:"reset-password",element:a.jsx(O4,{})}),a.jsx(st,{path:"account-confirmation",element:a.jsx(A4,{})}),a.jsx(st,{path:"about",element:a.jsx(F4,{})}),a.jsx(st,{path:"privacy",element:a.jsx(M4,{})}),a.jsx(st,{path:"terms",element:a.jsx(D4,{})}),a.jsx(st,{path:"*",element:a.jsx(I4,{})})]})})})]})})})})}Mo.createRoot(document.getElementById("root")).render(a.jsx(ee.StrictMode,{children:a.jsx(V4,{})}));
