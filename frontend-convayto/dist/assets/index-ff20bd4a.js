var ta=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var x=(e,t,r)=>(ta(e,t,"read from private field"),r?r.call(e):t.get(e)),H=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},U=(e,t,r,n)=>(ta(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Xs=(e,t,r,n)=>({set _(i){U(e,t,i,r)},get _(){return x(e,t,n)}}),q=(e,t,r)=>(ta(e,t,"access private method"),r);function Xm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function e0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eh={exports:{}},Lo={},jh={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=Symbol.for("react.element"),t0=Symbol.for("react.portal"),r0=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),i0=Symbol.for("react.profiler"),s0=Symbol.for("react.provider"),l0=Symbol.for("react.context"),o0=Symbol.for("react.forward_ref"),a0=Symbol.for("react.suspense"),u0=Symbol.for("react.memo"),c0=Symbol.for("react.lazy"),Ed=Symbol.iterator;function d0(e){return e===null||typeof e!="object"?null:(e=Ed&&e[Ed]||e["@@iterator"],typeof e=="function"?e:null)}var bh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nh=Object.assign,_h={};function Pi(e,t,r){this.props=e,this.context=t,this.refs=_h,this.updater=r||bh}Pi.prototype.isReactComponent={};Pi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lh(){}Lh.prototype=Pi.prototype;function Yu(e,t,r){this.props=e,this.context=t,this.refs=_h,this.updater=r||bh}var Xu=Yu.prototype=new Lh;Xu.constructor=Yu;Nh(Xu,Pi.prototype);Xu.isPureReactComponent=!0;var jd=Array.isArray,Ph=Object.prototype.hasOwnProperty,ec={current:null},Rh={key:!0,ref:!0,__self:!0,__source:!0};function Ih(e,t,r){var n,i={},s=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)Ph.call(t,n)&&!Rh.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Bs,type:e,key:s,ref:l,props:i,_owner:ec.current}}function f0(e,t){return{$$typeof:Bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bs}function h0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bd=/\/+/g;function ra(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h0(""+e.key):t.toString(36)}function kl(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Bs:case t0:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+ra(l,0):n,jd(i)?(r="",e!=null&&(r=e.replace(bd,"$&/")+"/"),kl(i,t,r,"",function(c){return c})):i!=null&&(tc(i)&&(i=f0(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(bd,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",jd(e))for(var a=0;a<e.length;a++){s=e[a];var u=n+ra(s,a);l+=kl(s,t,r,u,i)}else if(u=d0(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=n+ra(s,a++),l+=kl(s,t,r,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function el(e,t,r){if(e==null)return e;var n=[],i=0;return kl(e,n,"","",function(s){return t.call(r,s,i++)}),n}function p0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},El={transition:null},m0={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:El,ReactCurrentOwner:ec};function Oh(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:el,forEach:function(e,t,r){el(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return el(e,function(){t++}),t},toArray:function(e){return el(e,function(t){return t})||[]},only:function(e){if(!tc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Pi;X.Fragment=r0;X.Profiler=i0;X.PureComponent=Yu;X.StrictMode=n0;X.Suspense=a0;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m0;X.act=Oh;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Nh({},e.props),i=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=ec.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Ph.call(t,u)&&!Rh.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Bs,type:e.type,key:i,ref:s,props:n,_owner:l}};X.createContext=function(e){return e={$$typeof:l0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:s0,_context:e},e.Consumer=e};X.createElement=Ih;X.createFactory=function(e){var t=Ih.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:o0,render:e}};X.isValidElement=tc;X.lazy=function(e){return{$$typeof:c0,_payload:{_status:-1,_result:e},_init:p0}};X.memo=function(e,t){return{$$typeof:u0,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=El.transition;El.transition={};try{e()}finally{El.transition=t}};X.unstable_act=Oh;X.useCallback=function(e,t){return nt.current.useCallback(e,t)};X.useContext=function(e){return nt.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};X.useEffect=function(e,t){return nt.current.useEffect(e,t)};X.useId=function(){return nt.current.useId()};X.useImperativeHandle=function(e,t,r){return nt.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return nt.current.useMemo(e,t)};X.useReducer=function(e,t,r){return nt.current.useReducer(e,t,r)};X.useRef=function(e){return nt.current.useRef(e)};X.useState=function(e){return nt.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return nt.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return nt.current.useTransition()};X.version="18.3.1";jh.exports=X;var g=jh.exports;const ie=e0(g),g0=Xm({__proto__:null,default:ie},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=g,v0=Symbol.for("react.element"),x0=Symbol.for("react.fragment"),w0=Object.prototype.hasOwnProperty,C0=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S0={key:!0,ref:!0,__self:!0,__source:!0};function Ah(e,t,r){var n,i={},s=null,l=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)w0.call(t,n)&&!S0.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:v0,type:e,key:s,ref:l,props:i,_owner:C0.current}}Lo.Fragment=x0;Lo.jsx=Ah;Lo.jsxs=Ah;Eh.exports=Lo;var o=Eh.exports,Ta={},Mh={exports:{}},bt={},Th={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,D){var z=b.length;b.push(D);e:for(;0<z;){var K=z-1>>>1,re=b[K];if(0<i(re,D))b[K]=D,b[z]=re,z=K;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var D=b[0],z=b.pop();if(z!==D){b[0]=z;e:for(var K=0,re=b.length,_e=re>>>1;K<_e;){var ve=2*(K+1)-1,Tt=b[ve],pe=ve+1,le=b[pe];if(0>i(Tt,z))pe<re&&0>i(le,Tt)?(b[K]=le,b[pe]=z,K=pe):(b[K]=Tt,b[ve]=z,K=ve);else if(pe<re&&0>i(le,z))b[K]=le,b[pe]=z,K=pe;else break e}}return D}function i(b,D){var z=b.sortIndex-D.sortIndex;return z!==0?z:b.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var u=[],c=[],f=1,d=null,h=3,v=!1,C=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(b){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=b)n(c),D.sortIndex=D.expirationTime,t(u,D);else break;D=r(c)}}function k(b){if(S=!1,y(b),!C)if(r(u)!==null)C=!0,Z(N);else{var D=r(c);D!==null&&Q(k,D.startTime-b)}}function N(b,D){C=!1,S&&(S=!1,m(L),L=-1),v=!0;var z=h;try{for(y(D),d=r(u);d!==null&&(!(d.expirationTime>D)||b&&!se());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var re=K(d.expirationTime<=D);D=e.unstable_now(),typeof re=="function"?d.callback=re:d===r(u)&&n(u),y(D)}else n(u);d=r(u)}if(d!==null)var _e=!0;else{var ve=r(c);ve!==null&&Q(k,ve.startTime-D),_e=!1}return _e}finally{d=null,h=z,v=!1}}var R=!1,P=null,L=-1,B=5,O=-1;function se(){return!(e.unstable_now()-O<B)}function W(){if(P!==null){var b=e.unstable_now();O=b;var D=!0;try{D=P(!0,b)}finally{D?F():(R=!1,P=null)}}else R=!1}var F;if(typeof p=="function")F=function(){p(W)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,J=Y.port2;Y.port1.onmessage=W,F=function(){J.postMessage(null)}}else F=function(){E(W,0)};function Z(b){P=b,R||(R=!0,F())}function Q(b,D){L=E(function(){b(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){C||v||(C=!0,Z(N))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(b){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var z=h;h=D;try{return b()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,D){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var z=h;h=b;try{return D()}finally{h=z}},e.unstable_scheduleCallback=function(b,D,z){var K=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,b){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=z+re,b={id:f++,callback:D,priorityLevel:b,startTime:z,expirationTime:re,sortIndex:-1},z>K?(b.sortIndex=z,t(c,b),r(u)===null&&b===r(c)&&(S?(m(L),L=-1):S=!0,Q(k,z-K))):(b.sortIndex=re,t(u,b),C||v||(C=!0,Z(N))),b},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(b){var D=h;return function(){var z=h;h=D;try{return b.apply(this,arguments)}finally{h=z}}}})(Fh);Th.exports=Fh;var k0=Th.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0=g,jt=k0;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dh=new Set,ds={};function An(e,t){Ci(e,t),Ci(e+"Capture",t)}function Ci(e,t){for(ds[e]=t,e=0;e<t.length;e++)Dh.add(t[e])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=Object.prototype.hasOwnProperty,j0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nd={},_d={};function b0(e){return Fa.call(_d,e)?!0:Fa.call(Nd,e)?!1:j0.test(e)?_d[e]=!0:(Nd[e]=!0,!1)}function N0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _0(e,t,r,n){if(t===null||typeof t>"u"||N0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,r,n,i,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var rc=/[\-:]([a-z])/g;function nc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rc,nc);Be[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rc,nc);Be[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rc,nc);Be[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function ic(e,t,r,n){var i=Be.hasOwnProperty(t)?Be[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_0(t,r,i,n)&&(r=null),n||i===null?b0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Er=E0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=Symbol.for("react.element"),Un=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),sc=Symbol.for("react.strict_mode"),Da=Symbol.for("react.profiler"),Vh=Symbol.for("react.provider"),Uh=Symbol.for("react.context"),lc=Symbol.for("react.forward_ref"),Va=Symbol.for("react.suspense"),Ua=Symbol.for("react.suspense_list"),oc=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),zh=Symbol.for("react.offscreen"),Ld=Symbol.iterator;function Fi(e){return e===null||typeof e!="object"?null:(e=Ld&&e[Ld]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,na;function Zi(e){if(na===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);na=t&&t[1]||""}return`
`+na+e}var ia=!1;function sa(e,t){if(!e||ia)return"";ia=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),l=i.length-1,a=s.length-1;1<=l&&0<=a&&i[l]!==s[a];)a--;for(;1<=l&&0<=a;l--,a--)if(i[l]!==s[a]){if(l!==1||a!==1)do if(l--,a--,0>a||i[l]!==s[a]){var u=`
`+i[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=a);break}}}finally{ia=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zi(e):""}function L0(e){switch(e.tag){case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return e=sa(e.type,!1),e;case 11:return e=sa(e.type.render,!1),e;case 1:return e=sa(e.type,!0),e;default:return""}}function za(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zn:return"Fragment";case Un:return"Portal";case Da:return"Profiler";case sc:return"StrictMode";case Va:return"Suspense";case Ua:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uh:return(e.displayName||"Context")+".Consumer";case Vh:return(e._context.displayName||"Context")+".Provider";case lc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oc:return t=e.displayName||null,t!==null?t:za(e.type)||"Memo";case _r:t=e._payload,e=e._init;try{return za(e(t))}catch{}}return null}function P0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return za(t);case 8:return t===sc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $h(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R0(e){var t=$h(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rl(e){e._valueTracker||(e._valueTracker=R0(e))}function Bh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$h(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $a(e,t){var r=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=tn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hh(e,t){t=t.checked,t!=null&&ic(e,"checked",t,!1)}function Ba(e,t){Hh(e,t);var r=tn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ha(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ha(e,t.type,tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ha(e,t,r){(t!=="number"||Hl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ki=Array.isArray;function ei(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+tn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Qa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Id(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(Ki(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:tn(r)}}function Qh(e,t){var r=tn(t.value),n=tn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Od(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nl,Gh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nl=nl||document.createElement("div"),nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I0=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(e){I0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),es[t]=es[e]})});function Zh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||es.hasOwnProperty(e)&&es[e]?(""+t).trim():t+"px"}function Kh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Zh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var O0=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ga(e,t){if(t){if(O0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Za(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ka=null;function ac(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qa=null,ti=null,ri=null;function Ad(e){if(e=Ws(e)){if(typeof qa!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Ao(t),qa(e.stateNode,e.type,t))}}function qh(e){ti?ri?ri.push(e):ri=[e]:ti=e}function Jh(){if(ti){var e=ti,t=ri;if(ri=ti=null,Ad(e),t)for(e=0;e<t.length;e++)Ad(t[e])}}function Yh(e,t){return e(t)}function Xh(){}var la=!1;function ep(e,t,r){if(la)return e(t,r);la=!0;try{return Yh(e,t,r)}finally{la=!1,(ti!==null||ri!==null)&&(Xh(),Jh())}}function hs(e,t){var r=e.stateNode;if(r===null)return null;var n=Ao(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Ja=!1;if(xr)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Ja=!1}function A0(e,t,r,n,i,s,l,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var ts=!1,Ql=null,Wl=!1,Ya=null,M0={onError:function(e){ts=!0,Ql=e}};function T0(e,t,r,n,i,s,l,a,u){ts=!1,Ql=null,A0.apply(M0,arguments)}function F0(e,t,r,n,i,s,l,a,u){if(T0.apply(this,arguments),ts){if(ts){var c=Ql;ts=!1,Ql=null}else throw Error(I(198));Wl||(Wl=!0,Ya=c)}}function Mn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Md(e){if(Mn(e)!==e)throw Error(I(188))}function D0(e){var t=e.alternate;if(!t){if(t=Mn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Md(i),e;if(s===n)return Md(i),t;s=s.sibling}throw Error(I(188))}if(r.return!==n.return)r=i,n=s;else{for(var l=!1,a=i.child;a;){if(a===r){l=!0,r=i,n=s;break}if(a===n){l=!0,n=i,r=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===r){l=!0,r=s,n=i;break}if(a===n){l=!0,n=s,r=i;break}a=a.sibling}if(!l)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function rp(e){return e=D0(e),e!==null?np(e):null}function np(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=np(e);if(t!==null)return t;e=e.sibling}return null}var ip=jt.unstable_scheduleCallback,Td=jt.unstable_cancelCallback,V0=jt.unstable_shouldYield,U0=jt.unstable_requestPaint,be=jt.unstable_now,z0=jt.unstable_getCurrentPriorityLevel,uc=jt.unstable_ImmediatePriority,sp=jt.unstable_UserBlockingPriority,Gl=jt.unstable_NormalPriority,$0=jt.unstable_LowPriority,lp=jt.unstable_IdlePriority,Po=null,lr=null;function B0(e){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Po,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:W0,H0=Math.log,Q0=Math.LN2;function W0(e){return e>>>=0,e===0?32:31-(H0(e)/Q0|0)|0}var il=64,sl=4194304;function qi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,l=r&268435455;if(l!==0){var a=l&~i;a!==0?n=qi(a):(s&=l,s!==0&&(n=qi(s)))}else l=r&~i,l!==0?n=qi(l):s!==0&&(n=qi(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Wt(t),i=1<<r,n|=e[r],t&=~i;return n}function G0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Wt(s),a=1<<l,u=i[l];u===-1?(!(a&r)||a&n)&&(i[l]=G0(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function Xa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function op(){var e=il;return il<<=1,!(il&4194240)&&(il=64),e}function oa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=r}function K0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Wt(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function cc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Wt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var de=0;function ap(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var up,dc,cp,dp,fp,eu=!1,ll=[],Qr=null,Wr=null,Gr=null,ps=new Map,ms=new Map,Pr=[],q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fd(e,t){switch(e){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(t.pointerId)}}function Vi(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ws(t),t!==null&&dc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function J0(e,t,r,n,i){switch(t){case"focusin":return Qr=Vi(Qr,e,t,r,n,i),!0;case"dragenter":return Wr=Vi(Wr,e,t,r,n,i),!0;case"mouseover":return Gr=Vi(Gr,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return ps.set(s,Vi(ps.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ms.set(s,Vi(ms.get(s)||null,e,t,r,n,i)),!0}return!1}function hp(e){var t=fn(e.target);if(t!==null){var r=Mn(t);if(r!==null){if(t=r.tag,t===13){if(t=tp(r),t!==null){e.blockedOn=t,fp(e.priority,function(){cp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ka=n,r.target.dispatchEvent(n),Ka=null}else return t=Ws(r),t!==null&&dc(t),e.blockedOn=r,!1;t.shift()}return!0}function Dd(e,t,r){jl(e)&&r.delete(t)}function Y0(){eu=!1,Qr!==null&&jl(Qr)&&(Qr=null),Wr!==null&&jl(Wr)&&(Wr=null),Gr!==null&&jl(Gr)&&(Gr=null),ps.forEach(Dd),ms.forEach(Dd)}function Ui(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,Y0)))}function gs(e){function t(i){return Ui(i,e)}if(0<ll.length){Ui(ll[0],e);for(var r=1;r<ll.length;r++){var n=ll[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qr!==null&&Ui(Qr,e),Wr!==null&&Ui(Wr,e),Gr!==null&&Ui(Gr,e),ps.forEach(t),ms.forEach(t),r=0;r<Pr.length;r++)n=Pr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Pr.length&&(r=Pr[0],r.blockedOn===null);)hp(r),r.blockedOn===null&&Pr.shift()}var ni=Er.ReactCurrentBatchConfig,Kl=!0;function X0(e,t,r,n){var i=de,s=ni.transition;ni.transition=null;try{de=1,fc(e,t,r,n)}finally{de=i,ni.transition=s}}function eg(e,t,r,n){var i=de,s=ni.transition;ni.transition=null;try{de=4,fc(e,t,r,n)}finally{de=i,ni.transition=s}}function fc(e,t,r,n){if(Kl){var i=tu(e,t,r,n);if(i===null)ya(e,t,n,ql,r),Fd(e,n);else if(J0(i,e,t,r,n))n.stopPropagation();else if(Fd(e,n),t&4&&-1<q0.indexOf(e)){for(;i!==null;){var s=Ws(i);if(s!==null&&up(s),s=tu(e,t,r,n),s===null&&ya(e,t,n,ql,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else ya(e,t,n,null,r)}}var ql=null;function tu(e,t,r,n){if(ql=null,e=ac(n),e=fn(e),e!==null)if(t=Mn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ql=e,null}function pp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z0()){case uc:return 1;case sp:return 4;case Gl:case $0:return 16;case lp:return 536870912;default:return 16}default:return 16}}var zr=null,hc=null,bl=null;function mp(){if(bl)return bl;var e,t=hc,r=t.length,n,i="value"in zr?zr.value:zr.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[s-n];n++);return bl=i.slice(e,1<n?1-n:void 0)}function Nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ol(){return!0}function Vd(){return!1}function Nt(e){function t(r,n,i,s,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ol:Vd,this.isPropagationStopped=Vd,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),t}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=Nt(Ri),Qs=Se({},Ri,{view:0,detail:0}),tg=Nt(Qs),aa,ua,zi,Ro=Se({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?(aa=e.screenX-zi.screenX,ua=e.screenY-zi.screenY):ua=aa=0,zi=e),aa)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Ud=Nt(Ro),rg=Se({},Ro,{dataTransfer:0}),ng=Nt(rg),ig=Se({},Qs,{relatedTarget:0}),ca=Nt(ig),sg=Se({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),lg=Nt(sg),og=Se({},Ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ag=Nt(og),ug=Se({},Ri,{data:0}),zd=Nt(ug),cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fg[e])?!!t[e]:!1}function mc(){return hg}var pg=Se({},Qs,{key:function(e){if(e.key){var t=cg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mg=Nt(pg),gg=Se({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=Nt(gg),yg=Se({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),vg=Nt(yg),xg=Se({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),wg=Nt(xg),Cg=Se({},Ro,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sg=Nt(Cg),kg=[9,13,27,32],gc=xr&&"CompositionEvent"in window,rs=null;xr&&"documentMode"in document&&(rs=document.documentMode);var Eg=xr&&"TextEvent"in window&&!rs,gp=xr&&(!gc||rs&&8<rs&&11>=rs),Bd=String.fromCharCode(32),Hd=!1;function yp(e,t){switch(e){case"keyup":return kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function jg(e,t){switch(e){case"compositionend":return vp(t);case"keypress":return t.which!==32?null:(Hd=!0,Bd);case"textInput":return e=t.data,e===Bd&&Hd?null:e;default:return null}}function bg(e,t){if($n)return e==="compositionend"||!gc&&yp(e,t)?(e=mp(),bl=hc=zr=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gp&&t.locale!=="ko"?null:t.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ng[e.type]:t==="textarea"}function xp(e,t,r,n){qh(n),t=Jl(t,"onChange"),0<t.length&&(r=new pc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ns=null,ys=null;function _g(e){Pp(e,0)}function Io(e){var t=Qn(e);if(Bh(t))return e}function Lg(e,t){if(e==="change")return t}var wp=!1;if(xr){var da;if(xr){var fa="oninput"in document;if(!fa){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),fa=typeof Wd.oninput=="function"}da=fa}else da=!1;wp=da&&(!document.documentMode||9<document.documentMode)}function Gd(){ns&&(ns.detachEvent("onpropertychange",Cp),ys=ns=null)}function Cp(e){if(e.propertyName==="value"&&Io(ys)){var t=[];xp(t,ys,e,ac(e)),ep(_g,t)}}function Pg(e,t,r){e==="focusin"?(Gd(),ns=t,ys=r,ns.attachEvent("onpropertychange",Cp)):e==="focusout"&&Gd()}function Rg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Io(ys)}function Ig(e,t){if(e==="click")return Io(t)}function Og(e,t){if(e==="input"||e==="change")return Io(t)}function Ag(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Ag;function vs(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Fa.call(t,i)||!Zt(e[i],t[i]))return!1}return!0}function Zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kd(e,t){var r=Zd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zd(r)}}function Sp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kp(){for(var e=window,t=Hl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hl(e.document)}return t}function yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mg(e){var t=kp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Sp(r.ownerDocument.documentElement,r)){if(n!==null&&yc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Kd(r,s);var l=Kd(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tg=xr&&"documentMode"in document&&11>=document.documentMode,Bn=null,ru=null,is=null,nu=!1;function qd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||Bn==null||Bn!==Hl(n)||(n=Bn,"selectionStart"in n&&yc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),is&&vs(is,n)||(is=n,n=Jl(ru,"onSelect"),0<n.length&&(t=new pc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Bn)))}function al(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hn={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},ha={},Ep={};xr&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function Oo(e){if(ha[e])return ha[e];if(!Hn[e])return e;var t=Hn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ep)return ha[e]=t[r];return e}var jp=Oo("animationend"),bp=Oo("animationiteration"),Np=Oo("animationstart"),_p=Oo("transitionend"),Lp=new Map,Jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,t){Lp.set(e,t),An(t,[e])}for(var pa=0;pa<Jd.length;pa++){var ma=Jd[pa],Fg=ma.toLowerCase(),Dg=ma[0].toUpperCase()+ma.slice(1);nn(Fg,"on"+Dg)}nn(jp,"onAnimationEnd");nn(bp,"onAnimationIteration");nn(Np,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(_p,"onTransitionEnd");Ci("onMouseEnter",["mouseout","mouseover"]);Ci("onMouseLeave",["mouseout","mouseover"]);Ci("onPointerEnter",["pointerout","pointerover"]);Ci("onPointerLeave",["pointerout","pointerover"]);An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));An("onBeforeInput",["compositionend","keypress","textInput","paste"]);An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function Yd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,F0(n,t,void 0,e),e.currentTarget=null}function Pp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var a=n[l],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Yd(i,a,c),s=u}else for(l=0;l<n.length;l++){if(a=n[l],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Yd(i,a,c),s=u}}}if(Wl)throw e=Ya,Wl=!1,Ya=null,e}function me(e,t){var r=t[au];r===void 0&&(r=t[au]=new Set);var n=e+"__bubble";r.has(n)||(Rp(t,e,2,!1),r.add(n))}function ga(e,t,r){var n=0;t&&(n|=4),Rp(r,e,n,t)}var ul="_reactListening"+Math.random().toString(36).slice(2);function xs(e){if(!e[ul]){e[ul]=!0,Dh.forEach(function(r){r!=="selectionchange"&&(Vg.has(r)||ga(r,!1,e),ga(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ul]||(t[ul]=!0,ga("selectionchange",!1,t))}}function Rp(e,t,r,n){switch(pp(t)){case 1:var i=X0;break;case 4:i=eg;break;default:i=fc}r=i.bind(null,t,r,e),i=void 0,!Ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ya(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;a!==null;){if(l=fn(a),l===null)return;if(u=l.tag,u===5||u===6){n=s=l;continue e}a=a.parentNode}}n=n.return}ep(function(){var c=s,f=ac(r),d=[];e:{var h=Lp.get(e);if(h!==void 0){var v=pc,C=e;switch(e){case"keypress":if(Nl(r)===0)break e;case"keydown":case"keyup":v=mg;break;case"focusin":C="focus",v=ca;break;case"focusout":C="blur",v=ca;break;case"beforeblur":case"afterblur":v=ca;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=vg;break;case jp:case bp:case Np:v=lg;break;case _p:v=wg;break;case"scroll":v=tg;break;case"wheel":v=Sg;break;case"copy":case"cut":case"paste":v=ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$d}var S=(t&4)!==0,E=!S&&e==="scroll",m=S?h!==null?h+"Capture":null:h;S=[];for(var p=c,y;p!==null;){y=p;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,m!==null&&(k=hs(p,m),k!=null&&S.push(ws(p,k,y)))),E)break;p=p.return}0<S.length&&(h=new v(h,C,null,r,f),d.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==Ka&&(C=r.relatedTarget||r.fromElement)&&(fn(C)||C[wr]))break e;if((v||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,v?(C=r.relatedTarget||r.toElement,v=c,C=C?fn(C):null,C!==null&&(E=Mn(C),C!==E||C.tag!==5&&C.tag!==6)&&(C=null)):(v=null,C=c),v!==C)){if(S=Ud,k="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(S=$d,k="onPointerLeave",m="onPointerEnter",p="pointer"),E=v==null?h:Qn(v),y=C==null?h:Qn(C),h=new S(k,p+"leave",v,r,f),h.target=E,h.relatedTarget=y,k=null,fn(f)===c&&(S=new S(m,p+"enter",C,r,f),S.target=y,S.relatedTarget=E,k=S),E=k,v&&C)t:{for(S=v,m=C,p=0,y=S;y;y=Dn(y))p++;for(y=0,k=m;k;k=Dn(k))y++;for(;0<p-y;)S=Dn(S),p--;for(;0<y-p;)m=Dn(m),y--;for(;p--;){if(S===m||m!==null&&S===m.alternate)break t;S=Dn(S),m=Dn(m)}S=null}else S=null;v!==null&&Xd(d,h,v,S,!1),C!==null&&E!==null&&Xd(d,E,C,S,!0)}}e:{if(h=c?Qn(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var N=Lg;else if(Qd(h))if(wp)N=Og;else{N=Rg;var R=Pg}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Ig);if(N&&(N=N(e,c))){xp(d,N,r,f);break e}R&&R(e,h,c),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&Ha(h,"number",h.value)}switch(R=c?Qn(c):window,e){case"focusin":(Qd(R)||R.contentEditable==="true")&&(Bn=R,ru=c,is=null);break;case"focusout":is=ru=Bn=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,qd(d,r,f);break;case"selectionchange":if(Tg)break;case"keydown":case"keyup":qd(d,r,f)}var P;if(gc)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else $n?yp(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(gp&&r.locale!=="ko"&&($n||L!=="onCompositionStart"?L==="onCompositionEnd"&&$n&&(P=mp()):(zr=f,hc="value"in zr?zr.value:zr.textContent,$n=!0)),R=Jl(c,L),0<R.length&&(L=new zd(L,e,null,r,f),d.push({event:L,listeners:R}),P?L.data=P:(P=vp(r),P!==null&&(L.data=P)))),(P=Eg?jg(e,r):bg(e,r))&&(c=Jl(c,"onBeforeInput"),0<c.length&&(f=new zd("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=P))}Pp(d,t)})}function ws(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Jl(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hs(e,r),s!=null&&n.unshift(ws(e,s,i)),s=hs(e,t),s!=null&&n.push(ws(e,s,i))),e=e.return}return n}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xd(e,t,r,n,i){for(var s=t._reactName,l=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,i?(u=hs(r,s),u!=null&&l.unshift(ws(r,u,a))):i||(u=hs(r,s),u!=null&&l.push(ws(r,u,a)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var Ug=/\r\n?/g,zg=/\u0000|\uFFFD/g;function ef(e){return(typeof e=="string"?e:""+e).replace(Ug,`
`).replace(zg,"")}function cl(e,t,r){if(t=ef(t),ef(e)!==t&&r)throw Error(I(425))}function Yl(){}var iu=null,su=null;function lu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ou=typeof setTimeout=="function"?setTimeout:void 0,$g=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,Bg=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(e){return tf.resolve(null).then(e).catch(Hg)}:ou;function Hg(e){setTimeout(function(){throw e})}function va(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),gs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);gs(t)}function Zr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),nr="__reactFiber$"+Ii,Cs="__reactProps$"+Ii,wr="__reactContainer$"+Ii,au="__reactEvents$"+Ii,Qg="__reactListeners$"+Ii,Wg="__reactHandles$"+Ii;function fn(e){var t=e[nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wr]||r[nr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rf(e);e!==null;){if(r=e[nr])return r;e=rf(e)}return t}e=r,r=e.parentNode}return null}function Ws(e){return e=e[nr]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Ao(e){return e[Cs]||null}var uu=[],Wn=-1;function sn(e){return{current:e}}function ge(e){0>Wn||(e.current=uu[Wn],uu[Wn]=null,Wn--)}function he(e,t){Wn++,uu[Wn]=e.current,e.current=t}var rn={},qe=sn(rn),dt=sn(!1),_n=rn;function Si(e,t){var r=e.type.contextTypes;if(!r)return rn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ft(e){return e=e.childContextTypes,e!=null}function Xl(){ge(dt),ge(qe)}function nf(e,t,r){if(qe.current!==rn)throw Error(I(168));he(qe,t),he(dt,r)}function Ip(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(I(108,P0(e)||"Unknown",i));return Se({},r,n)}function eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,_n=qe.current,he(qe,e),he(dt,dt.current),!0}function sf(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=Ip(e,t,_n),n.__reactInternalMemoizedMergedChildContext=e,ge(dt),ge(qe),he(qe,e)):ge(dt),he(dt,r)}var pr=null,Mo=!1,xa=!1;function Op(e){pr===null?pr=[e]:pr.push(e)}function Gg(e){Mo=!0,Op(e)}function ln(){if(!xa&&pr!==null){xa=!0;var e=0,t=de;try{var r=pr;for(de=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pr=null,Mo=!1}catch(i){throw pr!==null&&(pr=pr.slice(e+1)),ip(uc,ln),i}finally{de=t,xa=!1}}return null}var Gn=[],Zn=0,to=null,ro=0,Pt=[],Rt=0,Ln=null,gr=1,yr="";function cn(e,t){Gn[Zn++]=ro,Gn[Zn++]=to,to=e,ro=t}function Ap(e,t,r){Pt[Rt++]=gr,Pt[Rt++]=yr,Pt[Rt++]=Ln,Ln=e;var n=gr;e=yr;var i=32-Wt(n)-1;n&=~(1<<i),r+=1;var s=32-Wt(t)+i;if(30<s){var l=i-i%5;s=(n&(1<<l)-1).toString(32),n>>=l,i-=l,gr=1<<32-Wt(t)+i|r<<i|n,yr=s+e}else gr=1<<s|r<<i|n,yr=e}function vc(e){e.return!==null&&(cn(e,1),Ap(e,1,0))}function xc(e){for(;e===to;)to=Gn[--Zn],Gn[Zn]=null,ro=Gn[--Zn],Gn[Zn]=null;for(;e===Ln;)Ln=Pt[--Rt],Pt[Rt]=null,yr=Pt[--Rt],Pt[Rt]=null,gr=Pt[--Rt],Pt[Rt]=null}var Et=null,Ct=null,ye=!1,Bt=null;function Mp(e,t){var r=It(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function lf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,Ct=Zr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ln!==null?{id:gr,overflow:yr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=It(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Et=e,Ct=null,!0):!1;default:return!1}}function cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function du(e){if(ye){var t=Ct;if(t){var r=t;if(!lf(e,t)){if(cu(e))throw Error(I(418));t=Zr(r.nextSibling);var n=Et;t&&lf(e,t)?Mp(n,r):(e.flags=e.flags&-4097|2,ye=!1,Et=e)}}else{if(cu(e))throw Error(I(418));e.flags=e.flags&-4097|2,ye=!1,Et=e}}}function of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function dl(e){if(e!==Et)return!1;if(!ye)return of(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lu(e.type,e.memoizedProps)),t&&(t=Ct)){if(cu(e))throw Tp(),Error(I(418));for(;t;)Mp(e,t),t=Zr(t.nextSibling)}if(of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ct=Zr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=Et?Zr(e.stateNode.nextSibling):null;return!0}function Tp(){for(var e=Ct;e;)e=Zr(e.nextSibling)}function ki(){Ct=Et=null,ye=!1}function wc(e){Bt===null?Bt=[e]:Bt.push(e)}var Zg=Er.ReactCurrentBatchConfig;function $i(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var a=i.refs;l===null?delete a[s]:a[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function fl(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function af(e){var t=e._init;return t(e._payload)}function Fp(e){function t(m,p){if(e){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Yr(m,p),m.index=0,m.sibling=null,m}function s(m,p,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,k){return p===null||p.tag!==6?(p=ba(y,m.mode,k),p.return=m,p):(p=i(p,y),p.return=m,p)}function u(m,p,y,k){var N=y.type;return N===zn?f(m,p,y.props.children,k,y.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_r&&af(N)===p.type)?(k=i(p,y.props),k.ref=$i(m,p,y),k.return=m,k):(k=Al(y.type,y.key,y.props,null,m.mode,k),k.ref=$i(m,p,y),k.return=m,k)}function c(m,p,y,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Na(y,m.mode,k),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function f(m,p,y,k,N){return p===null||p.tag!==7?(p=Nn(y,m.mode,k,N),p.return=m,p):(p=i(p,y),p.return=m,p)}function d(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ba(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case tl:return y=Al(p.type,p.key,p.props,null,m.mode,y),y.ref=$i(m,null,p),y.return=m,y;case Un:return p=Na(p,m.mode,y),p.return=m,p;case _r:var k=p._init;return d(m,k(p._payload),y)}if(Ki(p)||Fi(p))return p=Nn(p,m.mode,y,null),p.return=m,p;fl(m,p)}return null}function h(m,p,y,k){var N=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:a(m,p,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tl:return y.key===N?u(m,p,y,k):null;case Un:return y.key===N?c(m,p,y,k):null;case _r:return N=y._init,h(m,p,N(y._payload),k)}if(Ki(y)||Fi(y))return N!==null?null:f(m,p,y,k,null);fl(m,y)}return null}function v(m,p,y,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(y)||null,a(p,m,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case tl:return m=m.get(k.key===null?y:k.key)||null,u(p,m,k,N);case Un:return m=m.get(k.key===null?y:k.key)||null,c(p,m,k,N);case _r:var R=k._init;return v(m,p,y,R(k._payload),N)}if(Ki(k)||Fi(k))return m=m.get(y)||null,f(p,m,k,N,null);fl(p,k)}return null}function C(m,p,y,k){for(var N=null,R=null,P=p,L=p=0,B=null;P!==null&&L<y.length;L++){P.index>L?(B=P,P=null):B=P.sibling;var O=h(m,P,y[L],k);if(O===null){P===null&&(P=B);break}e&&P&&O.alternate===null&&t(m,P),p=s(O,p,L),R===null?N=O:R.sibling=O,R=O,P=B}if(L===y.length)return r(m,P),ye&&cn(m,L),N;if(P===null){for(;L<y.length;L++)P=d(m,y[L],k),P!==null&&(p=s(P,p,L),R===null?N=P:R.sibling=P,R=P);return ye&&cn(m,L),N}for(P=n(m,P);L<y.length;L++)B=v(P,m,L,y[L],k),B!==null&&(e&&B.alternate!==null&&P.delete(B.key===null?L:B.key),p=s(B,p,L),R===null?N=B:R.sibling=B,R=B);return e&&P.forEach(function(se){return t(m,se)}),ye&&cn(m,L),N}function S(m,p,y,k){var N=Fi(y);if(typeof N!="function")throw Error(I(150));if(y=N.call(y),y==null)throw Error(I(151));for(var R=N=null,P=p,L=p=0,B=null,O=y.next();P!==null&&!O.done;L++,O=y.next()){P.index>L?(B=P,P=null):B=P.sibling;var se=h(m,P,O.value,k);if(se===null){P===null&&(P=B);break}e&&P&&se.alternate===null&&t(m,P),p=s(se,p,L),R===null?N=se:R.sibling=se,R=se,P=B}if(O.done)return r(m,P),ye&&cn(m,L),N;if(P===null){for(;!O.done;L++,O=y.next())O=d(m,O.value,k),O!==null&&(p=s(O,p,L),R===null?N=O:R.sibling=O,R=O);return ye&&cn(m,L),N}for(P=n(m,P);!O.done;L++,O=y.next())O=v(P,m,L,O.value,k),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?L:O.key),p=s(O,p,L),R===null?N=O:R.sibling=O,R=O);return e&&P.forEach(function(W){return t(m,W)}),ye&&cn(m,L),N}function E(m,p,y,k){if(typeof y=="object"&&y!==null&&y.type===zn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case tl:e:{for(var N=y.key,R=p;R!==null;){if(R.key===N){if(N=y.type,N===zn){if(R.tag===7){r(m,R.sibling),p=i(R,y.props.children),p.return=m,m=p;break e}}else if(R.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_r&&af(N)===R.type){r(m,R.sibling),p=i(R,y.props),p.ref=$i(m,R,y),p.return=m,m=p;break e}r(m,R);break}else t(m,R);R=R.sibling}y.type===zn?(p=Nn(y.props.children,m.mode,k,y.key),p.return=m,m=p):(k=Al(y.type,y.key,y.props,null,m.mode,k),k.ref=$i(m,p,y),k.return=m,m=k)}return l(m);case Un:e:{for(R=y.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=Na(y,m.mode,k),p.return=m,m=p}return l(m);case _r:return R=y._init,E(m,p,R(y._payload),k)}if(Ki(y))return C(m,p,y,k);if(Fi(y))return S(m,p,y,k);fl(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(m,p.sibling),p=i(p,y),p.return=m,m=p):(r(m,p),p=ba(y,m.mode,k),p.return=m,m=p),l(m)):r(m,p)}return E}var Ei=Fp(!0),Dp=Fp(!1),no=sn(null),io=null,Kn=null,Cc=null;function Sc(){Cc=Kn=io=null}function kc(e){var t=no.current;ge(no),e._currentValue=t}function fu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ii(e,t){io=e,Cc=Kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Cc!==e)if(e={context:e,memoizedValue:t,next:null},Kn===null){if(io===null)throw Error(I(308));Kn=e,io.dependencies={lanes:0,firstContext:e}}else Kn=Kn.next=e;return t}var hn=null;function Ec(e){hn===null?hn=[e]:hn.push(e)}function Vp(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Ec(t)):(r.next=i.next,i.next=r),t.interleaved=r,Cr(e,n)}function Cr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lr=!1;function jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Cr(e,r)}return i=n.interleaved,i===null?(t.next=t,Ec(n)):(t.next=i.next,i.next=t),n.interleaved=t,Cr(e,r)}function _l(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cc(e,r)}}function uf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=l:s=s.next=l,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function so(e,t,r,n){var i=e.updateQueue;Lr=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,l===null?s=c:l.next=c,l=u;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==l&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;l=0,f=c=u=null,a=s;do{var h=a.lane,v=a.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=e,S=a;switch(h=t,v=r,S.tag){case 1:if(C=S.payload,typeof C=="function"){d=C.call(v,d,h);break e}d=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=S.payload,h=typeof C=="function"?C.call(v,d,h):C,h==null)break e;d=Se({},d,h);break e;case 2:Lr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=v,u=d):f=f.next=v,l|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(f===null&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Rn|=l,e.lanes=l,e.memoizedState=d}}function cf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(I(191,i));i.call(n)}}}var Gs={},or=sn(Gs),Ss=sn(Gs),ks=sn(Gs);function pn(e){if(e===Gs)throw Error(I(174));return e}function bc(e,t){switch(he(ks,t),he(Ss,e),he(or,Gs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wa(t,e)}ge(or),he(or,t)}function ji(){ge(or),ge(Ss),ge(ks)}function zp(e){pn(ks.current);var t=pn(or.current),r=Wa(t,e.type);t!==r&&(he(Ss,e),he(or,r))}function Nc(e){Ss.current===e&&(ge(or),ge(Ss))}var xe=sn(0);function lo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wa=[];function _c(){for(var e=0;e<wa.length;e++)wa[e]._workInProgressVersionPrimary=null;wa.length=0}var Ll=Er.ReactCurrentDispatcher,Ca=Er.ReactCurrentBatchConfig,Pn=0,Ce=null,Ie=null,Te=null,oo=!1,ss=!1,Es=0,Kg=0;function Qe(){throw Error(I(321))}function Lc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Zt(e[r],t[r]))return!1;return!0}function Pc(e,t,r,n,i,s){if(Pn=s,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ll.current=e===null||e.memoizedState===null?Xg:ey,e=r(n,i),ss){s=0;do{if(ss=!1,Es=0,25<=s)throw Error(I(301));s+=1,Te=Ie=null,t.updateQueue=null,Ll.current=ty,e=r(n,i)}while(ss)}if(Ll.current=ao,t=Ie!==null&&Ie.next!==null,Pn=0,Te=Ie=Ce=null,oo=!1,t)throw Error(I(300));return e}function Rc(){var e=Es!==0;return Es=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Ce.memoizedState=Te=e:Te=Te.next=e,Te}function Mt(){if(Ie===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Te===null?Ce.memoizedState:Te.next;if(t!==null)Te=t,Ie=e;else{if(e===null)throw Error(I(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Te===null?Ce.memoizedState=Te=e:Te=Te.next=e}return Te}function js(e,t){return typeof t=="function"?t(e):t}function Sa(e){var t=Mt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=Ie,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=l=null,u=null,c=s;do{var f=c.lane;if((Pn&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,l=n):u=u.next=d,Ce.lanes|=f,Rn|=f}c=c.next}while(c!==null&&c!==s);u===null?l=n:u.next=a,Zt(n,t.memoizedState)||(ct=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Ce.lanes|=s,Rn|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ka(e){var t=Mt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);Zt(s,t.memoizedState)||(ct=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function $p(){}function Bp(e,t){var r=Ce,n=Mt(),i=t(),s=!Zt(n.memoizedState,i);if(s&&(n.memoizedState=i,ct=!0),n=n.queue,Ic(Wp.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Te!==null&&Te.memoizedState.tag&1){if(r.flags|=2048,bs(9,Qp.bind(null,r,n,i,t),void 0,null),Fe===null)throw Error(I(349));Pn&30||Hp(r,t,i)}return i}function Hp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Qp(e,t,r,n){t.value=r,t.getSnapshot=n,Gp(t)&&Zp(e)}function Wp(e,t,r){return r(function(){Gp(t)&&Zp(e)})}function Gp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zt(e,r)}catch{return!0}}function Zp(e){var t=Cr(e,1);t!==null&&Gt(t,e,1,-1)}function df(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:e},t.queue=e,e=e.dispatch=Yg.bind(null,Ce,e),[t.memoizedState,e]}function bs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Kp(){return Mt().memoizedState}function Pl(e,t,r,n){var i=Yt();Ce.flags|=e,i.memoizedState=bs(1|t,r,void 0,n===void 0?null:n)}function To(e,t,r,n){var i=Mt();n=n===void 0?null:n;var s=void 0;if(Ie!==null){var l=Ie.memoizedState;if(s=l.destroy,n!==null&&Lc(n,l.deps)){i.memoizedState=bs(t,r,s,n);return}}Ce.flags|=e,i.memoizedState=bs(1|t,r,s,n)}function ff(e,t){return Pl(8390656,8,e,t)}function Ic(e,t){return To(2048,8,e,t)}function qp(e,t){return To(4,2,e,t)}function Jp(e,t){return To(4,4,e,t)}function Yp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xp(e,t,r){return r=r!=null?r.concat([e]):null,To(4,4,Yp.bind(null,t,e),r)}function Oc(){}function e1(e,t){var r=Mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function t1(e,t){var r=Mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function r1(e,t,r){return Pn&21?(Zt(r,t)||(r=op(),Ce.lanes|=r,Rn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=r)}function qg(e,t){var r=de;de=r!==0&&4>r?r:4,e(!0);var n=Ca.transition;Ca.transition={};try{e(!1),t()}finally{de=r,Ca.transition=n}}function n1(){return Mt().memoizedState}function Jg(e,t,r){var n=Jr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},i1(e))s1(t,r);else if(r=Vp(e,t,r,n),r!==null){var i=rt();Gt(r,e,n,i),l1(r,t,n)}}function Yg(e,t,r){var n=Jr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(i1(e))s1(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,a=s(l,r);if(i.hasEagerState=!0,i.eagerState=a,Zt(a,l)){var u=t.interleaved;u===null?(i.next=i,Ec(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=Vp(e,t,i,n),r!==null&&(i=rt(),Gt(r,e,n,i),l1(r,t,n))}}function i1(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function s1(e,t){ss=oo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function l1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cc(e,r)}}var ao={readContext:At,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Xg={readContext:At,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:ff,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pl(4194308,4,Yp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pl(4,2,e,t)},useMemo:function(e,t){var r=Yt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Yt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Jg.bind(null,Ce,e),[n.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:df,useDebugValue:Oc,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=df(!1),t=e[0];return e=qg.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ce,i=Yt();if(ye){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Fe===null)throw Error(I(349));Pn&30||Hp(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,ff(Wp.bind(null,n,s,e),[e]),n.flags|=2048,bs(9,Qp.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Yt(),t=Fe.identifierPrefix;if(ye){var r=yr,n=gr;r=(n&~(1<<32-Wt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Es++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Kg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ey={readContext:At,useCallback:e1,useContext:At,useEffect:Ic,useImperativeHandle:Xp,useInsertionEffect:qp,useLayoutEffect:Jp,useMemo:t1,useReducer:Sa,useRef:Kp,useState:function(){return Sa(js)},useDebugValue:Oc,useDeferredValue:function(e){var t=Mt();return r1(t,Ie.memoizedState,e)},useTransition:function(){var e=Sa(js)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:$p,useSyncExternalStore:Bp,useId:n1,unstable_isNewReconciler:!1},ty={readContext:At,useCallback:e1,useContext:At,useEffect:Ic,useImperativeHandle:Xp,useInsertionEffect:qp,useLayoutEffect:Jp,useMemo:t1,useReducer:ka,useRef:Kp,useState:function(){return ka(js)},useDebugValue:Oc,useDeferredValue:function(e){var t=Mt();return Ie===null?t.memoizedState=e:r1(t,Ie.memoizedState,e)},useTransition:function(){var e=ka(js)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:$p,useSyncExternalStore:Bp,useId:n1,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fo={isMounted:function(e){return(e=e._reactInternals)?Mn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rt(),i=Jr(e),s=vr(n,i);s.payload=t,r!=null&&(s.callback=r),t=Kr(e,s,i),t!==null&&(Gt(t,e,i,n),_l(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rt(),i=Jr(e),s=vr(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Kr(e,s,i),t!==null&&(Gt(t,e,i,n),_l(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rt(),n=Jr(e),i=vr(r,n);i.tag=2,t!=null&&(i.callback=t),t=Kr(e,i,n),t!==null&&(Gt(t,e,n,r),_l(t,e,n))}};function hf(e,t,r,n,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,l):t.prototype&&t.prototype.isPureReactComponent?!vs(r,n)||!vs(i,s):!0}function o1(e,t,r){var n=!1,i=rn,s=t.contextType;return typeof s=="object"&&s!==null?s=At(s):(i=ft(t)?_n:qe.current,n=t.contextTypes,s=(n=n!=null)?Si(e,i):rn),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function pf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fo.enqueueReplaceState(t,t.state,null)}function pu(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},jc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=At(s):(s=ft(t)?_n:qe.current,i.context=Si(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(hu(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Fo.enqueueReplaceState(i,i.state,null),so(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function bi(e,t){try{var r="",n=t;do r+=L0(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ea(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function mu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ry=typeof WeakMap=="function"?WeakMap:Map;function a1(e,t,r){r=vr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){co||(co=!0,ju=n),mu(e,t)},r}function u1(e,t,r){r=vr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){mu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){mu(e,t),typeof n!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function mf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ry;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=gy.bind(null,e,t,r),t.then(e,e))}function gf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yf(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vr(-1,1),t.tag=2,Kr(r,t,1))),r.lanes|=1),e)}var ny=Er.ReactCurrentOwner,ct=!1;function Xe(e,t,r,n){t.child=e===null?Dp(t,null,r,n):Ei(t,e.child,r,n)}function vf(e,t,r,n,i){r=r.render;var s=t.ref;return ii(t,i),n=Pc(e,t,r,n,s,i),r=Rc(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sr(e,t,i)):(ye&&r&&vc(t),t.flags|=1,Xe(e,t,n,i),t.child)}function xf(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!zc(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,c1(e,t,s,n,i)):(e=Al(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var l=s.memoizedProps;if(r=r.compare,r=r!==null?r:vs,r(l,n)&&e.ref===t.ref)return Sr(e,t,i)}return t.flags|=1,e=Yr(s,n),e.ref=t.ref,e.return=t,t.child=e}function c1(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(vs(s,n)&&e.ref===t.ref)if(ct=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,Sr(e,t,i)}return gu(e,t,r,n,i)}function d1(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Jn,wt),wt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Jn,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,he(Jn,wt),wt|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,he(Jn,wt),wt|=n;return Xe(e,t,i,r),t.child}function f1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gu(e,t,r,n,i){var s=ft(r)?_n:qe.current;return s=Si(t,s),ii(t,i),r=Pc(e,t,r,n,s,i),n=Rc(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sr(e,t,i)):(ye&&n&&vc(t),t.flags|=1,Xe(e,t,r,i),t.child)}function wf(e,t,r,n,i){if(ft(r)){var s=!0;eo(t)}else s=!1;if(ii(t,i),t.stateNode===null)Rl(e,t),o1(t,r,n),pu(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,a=t.memoizedProps;l.props=a;var u=l.context,c=r.contextType;typeof c=="object"&&c!==null?c=At(c):(c=ft(r)?_n:qe.current,c=Si(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==n||u!==c)&&pf(t,l,n,c),Lr=!1;var h=t.memoizedState;l.state=h,so(t,n,l,i),u=t.memoizedState,a!==n||h!==u||dt.current||Lr?(typeof f=="function"&&(hu(t,r,f,n),u=t.memoizedState),(a=Lr||hf(t,r,a,n,h,u,c))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),l.props=n,l.state=u,l.context=c,n=a):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Up(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ut(t.type,a),l.props=c,d=t.pendingProps,h=l.context,u=r.contextType,typeof u=="object"&&u!==null?u=At(u):(u=ft(r)?_n:qe.current,u=Si(t,u));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==d||h!==u)&&pf(t,l,n,u),Lr=!1,h=t.memoizedState,l.state=h,so(t,n,l,i);var C=t.memoizedState;a!==d||h!==C||dt.current||Lr?(typeof v=="function"&&(hu(t,r,v,n),C=t.memoizedState),(c=Lr||hf(t,r,c,n,h,C,u)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,C,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,C,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=C),l.props=n,l.state=C,l.context=u,n=c):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return yu(e,t,r,n,s,i)}function yu(e,t,r,n,i,s){f1(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&sf(t,r,!1),Sr(e,t,s);n=t.stateNode,ny.current=t;var a=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Ei(t,e.child,null,s),t.child=Ei(t,null,a,s)):Xe(e,t,a,s),t.memoizedState=n.state,i&&sf(t,r,!0),t.child}function h1(e){var t=e.stateNode;t.pendingContext?nf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nf(e,t.context,!1),bc(e,t.containerInfo)}function Cf(e,t,r,n,i){return ki(),wc(i),t.flags|=256,Xe(e,t,r,n),t.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function xu(e){return{baseLanes:e,cachePool:null,transitions:null}}function p1(e,t,r){var n=t.pendingProps,i=xe.current,s=!1,l=(t.flags&128)!==0,a;if((a=l)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(xe,i&1),e===null)return du(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,s?(n=t.mode,s=t.child,l={mode:"hidden",children:l},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Uo(l,n,0,null),e=Nn(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=xu(r),t.memoizedState=vu,e):Ac(t,l));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return iy(e,t,l,n,a,i,r);if(s){s=n.fallback,l=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Yr(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Yr(a,s):(s=Nn(s,l,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,l=e.child.memoizedState,l=l===null?xu(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=vu,n}return s=e.child,e=s.sibling,n=Yr(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ac(e,t){return t=Uo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hl(e,t,r,n){return n!==null&&wc(n),Ei(t,e.child,null,r),e=Ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iy(e,t,r,n,i,s,l){if(r)return t.flags&256?(t.flags&=-257,n=Ea(Error(I(422))),hl(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Uo({mode:"visible",children:n.children},i,0,null),s=Nn(s,i,l,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ei(t,e.child,null,l),t.child.memoizedState=xu(l),t.memoizedState=vu,s);if(!(t.mode&1))return hl(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(I(419)),n=Ea(s,n,void 0),hl(e,t,l,n)}if(a=(l&e.childLanes)!==0,ct||a){if(n=Fe,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cr(e,i),Gt(n,e,i,-1))}return Uc(),n=Ea(Error(I(421))),hl(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yy.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ct=Zr(i.nextSibling),Et=t,ye=!0,Bt=null,e!==null&&(Pt[Rt++]=gr,Pt[Rt++]=yr,Pt[Rt++]=Ln,gr=e.id,yr=e.overflow,Ln=t),t=Ac(t,n.children),t.flags|=4096,t)}function Sf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fu(e.return,t,r)}function ja(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function m1(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Xe(e,t,n.children,r),n=xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sf(e,r,t);else if(e.tag===19)Sf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(he(xe,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&lo(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ja(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&lo(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ja(t,!0,r,null,s);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=Yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function sy(e,t,r){switch(t.tag){case 3:h1(t),ki();break;case 5:zp(t);break;case 1:ft(t.type)&&eo(t);break;case 4:bc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;he(no,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(he(xe,xe.current&1),t.flags|=128,null):r&t.child.childLanes?p1(e,t,r):(he(xe,xe.current&1),e=Sr(e,t,r),e!==null?e.sibling:null);he(xe,xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return m1(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(xe,xe.current),n)break;return null;case 22:case 23:return t.lanes=0,d1(e,t,r)}return Sr(e,t,r)}var g1,wu,y1,v1;g1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wu=function(){};y1=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,pn(or.current);var s=null;switch(r){case"input":i=$a(e,i),n=$a(e,n),s=[];break;case"select":i=Se({},i,{value:void 0}),n=Se({},n,{value:void 0}),s=[];break;case"textarea":i=Qa(e,i),n=Qa(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yl)}Ga(r,n);var l;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(l in a)a.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ds.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(l in a)!a.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&a[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ds.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&me("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};v1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Bi(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ly(e,t,r){var n=t.pendingProps;switch(xc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return ft(t.type)&&Xl(),We(t),null;case 3:return n=t.stateNode,ji(),ge(dt),ge(qe),_c(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(_u(Bt),Bt=null))),wu(e,t),We(t),null;case 5:Nc(t);var i=pn(ks.current);if(r=t.type,e!==null&&t.stateNode!=null)y1(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return We(t),null}if(e=pn(or.current),dl(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[nr]=t,n[Cs]=s,e=(t.mode&1)!==0,r){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(i=0;i<Ji.length;i++)me(Ji[i],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":Pd(n,s),me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},me("invalid",n);break;case"textarea":Id(n,s),me("invalid",n)}Ga(r,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&cl(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cl(n.textContent,a,e),i=["children",""+a]):ds.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&me("scroll",n)}switch(r){case"input":rl(n),Rd(n,s,!0);break;case"textarea":rl(n),Od(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Yl)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[nr]=t,e[Cs]=n,g1(e,t,!1,!1),t.stateNode=e;e:{switch(l=Za(r,n),r){case"dialog":me("cancel",e),me("close",e),i=n;break;case"iframe":case"object":case"embed":me("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ji.length;i++)me(Ji[i],e);i=n;break;case"source":me("error",e),i=n;break;case"img":case"image":case"link":me("error",e),me("load",e),i=n;break;case"details":me("toggle",e),i=n;break;case"input":Pd(e,n),i=$a(e,n),me("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Se({},n,{value:void 0}),me("invalid",e);break;case"textarea":Id(e,n),i=Qa(e,n),me("invalid",e);break;default:i=n}Ga(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Kh(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Gh(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&fs(e,u):typeof u=="number"&&fs(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ds.hasOwnProperty(s)?u!=null&&s==="onScroll"&&me("scroll",e):u!=null&&ic(e,s,u,l))}switch(r){case"input":rl(e),Rd(e,n,!1);break;case"textarea":rl(e),Od(e);break;case"option":n.value!=null&&e.setAttribute("value",""+tn(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?ei(e,!!n.multiple,s,!1):n.defaultValue!=null&&ei(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Yl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)v1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=pn(ks.current),pn(or.current),dl(t)){if(n=t.stateNode,r=t.memoizedProps,n[nr]=t,(s=n.nodeValue!==r)&&(e=Et,e!==null))switch(e.tag){case 3:cl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cl(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nr]=t,t.stateNode=n}return We(t),null;case 13:if(ge(xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&Ct!==null&&t.mode&1&&!(t.flags&128))Tp(),ki(),t.flags|=98560,s=!1;else if(s=dl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(I(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[nr]=t}else ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),s=!1}else Bt!==null&&(_u(Bt),Bt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Ae===0&&(Ae=3):Uc())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return ji(),wu(e,t),e===null&&xs(t.stateNode.containerInfo),We(t),null;case 10:return kc(t.type._context),We(t),null;case 17:return ft(t.type)&&Xl(),We(t),null;case 19:if(ge(xe),s=t.memoizedState,s===null)return We(t),null;if(n=(t.flags&128)!==0,l=s.rendering,l===null)if(n)Bi(s,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=lo(e),l!==null){for(t.flags|=128,Bi(s,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return he(xe,xe.current&1|2),t.child}e=e.sibling}s.tail!==null&&be()>Ni&&(t.flags|=128,n=!0,Bi(s,!1),t.lanes=4194304)}else{if(!n)if(e=lo(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Bi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!ye)return We(t),null}else 2*be()-s.renderingStartTime>Ni&&r!==1073741824&&(t.flags|=128,n=!0,Bi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(r=s.last,r!==null?r.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=be(),t.sibling=null,r=xe.current,he(xe,n?r&1|2:r&1),t):(We(t),null);case 22:case 23:return Vc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?wt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function oy(e,t){switch(xc(t),t.tag){case 1:return ft(t.type)&&Xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ji(),ge(dt),ge(qe),_c(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nc(t),null;case 13:if(ge(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(xe),null;case 4:return ji(),null;case 10:return kc(t.type._context),null;case 22:case 23:return Vc(),null;case 24:return null;default:return null}}var pl=!1,Ze=!1,ay=typeof WeakSet=="function"?WeakSet:Set,$=null;function qn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ee(e,t,n)}else r.current=null}function Cu(e,t,r){try{r()}catch(n){Ee(e,t,n)}}var kf=!1;function uy(e,t){if(iu=Kl,e=kp(),yc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var l=0,a=-1,u=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var v;d!==r||i!==0&&d.nodeType!==3||(a=l+i),d!==s||n!==0&&d.nodeType!==3||(u=l+n),d.nodeType===3&&(l+=d.nodeValue.length),(v=d.firstChild)!==null;)h=d,d=v;for(;;){if(d===e)break t;if(h===r&&++c===i&&(a=l),h===s&&++f===n&&(u=l),(v=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=v}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(su={focusedElem:e,selectionRange:r},Kl=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var S=C.memoizedProps,E=C.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ut(t.type,S),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(k){Ee(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return C=kf,kf=!1,C}function ls(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cu(t,r,s)}i=i.next}while(i!==n)}}function Do(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Su(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function x1(e){var t=e.alternate;t!==null&&(e.alternate=null,x1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nr],delete t[Cs],delete t[au],delete t[Qg],delete t[Wg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w1(e){return e.tag===5||e.tag===3||e.tag===4}function Ef(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yl));else if(n!==4&&(e=e.child,e!==null))for(ku(e,t,r),e=e.sibling;e!==null;)ku(e,t,r),e=e.sibling}function Eu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Eu(e,t,r),e=e.sibling;e!==null;)Eu(e,t,r),e=e.sibling}var Ve=null,$t=!1;function jr(e,t,r){for(r=r.child;r!==null;)C1(e,t,r),r=r.sibling}function C1(e,t,r){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Po,r)}catch{}switch(r.tag){case 5:Ze||qn(r,t);case 6:var n=Ve,i=$t;Ve=null,jr(e,t,r),Ve=n,$t=i,Ve!==null&&($t?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&($t?(e=Ve,r=r.stateNode,e.nodeType===8?va(e.parentNode,r):e.nodeType===1&&va(e,r),gs(e)):va(Ve,r.stateNode));break;case 4:n=Ve,i=$t,Ve=r.stateNode.containerInfo,$t=!0,jr(e,t,r),Ve=n,$t=i;break;case 0:case 11:case 14:case 15:if(!Ze&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Cu(r,t,l),i=i.next}while(i!==n)}jr(e,t,r);break;case 1:if(!Ze&&(qn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ee(r,t,a)}jr(e,t,r);break;case 21:jr(e,t,r);break;case 22:r.mode&1?(Ze=(n=Ze)||r.memoizedState!==null,jr(e,t,r),Ze=n):jr(e,t,r);break;default:jr(e,t,r)}}function jf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ay),t.forEach(function(n){var i=vy.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Dt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,l=t,a=l;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,$t=!1;break e;case 3:Ve=a.stateNode.containerInfo,$t=!0;break e;case 4:Ve=a.stateNode.containerInfo,$t=!0;break e}a=a.return}if(Ve===null)throw Error(I(160));C1(s,l,i),Ve=null,$t=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ee(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S1(t,e),t=t.sibling}function S1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Jt(e),n&4){try{ls(3,e,e.return),Do(3,e)}catch(S){Ee(e,e.return,S)}try{ls(5,e,e.return)}catch(S){Ee(e,e.return,S)}}break;case 1:Dt(t,e),Jt(e),n&512&&r!==null&&qn(r,r.return);break;case 5:if(Dt(t,e),Jt(e),n&512&&r!==null&&qn(r,r.return),e.flags&32){var i=e.stateNode;try{fs(i,"")}catch(S){Ee(e,e.return,S)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,l=r!==null?r.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Hh(i,s),Za(a,l);var c=Za(a,s);for(l=0;l<u.length;l+=2){var f=u[l],d=u[l+1];f==="style"?Kh(i,d):f==="dangerouslySetInnerHTML"?Gh(i,d):f==="children"?fs(i,d):ic(i,f,d,c)}switch(a){case"input":Ba(i,s);break;case"textarea":Qh(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?ei(i,!!s.multiple,v,!1):h!==!!s.multiple&&(s.defaultValue!=null?ei(i,!!s.multiple,s.defaultValue,!0):ei(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cs]=s}catch(S){Ee(e,e.return,S)}}break;case 6:if(Dt(t,e),Jt(e),n&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){Ee(e,e.return,S)}}break;case 3:if(Dt(t,e),Jt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gs(t.containerInfo)}catch(S){Ee(e,e.return,S)}break;case 4:Dt(t,e),Jt(e);break;case 13:Dt(t,e),Jt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fc=be())),n&4&&jf(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Ze=(c=Ze)||f,Dt(t,e),Ze=c):Dt(t,e),Jt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for($=e,f=e.child;f!==null;){for(d=$=f;$!==null;){switch(h=$,v=h.child,h.tag){case 0:case 11:case 14:case 15:ls(4,h,h.return);break;case 1:qn(h,h.return);var C=h.stateNode;if(typeof C.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(S){Ee(n,r,S)}}break;case 5:qn(h,h.return);break;case 22:if(h.memoizedState!==null){Nf(d);continue}}v!==null?(v.return=h,$=v):Nf(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Zh("display",l))}catch(S){Ee(e,e.return,S)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(S){Ee(e,e.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dt(t,e),Jt(e),n&4&&jf(e);break;case 21:break;default:Dt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(w1(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(fs(i,""),n.flags&=-33);var s=Ef(e);Eu(e,s,i);break;case 3:case 4:var l=n.stateNode.containerInfo,a=Ef(e);ku(e,a,l);break;default:throw Error(I(161))}}catch(u){Ee(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cy(e,t,r){$=e,k1(e)}function k1(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||pl;if(!l){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ze;a=pl;var c=Ze;if(pl=l,(Ze=u)&&!c)for($=i;$!==null;)l=$,u=l.child,l.tag===22&&l.memoizedState!==null?_f(i):u!==null?(u.return=l,$=u):_f(i);for(;s!==null;)$=s,k1(s),s=s.sibling;$=i,pl=a,Ze=c}bf(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):bf(e)}}function bf(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||Do(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ze)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ut(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&cf(t,s,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cf(t,l,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&gs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ze||t.flags&512&&Su(t)}catch(h){Ee(t,t.return,h)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Nf(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function _f(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Do(4,t)}catch(u){Ee(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){Ee(t,i,u)}}var s=t.return;try{Su(t)}catch(u){Ee(t,s,u)}break;case 5:var l=t.return;try{Su(t)}catch(u){Ee(t,l,u)}}}catch(u){Ee(t,t.return,u)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var dy=Math.ceil,uo=Er.ReactCurrentDispatcher,Mc=Er.ReactCurrentOwner,Ot=Er.ReactCurrentBatchConfig,oe=0,Fe=null,Pe=null,$e=0,wt=0,Jn=sn(0),Ae=0,Ns=null,Rn=0,Vo=0,Tc=0,os=null,ut=null,Fc=0,Ni=1/0,hr=null,co=!1,ju=null,qr=null,ml=!1,$r=null,fo=0,as=0,bu=null,Il=-1,Ol=0;function rt(){return oe&6?be():Il!==-1?Il:Il=be()}function Jr(e){return e.mode&1?oe&2&&$e!==0?$e&-$e:Zg.transition!==null?(Ol===0&&(Ol=op()),Ol):(e=de,e!==0||(e=window.event,e=e===void 0?16:pp(e.type)),e):1}function Gt(e,t,r,n){if(50<as)throw as=0,bu=null,Error(I(185));Hs(e,r,n),(!(oe&2)||e!==Fe)&&(e===Fe&&(!(oe&2)&&(Vo|=r),Ae===4&&Rr(e,$e)),ht(e,n),r===1&&oe===0&&!(t.mode&1)&&(Ni=be()+500,Mo&&ln()))}function ht(e,t){var r=e.callbackNode;Z0(e,t);var n=Zl(e,e===Fe?$e:0);if(n===0)r!==null&&Td(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Td(r),t===1)e.tag===0?Gg(Lf.bind(null,e)):Op(Lf.bind(null,e)),Bg(function(){!(oe&6)&&ln()}),r=null;else{switch(ap(n)){case 1:r=uc;break;case 4:r=sp;break;case 16:r=Gl;break;case 536870912:r=lp;break;default:r=Gl}r=R1(r,E1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function E1(e,t){if(Il=-1,Ol=0,oe&6)throw Error(I(327));var r=e.callbackNode;if(si()&&e.callbackNode!==r)return null;var n=Zl(e,e===Fe?$e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ho(e,n);else{t=n;var i=oe;oe|=2;var s=b1();(Fe!==e||$e!==t)&&(hr=null,Ni=be()+500,bn(e,t));do try{py();break}catch(a){j1(e,a)}while(1);Sc(),uo.current=s,oe=i,Pe!==null?t=0:(Fe=null,$e=0,t=Ae)}if(t!==0){if(t===2&&(i=Xa(e),i!==0&&(n=i,t=Nu(e,i))),t===1)throw r=Ns,bn(e,0),Rr(e,n),ht(e,be()),r;if(t===6)Rr(e,n);else{if(i=e.current.alternate,!(n&30)&&!fy(i)&&(t=ho(e,n),t===2&&(s=Xa(e),s!==0&&(n=s,t=Nu(e,s))),t===1))throw r=Ns,bn(e,0),Rr(e,n),ht(e,be()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:dn(e,ut,hr);break;case 3:if(Rr(e,n),(n&130023424)===n&&(t=Fc+500-be(),10<t)){if(Zl(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){rt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ou(dn.bind(null,e,ut,hr),t);break}dn(e,ut,hr);break;case 4:if(Rr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-Wt(n);s=1<<l,l=t[l],l>i&&(i=l),n&=~s}if(n=i,n=be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dy(n/1960))-n,10<n){e.timeoutHandle=ou(dn.bind(null,e,ut,hr),n);break}dn(e,ut,hr);break;case 5:dn(e,ut,hr);break;default:throw Error(I(329))}}}return ht(e,be()),e.callbackNode===r?E1.bind(null,e):null}function Nu(e,t){var r=os;return e.current.memoizedState.isDehydrated&&(bn(e,t).flags|=256),e=ho(e,t),e!==2&&(t=ut,ut=r,t!==null&&_u(t)),e}function _u(e){ut===null?ut=e:ut.push.apply(ut,e)}function fy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Zt(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rr(e,t){for(t&=~Tc,t&=~Vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wt(t),n=1<<r;e[r]=-1,t&=~n}}function Lf(e){if(oe&6)throw Error(I(327));si();var t=Zl(e,0);if(!(t&1))return ht(e,be()),null;var r=ho(e,t);if(e.tag!==0&&r===2){var n=Xa(e);n!==0&&(t=n,r=Nu(e,n))}if(r===1)throw r=Ns,bn(e,0),Rr(e,t),ht(e,be()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dn(e,ut,hr),ht(e,be()),null}function Dc(e,t){var r=oe;oe|=1;try{return e(t)}finally{oe=r,oe===0&&(Ni=be()+500,Mo&&ln())}}function In(e){$r!==null&&$r.tag===0&&!(oe&6)&&si();var t=oe;oe|=1;var r=Ot.transition,n=de;try{if(Ot.transition=null,de=1,e)return e()}finally{de=n,Ot.transition=r,oe=t,!(oe&6)&&ln()}}function Vc(){wt=Jn.current,ge(Jn)}function bn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$g(r)),Pe!==null)for(r=Pe.return;r!==null;){var n=r;switch(xc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xl();break;case 3:ji(),ge(dt),ge(qe),_c();break;case 5:Nc(n);break;case 4:ji();break;case 13:ge(xe);break;case 19:ge(xe);break;case 10:kc(n.type._context);break;case 22:case 23:Vc()}r=r.return}if(Fe=e,Pe=e=Yr(e.current,null),$e=wt=t,Ae=0,Ns=null,Tc=Vo=Rn=0,ut=os=null,hn!==null){for(t=0;t<hn.length;t++)if(r=hn[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var l=s.next;s.next=i,n.next=l}r.pending=n}hn=null}return e}function j1(e,t){do{var r=Pe;try{if(Sc(),Ll.current=ao,oo){for(var n=Ce.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}oo=!1}if(Pn=0,Te=Ie=Ce=null,ss=!1,Es=0,Mc.current=null,r===null||r.return===null){Ae=1,Ns=t,Pe=null;break}e:{var s=e,l=r.return,a=r,u=t;if(t=$e,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=gf(l);if(v!==null){v.flags&=-257,yf(v,l,a,s,t),v.mode&1&&mf(s,c,t),t=v,u=c;var C=t.updateQueue;if(C===null){var S=new Set;S.add(u),t.updateQueue=S}else C.add(u);break e}else{if(!(t&1)){mf(s,c,t),Uc();break e}u=Error(I(426))}}else if(ye&&a.mode&1){var E=gf(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),yf(E,l,a,s,t),wc(bi(u,a));break e}}s=u=bi(u,a),Ae!==4&&(Ae=2),os===null?os=[s]:os.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=a1(s,u,t);uf(s,m);break e;case 1:a=u;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qr===null||!qr.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=u1(s,a,t);uf(s,k);break e}}s=s.return}while(s!==null)}_1(r)}catch(N){t=N,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(1)}function b1(){var e=uo.current;return uo.current=ao,e===null?ao:e}function Uc(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Fe===null||!(Rn&268435455)&&!(Vo&268435455)||Rr(Fe,$e)}function ho(e,t){var r=oe;oe|=2;var n=b1();(Fe!==e||$e!==t)&&(hr=null,bn(e,t));do try{hy();break}catch(i){j1(e,i)}while(1);if(Sc(),oe=r,uo.current=n,Pe!==null)throw Error(I(261));return Fe=null,$e=0,Ae}function hy(){for(;Pe!==null;)N1(Pe)}function py(){for(;Pe!==null&&!V0();)N1(Pe)}function N1(e){var t=P1(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?_1(e):Pe=t,Mc.current=null}function _1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=oy(r,t),r!==null){r.flags&=32767,Pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Pe=null;return}}else if(r=ly(r,t,wt),r!==null){Pe=r;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ae===0&&(Ae=5)}function dn(e,t,r){var n=de,i=Ot.transition;try{Ot.transition=null,de=1,my(e,t,r,n)}finally{Ot.transition=i,de=n}return null}function my(e,t,r,n){do si();while($r!==null);if(oe&6)throw Error(I(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(K0(e,s),e===Fe&&(Pe=Fe=null,$e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ml||(ml=!0,R1(Gl,function(){return si(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ot.transition,Ot.transition=null;var l=de;de=1;var a=oe;oe|=4,Mc.current=null,uy(e,r),S1(r,e),Mg(su),Kl=!!iu,su=iu=null,e.current=r,cy(r),U0(),oe=a,de=l,Ot.transition=s}else e.current=r;if(ml&&(ml=!1,$r=e,fo=i),s=e.pendingLanes,s===0&&(qr=null),B0(r.stateNode),ht(e,be()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(co)throw co=!1,e=ju,ju=null,e;return fo&1&&e.tag!==0&&si(),s=e.pendingLanes,s&1?e===bu?as++:(as=0,bu=e):as=0,ln(),null}function si(){if($r!==null){var e=ap(fo),t=Ot.transition,r=de;try{if(Ot.transition=null,de=16>e?16:e,$r===null)var n=!1;else{if(e=$r,$r=null,fo=0,oe&6)throw Error(I(331));var i=oe;for(oe|=4,$=e.current;$!==null;){var s=$,l=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for($=c;$!==null;){var f=$;switch(f.tag){case 0:case 11:case 15:ls(8,f,s)}var d=f.child;if(d!==null)d.return=f,$=d;else for(;$!==null;){f=$;var h=f.sibling,v=f.return;if(x1(f),f===c){$=null;break}if(h!==null){h.return=v,$=h;break}$=v}}}var C=s.alternate;if(C!==null){var S=C.child;if(S!==null){C.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}$=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,$=l;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ls(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,$=m;break e}$=s.return}}var p=e.current;for($=p;$!==null;){l=$;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,$=y;else e:for(l=p;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Do(9,a)}}catch(N){Ee(a,a.return,N)}if(a===l){$=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,$=k;break e}$=a.return}}if(oe=i,ln(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Po,e)}catch{}n=!0}return n}finally{de=r,Ot.transition=t}}return!1}function Pf(e,t,r){t=bi(r,t),t=a1(e,t,1),e=Kr(e,t,1),t=rt(),e!==null&&(Hs(e,1,t),ht(e,t))}function Ee(e,t,r){if(e.tag===3)Pf(e,e,r);else for(;t!==null;){if(t.tag===3){Pf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qr===null||!qr.has(n))){e=bi(r,e),e=u1(t,e,1),t=Kr(t,e,1),e=rt(),t!==null&&(Hs(t,1,e),ht(t,e));break}}t=t.return}}function gy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&r,Fe===e&&($e&r)===r&&(Ae===4||Ae===3&&($e&130023424)===$e&&500>be()-Fc?bn(e,0):Tc|=r),ht(e,t)}function L1(e,t){t===0&&(e.mode&1?(t=sl,sl<<=1,!(sl&130023424)&&(sl=4194304)):t=1);var r=rt();e=Cr(e,t),e!==null&&(Hs(e,t,r),ht(e,r))}function yy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),L1(e,r)}function vy(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),L1(e,r)}var P1;P1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ct=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ct=!1,sy(e,t,r);ct=!!(e.flags&131072)}else ct=!1,ye&&t.flags&1048576&&Ap(t,ro,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Rl(e,t),e=t.pendingProps;var i=Si(t,qe.current);ii(t,r),i=Pc(null,t,n,e,i,r);var s=Rc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(n)?(s=!0,eo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jc(t),i.updater=Fo,t.stateNode=i,i._reactInternals=t,pu(t,n,e,r),t=yu(null,t,n,!0,s,r)):(t.tag=0,ye&&s&&vc(t),Xe(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Rl(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=wy(n),e=Ut(n,e),i){case 0:t=gu(null,t,n,e,r);break e;case 1:t=wf(null,t,n,e,r);break e;case 11:t=vf(null,t,n,e,r);break e;case 14:t=xf(null,t,n,Ut(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ut(n,i),gu(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ut(n,i),wf(e,t,n,i,r);case 3:e:{if(h1(t),e===null)throw Error(I(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Up(e,t),so(t,n,null,r);var l=t.memoizedState;if(n=l.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=bi(Error(I(423)),t),t=Cf(e,t,n,r,i);break e}else if(n!==i){i=bi(Error(I(424)),t),t=Cf(e,t,n,r,i);break e}else for(Ct=Zr(t.stateNode.containerInfo.firstChild),Et=t,ye=!0,Bt=null,r=Dp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ki(),n===i){t=Sr(e,t,r);break e}Xe(e,t,n,r)}t=t.child}return t;case 5:return zp(t),e===null&&du(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,l=i.children,lu(n,i)?l=null:s!==null&&lu(n,s)&&(t.flags|=32),f1(e,t),Xe(e,t,l,r),t.child;case 6:return e===null&&du(t),null;case 13:return p1(e,t,r);case 4:return bc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ei(t,null,n,r):Xe(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ut(n,i),vf(e,t,n,i,r);case 7:return Xe(e,t,t.pendingProps,r),t.child;case 8:return Xe(e,t,t.pendingProps.children,r),t.child;case 12:return Xe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,l=i.value,he(no,n._currentValue),n._currentValue=l,s!==null)if(Zt(s.value,l)){if(s.children===i.children&&!dt.current){t=Sr(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){l=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=vr(-1,r&-r),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),fu(s.return,r,t),a.lanes|=r;break}u=u.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(I(341));l.lanes|=r,a=l.alternate,a!==null&&(a.lanes|=r),fu(l,r,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Xe(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ii(t,r),i=At(i),n=n(i),t.flags|=1,Xe(e,t,n,r),t.child;case 14:return n=t.type,i=Ut(n,t.pendingProps),i=Ut(n.type,i),xf(e,t,n,i,r);case 15:return c1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ut(n,i),Rl(e,t),t.tag=1,ft(n)?(e=!0,eo(t)):e=!1,ii(t,r),o1(t,n,i),pu(t,n,i,r),yu(null,t,n,!0,e,r);case 19:return m1(e,t,r);case 22:return d1(e,t,r)}throw Error(I(156,t.tag))};function R1(e,t){return ip(e,t)}function xy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,r,n){return new xy(e,t,r,n)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wy(e){if(typeof e=="function")return zc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lc)return 11;if(e===oc)return 14}return 2}function Yr(e,t){var r=e.alternate;return r===null?(r=It(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Al(e,t,r,n,i,s){var l=2;if(n=e,typeof e=="function")zc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case zn:return Nn(r.children,i,s,t);case sc:l=8,i|=8;break;case Da:return e=It(12,r,t,i|2),e.elementType=Da,e.lanes=s,e;case Va:return e=It(13,r,t,i),e.elementType=Va,e.lanes=s,e;case Ua:return e=It(19,r,t,i),e.elementType=Ua,e.lanes=s,e;case zh:return Uo(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vh:l=10;break e;case Uh:l=9;break e;case lc:l=11;break e;case oc:l=14;break e;case _r:l=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=It(l,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Nn(e,t,r,n){return e=It(7,e,n,t),e.lanes=r,e}function Uo(e,t,r,n){return e=It(22,e,n,t),e.elementType=zh,e.lanes=r,e.stateNode={isHidden:!1},e}function ba(e,t,r){return e=It(6,e,null,t),e.lanes=r,e}function Na(e,t,r){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cy(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oa(0),this.expirationTimes=oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $c(e,t,r,n,i,s,l,a,u){return e=new Cy(e,t,r,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=It(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jc(s),e}function Sy(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function I1(e){if(!e)return rn;e=e._reactInternals;e:{if(Mn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(ft(r))return Ip(e,r,t)}return t}function O1(e,t,r,n,i,s,l,a,u){return e=$c(r,n,!0,e,i,s,l,a,u),e.context=I1(null),r=e.current,n=rt(),i=Jr(r),s=vr(n,i),s.callback=t??null,Kr(r,s,i),e.current.lanes=i,Hs(e,i,n),ht(e,n),e}function zo(e,t,r,n){var i=t.current,s=rt(),l=Jr(i);return r=I1(r),t.context===null?t.context=r:t.pendingContext=r,t=vr(s,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Kr(i,t,l),e!==null&&(Gt(e,i,l,s),_l(e,i,l)),l}function po(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Bc(e,t){Rf(e,t),(e=e.alternate)&&Rf(e,t)}function ky(){return null}var A1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hc(e){this._internalRoot=e}$o.prototype.render=Hc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));zo(e,t,null,null)};$o.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;In(function(){zo(null,e,null,null)}),t[wr]=null}};function $o(e){this._internalRoot=e}$o.prototype.unstable_scheduleHydration=function(e){if(e){var t=dp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pr.length&&t!==0&&t<Pr[r].priority;r++);Pr.splice(r,0,e),r===0&&hp(e)}};function Qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function If(){}function Ey(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=po(l);s.call(c)}}var l=O1(t,n,e,0,null,!1,!1,"",If);return e._reactRootContainer=l,e[wr]=l.current,xs(e.nodeType===8?e.parentNode:e),In(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=po(u);a.call(c)}}var u=$c(e,0,!1,null,null,!1,!1,"",If);return e._reactRootContainer=u,e[wr]=u.current,xs(e.nodeType===8?e.parentNode:e),In(function(){zo(t,u,r,n)}),u}function Ho(e,t,r,n,i){var s=r._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var a=i;i=function(){var u=po(l);a.call(u)}}zo(t,l,e,i)}else l=Ey(r,t,e,i,n);return po(l)}up=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=qi(t.pendingLanes);r!==0&&(cc(t,r|1),ht(t,be()),!(oe&6)&&(Ni=be()+500,ln()))}break;case 13:In(function(){var n=Cr(e,1);if(n!==null){var i=rt();Gt(n,e,1,i)}}),Bc(e,1)}};dc=function(e){if(e.tag===13){var t=Cr(e,134217728);if(t!==null){var r=rt();Gt(t,e,134217728,r)}Bc(e,134217728)}};cp=function(e){if(e.tag===13){var t=Jr(e),r=Cr(e,t);if(r!==null){var n=rt();Gt(r,e,t,n)}Bc(e,t)}};dp=function(){return de};fp=function(e,t){var r=de;try{return de=e,t()}finally{de=r}};qa=function(e,t,r){switch(t){case"input":if(Ba(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ao(n);if(!i)throw Error(I(90));Bh(n),Ba(n,i)}}}break;case"textarea":Qh(e,r);break;case"select":t=r.value,t!=null&&ei(e,!!r.multiple,t,!1)}};Yh=Dc;Xh=In;var jy={usingClientEntryPoint:!1,Events:[Ws,Qn,Ao,qh,Jh,Dc]},Hi={findFiberByHostInstance:fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},by={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rp(e),e===null?null:e.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance||ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{Po=gl.inject(by),lr=gl}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jy;bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(t))throw Error(I(200));return Sy(e,t,null,r)};bt.createRoot=function(e,t){if(!Qc(e))throw Error(I(299));var r=!1,n="",i=A1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$c(e,1,!1,null,null,r,!1,n,i),e[wr]=t.current,xs(e.nodeType===8?e.parentNode:e),new Hc(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=rp(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return In(e)};bt.hydrate=function(e,t,r){if(!Bo(t))throw Error(I(200));return Ho(null,e,t,!0,r)};bt.hydrateRoot=function(e,t,r){if(!Qc(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",l=A1;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=O1(t,null,e,1,r??null,i,!1,s,l),e[wr]=t.current,xs(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new $o(t)};bt.render=function(e,t,r){if(!Bo(t))throw Error(I(200));return Ho(null,e,t,!1,r)};bt.unmountComponentAtNode=function(e){if(!Bo(e))throw Error(I(40));return e._reactRootContainer?(In(function(){Ho(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};bt.unstable_batchedUpdates=Dc;bt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Bo(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Ho(e,t,r,!1,n)};bt.version="18.3.1-next-f1338f8080-20240426";function M1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M1)}catch(e){console.error(e)}}M1(),Mh.exports=bt;var Ny=Mh.exports,Of=Ny;Ta.createRoot=Of.createRoot,Ta.hydrateRoot=Of.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_s.apply(this,arguments)}var Br;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Br||(Br={}));const Af="popstate";function _y(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:l,hash:a}=n.location;return Lu("",{pathname:s,search:l,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:mo(i)}return Py(t,r,null,e)}function Ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function T1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ly(){return Math.random().toString(36).substr(2,8)}function Mf(e,t){return{usr:e.state,key:e.key,idx:t}}function Lu(e,t,r,n){return r===void 0&&(r=null),_s({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Oi(t):t,{state:r,key:t&&t.key||n||Ly()})}function mo(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Py(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,l=i.history,a=Br.Pop,u=null,c=f();c==null&&(c=0,l.replaceState(_s({},l.state,{idx:c}),""));function f(){return(l.state||{idx:null}).idx}function d(){a=Br.Pop;let E=f(),m=E==null?null:E-c;c=E,u&&u({action:a,location:S.location,delta:m})}function h(E,m){a=Br.Push;let p=Lu(S.location,E,m);r&&r(p,E),c=f()+1;let y=Mf(p,c),k=S.createHref(p);try{l.pushState(y,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(k)}s&&u&&u({action:a,location:S.location,delta:1})}function v(E,m){a=Br.Replace;let p=Lu(S.location,E,m);r&&r(p,E),c=f();let y=Mf(p,c),k=S.createHref(p);l.replaceState(y,"",k),s&&u&&u({action:a,location:S.location,delta:0})}function C(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:mo(E);return p=p.replace(/ $/,"%20"),Ne(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let S={get action(){return a},get location(){return e(i,l)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Af,d),u=E,()=>{i.removeEventListener(Af,d),u=null}},createHref(E){return t(i,E)},createURL:C,encodeLocation(E){let m=C(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:v,go(E){return l.go(E)}};return S}var Tf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tf||(Tf={}));function Ry(e,t,r){return r===void 0&&(r="/"),Iy(e,t,r,!1)}function Iy(e,t,r,n){let i=typeof t=="string"?Oi(t):t,s=Wc(i.pathname||"/",r);if(s==null)return null;let l=F1(e);Oy(l);let a=null;for(let u=0;a==null&&u<l.length;++u){let c=Hy(s);a=$y(l[u],c,n)}return a}function F1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,l,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};u.relativePath.startsWith("/")&&(Ne(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Xr([n,u.relativePath]),f=r.concat(u);s.children&&s.children.length>0&&(Ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),F1(s.children,t,f,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:Uy(c,s.index),routesMeta:f})};return e.forEach((s,l)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,l);else for(let u of D1(s.path))i(s,l,u)}),t}function D1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let l=D1(n.join("/")),a=[];return a.push(...l.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...l),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Oy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:zy(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ay=/^:[\w-]+$/,My=3,Ty=2,Fy=1,Dy=10,Vy=-2,Ff=e=>e==="*";function Uy(e,t){let r=e.split("/"),n=r.length;return r.some(Ff)&&(n+=Vy),t&&(n+=Ty),r.filter(i=>!Ff(i)).reduce((i,s)=>i+(Ay.test(s)?My:s===""?Fy:Dy),n)}function zy(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function $y(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,i={},s="/",l=[];for(let a=0;a<n.length;++a){let u=n[a],c=a===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",d=Df({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),h=u.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=Df({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!d)return null;Object.assign(i,d.params),l.push({params:i,pathname:Xr([s,d.pathname]),pathnameBase:Zy(Xr([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Xr([s,d.pathnameBase]))}return l}function Df(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=By(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,f,d)=>{let{paramName:h,isOptional:v}=f;if(h==="*"){let S=a[d]||"";l=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const C=a[d];return v&&!C?c[h]=void 0:c[h]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:l,pattern:e}}function By(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),T1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,a,u)=>(n.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Hy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return T1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Qy(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Oi(e):e;return{pathname:r?r.startsWith("/")?r:Wy(r,t):t,search:Ky(n),hash:qy(i)}}function Wy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function _a(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gc(e,t){let r=Gy(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zc(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Oi(e):(i=_s({},e),Ne(!i.pathname||!i.pathname.includes("?"),_a("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),_a("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),_a("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,a;if(l==null)a=r;else{let d=t.length-1;if(!n&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let u=Qy(i,a),c=l&&l!=="/"&&l.endsWith("/"),f=(s||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Xr=e=>e.join("/").replace(/\/\/+/g,"/"),Zy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ky=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const V1=["post","put","patch","delete"];new Set(V1);const Yy=["get",...V1];new Set(Yy);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(this,arguments)}const Kc=g.createContext(null),Xy=g.createContext(null),on=g.createContext(null),Qo=g.createContext(null),ar=g.createContext({outlet:null,matches:[],isDataRoute:!1}),U1=g.createContext(null);function ev(e,t){let{relative:r}=t===void 0?{}:t;Ai()||Ne(!1);let{basename:n,navigator:i}=g.useContext(on),{hash:s,pathname:l,search:a}=$1(e,{relative:r}),u=l;return n!=="/"&&(u=l==="/"?n:Xr([n,l])),i.createHref({pathname:u,search:a,hash:s})}function Ai(){return g.useContext(Qo)!=null}function Mi(){return Ai()||Ne(!1),g.useContext(Qo).location}function z1(e){g.useContext(on).static||g.useLayoutEffect(e)}function ur(){let{isDataRoute:e}=g.useContext(ar);return e?mv():tv()}function tv(){Ai()||Ne(!1);let e=g.useContext(Kc),{basename:t,future:r,navigator:n}=g.useContext(on),{matches:i}=g.useContext(ar),{pathname:s}=Mi(),l=JSON.stringify(Gc(i,r.v7_relativeSplatPath)),a=g.useRef(!1);return z1(()=>{a.current=!0}),g.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=Zc(c,JSON.parse(l),s,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Xr([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,l,s,e])}const rv=g.createContext(null);function nv(e){let t=g.useContext(ar).outlet;return t&&g.createElement(rv.Provider,{value:e},t)}function Wo(){let{matches:e}=g.useContext(ar),t=e[e.length-1];return t?t.params:{}}function $1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(on),{matches:i}=g.useContext(ar),{pathname:s}=Mi(),l=JSON.stringify(Gc(i,n.v7_relativeSplatPath));return g.useMemo(()=>Zc(e,JSON.parse(l),s,r==="path"),[e,l,s,r])}function iv(e,t){return sv(e,t)}function sv(e,t,r,n){Ai()||Ne(!1);let{navigator:i}=g.useContext(on),{matches:s}=g.useContext(ar),l=s[s.length-1],a=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let c=Mi(),f;if(t){var d;let E=typeof t=="string"?Oi(t):t;u==="/"||(d=E.pathname)!=null&&d.startsWith(u)||Ne(!1),f=E}else f=c;let h=f.pathname||"/",v=h;if(u!=="/"){let E=u.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=Ry(e,{pathname:v}),S=cv(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Xr([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Xr([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,r,n);return t&&S?g.createElement(Qo.Provider,{value:{location:Ls({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Br.Pop}},S):S}function lv(){let e=pv(),t=Jy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:i},r):null,s)}const ov=g.createElement(lv,null);class av extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(ar.Provider,{value:this.props.routeContext},g.createElement(U1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uv(e){let{routeContext:t,match:r,children:n}=e,i=g.useContext(Kc);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(ar.Provider,{value:t},n)}function cv(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if((s=r)!=null&&s.errors)e=r.matches;else return null}let l=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let f=l.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);f>=0||Ne(!1),l=l.slice(0,Math.min(l.length,f+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<l.length;f++){let d=l[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:h,errors:v}=r,C=d.route.loader&&h[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||C){u=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((f,d,h)=>{let v,C=!1,S=null,E=null;r&&(v=a&&d.route.id?a[d.route.id]:void 0,S=d.route.errorElement||ov,u&&(c<0&&h===0?(gv("route-fallback",!1),C=!0,E=null):c===h&&(C=!0,E=d.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,h+1)),p=()=>{let y;return v?y=S:C?y=E:d.route.Component?y=g.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=f,g.createElement(uv,{match:d,routeContext:{outlet:f,matches:m,isDataRoute:r!=null},children:y})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?g.createElement(av,{location:r.location,revalidation:r.revalidation,component:S,error:v,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var B1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(B1||{}),go=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(go||{});function dv(e){let t=g.useContext(Kc);return t||Ne(!1),t}function fv(e){let t=g.useContext(Xy);return t||Ne(!1),t}function hv(e){let t=g.useContext(ar);return t||Ne(!1),t}function H1(e){let t=hv(),r=t.matches[t.matches.length-1];return r.route.id||Ne(!1),r.route.id}function pv(){var e;let t=g.useContext(U1),r=fv(go.UseRouteError),n=H1(go.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function mv(){let{router:e}=dv(B1.UseNavigateStable),t=H1(go.UseNavigateStable),r=g.useRef(!1);return z1(()=>{r.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ls({fromRouteId:t},s)))},[e,t])}const Vf={};function gv(e,t,r){!t&&!Vf[e]&&(Vf[e]=!0)}function yv(e){let{to:t,replace:r,state:n,relative:i}=e;Ai()||Ne(!1);let{future:s,static:l}=g.useContext(on),{matches:a}=g.useContext(ar),{pathname:u}=Mi(),c=ur(),f=Zc(t,Gc(a,s.v7_relativeSplatPath),u,i==="path"),d=JSON.stringify(f);return g.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:i}),[c,d,i,r,n]),null}function vv(e){return nv(e.context)}function Vt(e){Ne(!1)}function xv(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Br.Pop,navigator:s,static:l=!1,future:a}=e;Ai()&&Ne(!1);let u=t.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:u,navigator:s,static:l,future:Ls({v7_relativeSplatPath:!1},a)}),[u,a,s,l]);typeof n=="string"&&(n=Oi(n));let{pathname:f="/",search:d="",hash:h="",state:v=null,key:C="default"}=n,S=g.useMemo(()=>{let E=Wc(f,u);return E==null?null:{location:{pathname:E,search:d,hash:h,state:v,key:C},navigationType:i}},[u,f,d,h,v,C,i]);return S==null?null:g.createElement(on.Provider,{value:c},g.createElement(Qo.Provider,{children:r,value:S}))}function wv(e){let{children:t,location:r}=e;return iv(Pu(t),r)}new Promise(()=>{});function Pu(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,i)=>{if(!g.isValidElement(n))return;let s=[...t,i];if(n.type===g.Fragment){r.push.apply(r,Pu(n.props.children,s));return}n.type!==Vt&&Ne(!1),!n.props.index||!n.props.children||Ne(!1);let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Pu(n.props.children,s)),r.push(l)}),r}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ru.apply(this,arguments)}function Cv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Sv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kv(e,t){return e.button===0&&(!t||t==="_self")&&!Sv(e)}const Ev=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],jv="6";try{window.__reactRouterVersion=jv}catch{}const bv="startTransition",Uf=g0[bv];function Nv(e){let{basename:t,children:r,future:n,window:i}=e,s=g.useRef();s.current==null&&(s.current=_y({window:i,v5Compat:!0}));let l=s.current,[a,u]=g.useState({action:l.action,location:l.location}),{v7_startTransition:c}=n||{},f=g.useCallback(d=>{c&&Uf?Uf(()=>u(d)):u(d)},[u,c]);return g.useLayoutEffect(()=>l.listen(f),[l,f]),g.createElement(xv,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:l,future:n})}const _v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qc=g.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:l,state:a,target:u,to:c,preventScrollReset:f,unstable_viewTransition:d}=t,h=Cv(t,Ev),{basename:v}=g.useContext(on),C,S=!1;if(typeof c=="string"&&Lv.test(c)&&(C=c,_v))try{let y=new URL(window.location.href),k=c.startsWith("//")?new URL(y.protocol+c):new URL(c),N=Wc(k.pathname,v);k.origin===y.origin&&N!=null?c=N+k.search+k.hash:S=!0}catch{}let E=ev(c,{relative:i}),m=Pv(c,{replace:l,state:a,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:d});function p(y){n&&n(y),y.defaultPrevented||m(y)}return g.createElement("a",Ru({},h,{href:C||E,onClick:S||s?n:p,ref:r,target:u}))});var zf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(zf||(zf={}));var $f;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($f||($f={}));function Pv(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:l,unstable_viewTransition:a}=t===void 0?{}:t,u=ur(),c=Mi(),f=$1(e,{relative:l});return g.useCallback(d=>{if(kv(d,r)){d.preventDefault();let h=n!==void 0?n:mo(c)===mo(f);u(e,{replace:h,state:i,preventScrollReset:s,relative:l,unstable_viewTransition:a})}},[c,u,f,n,i,r,e,s,l,a])}const _i="BarsikChat",Rv="v1.0.0",yl="dark",Iv="light",La="theme",Ov=140,Av=70,yo=3,vo=20,xo=8,Mv=2,Tv=10,Fv=25,Jc=/^[a-z0-9_-]+$/,Dv=/^(?!.*\s{2})[a-zA-Z0-9 ]+$/,Vv="image/jpeg,image/png,image/webp",Q1=g.createContext(),W1={isSidebarOpen:!1,isAccountViewOpen:!1,isSearchViewOpen:!1,isDarkMode:!0,isFriendsSidebarOpen:!1,isMenuOpen:!1,searchQuery:""};function Uv(e,t){switch(t.type){case"OPEN_SIDEBAR":return{...e,isSidebarOpen:!0};case"CLOSE_SIDEBAR":return{...e,isSidebarOpen:!1};case"OPEN_ACCOUNT_VIEW":return{...e,isAccountViewOpen:!0,isMenuOpen:!1};case"CLOSE_ACCOUNT_VIEW":return{...e,isAccountViewOpen:!1};case"OPEN_SEARCH_VIEW":return{...e,isSearchViewOpen:!0};case"CLOSE_SEARCH_VIEW":return{...e,isSearchViewOpen:!1,searchQuery:""};case"UPDATE_DARK_MODE":return{...e,isDarkMode:t.payload};case"CLOSE_FRIEND_SIDEBAR":return{...e,isFriendsSidebarOpen:!1};case"OPEN_FRIEND_SIDEBAR":return{...e,isFriendsSidebarOpen:!0};case"TOGGLE_MENU":return{...e,isMenuOpen:!e.isMenuOpen};case"UPDATE_SEARCH_QUERY":return{...e,searchQuery:t.payload};case"RESET":return{...W1,isDarkMode:e.isDarkMode};default:return e}}function zv({children:e}){const[{isSidebarOpen:t,isAccountViewOpen:r,isSearchViewOpen:n,isDarkMode:i,isFriendsSidebarOpen:s,isMenuOpen:l,searchQuery:a},u]=g.useReducer(Uv,W1);function c(){u({type:"OPEN_SIDEBAR"})}function f(){u({type:"CLOSE_SIDEBAR"})}function d(){u({type:"CLOSE_ACCOUNT_VIEW"}),window.removeEventListener("popstate",d)}function h(){u({type:"OPEN_ACCOUNT_VIEW"}),window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",d)}function v(){u({type:"CLOSE_ACCOUNT_VIEW"}),window.history.back(),window.removeEventListener("popstate",d)}function C(){u({type:"CLOSE_SEARCH_VIEW"}),window.removeEventListener("popstate",C)}function S(){u({type:"OPEN_SEARCH_VIEW"}),!n&&window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",C)}function E({back:O=!0}={}){O&&window.history.back(),u({type:"CLOSE_SEARCH_VIEW"}),window.removeEventListener("popstate",C)}function m(){u({type:"CLOSE_FRIEND_SIDEBAR"}),window.removeEventListener("popstate",m)}function p(){u({type:"OPEN_FRIEND_SIDEBAR"}),window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",m)}function y(){u({type:"CLOSE_FRIEND_SIDEBAR"}),window.history.back(),window.removeEventListener("popstate",m)}function k(){u({type:"TOGGLE_MENU"})}function N(O){u({type:"UPDATE_SEARCH_QUERY",payload:O})}function R(){u({type:"RESET"})}function P(O){u({type:"UPDATE_DARK_MODE",payload:O}),O?(document.documentElement.classList.add(yl),localStorage.setItem(La,yl)):(document.documentElement.classList.remove(yl),localStorage.setItem(La,Iv))}g.useEffect(()=>{const O=localStorage.getItem(La),se=window.matchMedia("(prefers-color-scheme: dark)").matches;let W;O?W=O===yl:se?W=se:W=!1,P(W)},[]);const B={dispatch:u,isAccountViewOpen:r,openAccountView:h,closeAccountView:v,isSidebarOpen:t,openSidebar:c,closeSidebar:f,isSearchViewOpen:n,openSearchView:S,closeSearchView:E,isDarkMode:i,toggleDarkMode:()=>{P(!i)},isFriendsSidebarOpen:s,closeFriendSidebar:y,openFriendSidebar:p,isMenuOpen:l,toggleMenu:k,searchQuery:a,updateSearchQuery:N,resetUi:R};return o.jsx(Q1.Provider,{value:B,children:e})}function pt(){const e=g.useContext(Q1);if(e===void 0)throw new Error("UiContext was used outside the UiProvider");return e}function Yc({children:e,isOpen:t,toggle:r,withOverlay:n=!0}){return o.jsxs(o.Fragment,{children:[t&&o.jsx("div",{tabIndex:-1,onClick:()=>r(),className:`${n?"opacity-100":"opacity-0"} fixed inset-0 z-20 bg-black/10`}),e]})}var G1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bf=ie.createContext&&ie.createContext(G1),en=globalThis&&globalThis.__assign||function(){return en=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},en.apply(this,arguments)},$v=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Z1(e){return e&&e.map(function(t,r){return ie.createElement(t.tag,en({key:r},t.attr),Z1(t.child))})}function ee(e){return function(t){return ie.createElement(Bv,en({attr:en({},e.attr)},t),Z1(e.child))}}function Bv(e){var t=function(r){var n=e.attr,i=e.size,s=e.title,l=$v(e,["attr","size","title"]),a=i||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),ie.createElement("svg",en({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,l,{className:u,style:en(en({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ie.createElement("title",null,s),e.children)};return Bf!==void 0?ie.createElement(Bf.Consumer,null,function(r){return t(r)}):t(G1)}function Iu(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15.22 3.22a.75.75 0 011.06 0L18 4.94l1.72-1.72a.75.75 0 111.06 1.06L19.06 6l1.72 1.72a.75.75 0 01-1.06 1.06L18 7.06l-1.72 1.72a.75.75 0 11-1.06-1.06L16.94 6l-1.72-1.72a.75.75 0 010-1.06zM1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z",clipRule:"evenodd"}}]})(e)}function Go(e){return ee({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"}}]})(e)}function Hv(e){return ee({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"}}]})(e)}function Qv(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"}},{tag:"line",attr:{x1:"16",x2:"22",y1:"5",y2:"5"}},{tag:"line",attr:{x1:"19",x2:"19",y1:"2",y2:"8"}},{tag:"circle",attr:{cx:"9",cy:"9",r:"2"}},{tag:"path",attr:{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}}]})(e)}var Ti=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Li=typeof window>"u"||"Deno"in globalThis;function Lt(){}function Wv(e,t){return typeof e=="function"?e(t):e}function Ou(e){return typeof e=="number"&&e>=0&&e!==1/0}function K1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function li(e,t){return typeof e=="function"?e(t):e}function Ht(e,t){return typeof e=="function"?e(t):e}function Hf(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:l,stale:a}=e;if(l){if(n){if(t.queryHash!==Xc(l,t.options))return!1}else if(!Ps(t.queryKey,l))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function Qf(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(On(t.options.mutationKey)!==On(s))return!1}else if(!Ps(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Xc(e,t){return((t==null?void 0:t.queryKeyHashFn)||On)(e)}function On(e){return JSON.stringify(e,(t,r)=>Au(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ps(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Ps(e[r],t[r])):!1}function q1(e,t){if(e===t)return e;const r=Wf(e)&&Wf(t);if(r||Au(e)&&Au(t)){const n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),l=s.length,a=r?[]:{};let u=0;for(let c=0;c<l;c++){const f=r?c:s[c];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,u++):(a[f]=q1(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&u++)}return i===l&&u===i?e:a}return t}function wo(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Wf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Au(e){if(!Gf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Gf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gf(e){return Object.prototype.toString.call(e)==="[object Object]"}function Gv(e){return new Promise(t=>{setTimeout(t,e)})}function Mu(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?q1(e,t):t}function Zv(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Kv(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var J1=Symbol();function Y1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===J1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var vn,Or,oi,ph,qv=(ph=class extends Ti{constructor(){super();H(this,vn,void 0);H(this,Or,void 0);H(this,oi,void 0);U(this,oi,t=>{if(!Li&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){x(this,Or)||this.setEventListener(x(this,oi))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,Or))==null||t.call(this),U(this,Or,void 0))}setEventListener(t){var r;U(this,oi,t),(r=x(this,Or))==null||r.call(this),U(this,Or,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){x(this,vn)!==t&&(U(this,vn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof x(this,vn)=="boolean"?x(this,vn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vn=new WeakMap,Or=new WeakMap,oi=new WeakMap,ph),ed=new qv,ai,Ar,ui,mh,Jv=(mh=class extends Ti{constructor(){super();H(this,ai,!0);H(this,Ar,void 0);H(this,ui,void 0);U(this,ui,t=>{if(!Li&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){x(this,Ar)||this.setEventListener(x(this,ui))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,Ar))==null||t.call(this),U(this,Ar,void 0))}setEventListener(t){var r;U(this,ui,t),(r=x(this,Ar))==null||r.call(this),U(this,Ar,t(this.setOnline.bind(this)))}setOnline(t){x(this,ai)!==t&&(U(this,ai,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return x(this,ai)}},ai=new WeakMap,Ar=new WeakMap,ui=new WeakMap,mh),Co=new Jv;function Yv(e){return Math.min(1e3*2**e,3e4)}function X1(e){return(e??"online")==="online"?Co.isOnline():!0}var em=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Pa(e){return e instanceof em}function tm(e){let t=!1,r=0,n=!1,i,s,l;const a=new Promise((m,p)=>{s=m,l=p}),u=m=>{var p;n||(C(new em(m)),(p=e.abort)==null||p.call(e))},c=()=>{t=!0},f=()=>{t=!1},d=()=>ed.isFocused()&&(e.networkMode==="always"||Co.isOnline())&&e.canRun(),h=()=>X1(e.networkMode)&&e.canRun(),v=m=>{var p;n||(n=!0,(p=e.onSuccess)==null||p.call(e,m),i==null||i(),s(m))},C=m=>{var p;n||(n=!0,(p=e.onError)==null||p.call(e,m),i==null||i(),l(m))},S=()=>new Promise(m=>{var p;i=y=>{(n||d())&&m(y)},(p=e.onPause)==null||p.call(e)}).then(()=>{var m;i=void 0,n||(m=e.onContinue)==null||m.call(e)}),E=()=>{if(n)return;let m;const p=r===0?e.initialPromise:void 0;try{m=p??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(v).catch(y=>{var L;if(n)return;const k=e.retry??(Li?0:3),N=e.retryDelay??Yv,R=typeof N=="function"?N(r,y):N,P=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,y);if(t||!P){C(y);return}r++,(L=e.onFail)==null||L.call(e,r,y),Gv(R).then(()=>d()?void 0:S()).then(()=>{t?C(y):E()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:c,continueRetry:f,canStart:h,start:()=>(h()?E():S().then(E),a)}}function Xv(){let e=[],t=0,r=h=>{h()},n=h=>{h()},i=h=>setTimeout(h,0);const s=h=>{i=h},l=h=>{let v;t++;try{v=h()}finally{t--,t||c()}return v},a=h=>{t?e.push(h):i(()=>{r(h)})},u=h=>(...v)=>{a(()=>{h(...v)})},c=()=>{const h=e;e=[],h.length&&i(()=>{n(()=>{h.forEach(v=>{r(v)})})})};return{batch:l,batchCalls:u,schedule:a,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{n=h},setScheduler:s}}var Oe=Xv(),xn,gh,rm=(gh=class{constructor(){H(this,xn,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ou(this.gcTime)&&U(this,xn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Li?1/0:5*60*1e3))}clearGcTimeout(){x(this,xn)&&(clearTimeout(x(this,xn)),U(this,xn,void 0))}},xn=new WeakMap,gh),ci,di,_t,Ge,Rs,wn,zt,fr,yh,ex=(yh=class extends rm{constructor(t){super();H(this,zt);H(this,ci,void 0);H(this,di,void 0);H(this,_t,void 0);H(this,Ge,void 0);H(this,Rs,void 0);H(this,wn,void 0);U(this,wn,!1),U(this,Rs,t.defaultOptions),this.setOptions(t.options),this.observers=[],U(this,_t,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,U(this,ci,t.state||tx(this.options)),this.state=x(this,ci),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=x(this,Ge))==null?void 0:t.promise}setOptions(t){this.options={...x(this,Rs),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,_t).remove(this)}setData(t,r){const n=Mu(this.state.data,t,this.options);return q(this,zt,fr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){q(this,zt,fr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=x(this,Ge))==null?void 0:n.promise;return(i=x(this,Ge))==null||i.cancel(t),r?r.then(Lt).catch(Lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,ci))}isActive(){return this.observers.some(t=>Ht(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!K1(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=x(this,Ge))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=x(this,Ge))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),x(this,_t).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(x(this,Ge)&&(x(this,wn)?x(this,Ge).cancel({revert:!0}):x(this,Ge).cancelRetry()),this.scheduleGc()),x(this,_t).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||q(this,zt,fr).call(this,{type:"invalidate"})}fetch(t,r){var u,c,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(x(this,Ge))return x(this,Ge).continueRetry(),x(this,Ge).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(U(this,wn,!0),n.signal)})},s=()=>{const d=Y1(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return i(h),U(this,wn,!1),this.options.persister?this.options.persister(d,h,this):d(h)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(l),(u=this.options.behavior)==null||u.onFetch(l,this),U(this,di,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=l.fetchOptions)==null?void 0:c.meta))&&q(this,zt,fr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const a=d=>{var h,v,C,S;Pa(d)&&d.silent||q(this,zt,fr).call(this,{type:"error",error:d}),Pa(d)||((v=(h=x(this,_t).config).onError)==null||v.call(h,d,this),(S=(C=x(this,_t).config).onSettled)==null||S.call(C,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return U(this,Ge,tm({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,v,C,S;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(v=(h=x(this,_t).config).onSuccess)==null||v.call(h,d,this),(S=(C=x(this,_t).config).onSettled)==null||S.call(C,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,h)=>{q(this,zt,fr).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{q(this,zt,fr).call(this,{type:"pause"})},onContinue:()=>{q(this,zt,fr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),x(this,Ge).start()}},ci=new WeakMap,di=new WeakMap,_t=new WeakMap,Ge=new WeakMap,Rs=new WeakMap,wn=new WeakMap,zt=new WeakSet,fr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...nm(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Pa(i)&&i.revert&&x(this,di)?{...x(this,di),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Oe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),x(this,_t).notify({query:this,type:"updated",action:t})})},yh);function nm(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function tx(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xt,vh,rx=(vh=class extends Ti{constructor(t={}){super();H(this,Xt,void 0);this.config=t,U(this,Xt,new Map)}build(t,r,n){const i=r.queryKey,s=r.queryHash??Xc(i,r);let l=this.get(s);return l||(l=new ex({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){x(this,Xt).has(t.queryHash)||(x(this,Xt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=x(this,Xt).get(t.queryHash);r&&(t.destroy(),r===t&&x(this,Xt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Oe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return x(this,Xt).get(t)}getAll(){return[...x(this,Xt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Hf(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Hf(t,n)):r}notify(t){Oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xt=new WeakMap,vh),er,Je,Cn,tr,Nr,xh,nx=(xh=class extends rm{constructor(t){super();H(this,tr);H(this,er,void 0);H(this,Je,void 0);H(this,Cn,void 0);this.mutationId=t.mutationId,U(this,Je,t.mutationCache),U(this,er,[]),this.state=t.state||im(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){x(this,er).includes(t)||(x(this,er).push(t),this.clearGcTimeout(),x(this,Je).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){U(this,er,x(this,er).filter(r=>r!==t)),this.scheduleGc(),x(this,Je).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){x(this,er).length||(this.state.status==="pending"?this.scheduleGc():x(this,Je).remove(this))}continue(){var t;return((t=x(this,Cn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,l,a,u,c,f,d,h,v,C,S,E,m,p,y,k,N,R,P;U(this,Cn,tm({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,B)=>{q(this,tr,Nr).call(this,{type:"failed",failureCount:L,error:B})},onPause:()=>{q(this,tr,Nr).call(this,{type:"pause"})},onContinue:()=>{q(this,tr,Nr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,Je).canRun(this)}));const r=this.state.status==="pending",n=!x(this,Cn).canStart();try{if(!r){q(this,tr,Nr).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(i=x(this,Je).config).onMutate)==null?void 0:s.call(i,t,this));const B=await((a=(l=this.options).onMutate)==null?void 0:a.call(l,t));B!==this.state.context&&q(this,tr,Nr).call(this,{type:"pending",context:B,variables:t,isPaused:n})}const L=await x(this,Cn).start();return await((c=(u=x(this,Je).config).onSuccess)==null?void 0:c.call(u,L,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,L,t,this.state.context)),await((v=(h=x(this,Je).config).onSettled)==null?void 0:v.call(h,L,null,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,L,null,t,this.state.context)),q(this,tr,Nr).call(this,{type:"success",data:L}),L}catch(L){try{throw await((m=(E=x(this,Je).config).onError)==null?void 0:m.call(E,L,t,this.state.context,this)),await((y=(p=this.options).onError)==null?void 0:y.call(p,L,t,this.state.context)),await((N=(k=x(this,Je).config).onSettled)==null?void 0:N.call(k,void 0,L,this.state.variables,this.state.context,this)),await((P=(R=this.options).onSettled)==null?void 0:P.call(R,void 0,L,t,this.state.context)),L}finally{q(this,tr,Nr).call(this,{type:"error",error:L})}}finally{x(this,Je).runNext(this)}}},er=new WeakMap,Je=new WeakMap,Cn=new WeakMap,tr=new WeakSet,Nr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Oe.batch(()=>{x(this,er).forEach(n=>{n.onMutationUpdate(t)}),x(this,Je).notify({mutation:this,type:"updated",action:t})})},xh);function im(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vt,Is,wh,ix=(wh=class extends Ti{constructor(t={}){super();H(this,vt,void 0);H(this,Is,void 0);this.config=t,U(this,vt,new Map),U(this,Is,Date.now())}build(t,r,n){const i=new nx({mutationCache:this,mutationId:++Xs(this,Is)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){const r=vl(t),n=x(this,vt).get(r)??[];n.push(t),x(this,vt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=vl(t);if(x(this,vt).has(r)){const i=(n=x(this,vt).get(r))==null?void 0:n.filter(s=>s!==t);i&&(i.length===0?x(this,vt).delete(r):x(this,vt).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=x(this,vt).get(vl(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=x(this,vt).get(vl(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Oe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...x(this,vt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Qf(r,n))}findAll(t={}){return this.getAll().filter(r=>Qf(t,r))}notify(t){Oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Oe.batch(()=>Promise.all(t.map(r=>r.continue().catch(Lt))))}},vt=new WeakMap,Is=new WeakMap,wh);function vl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Tu(e){return{onFetch:(t,r)=>{const n=async()=>{var C,S,E,m,p;const i=t.options,s=(E=(S=(C=t.fetchOptions)==null?void 0:C.meta)==null?void 0:S.fetchMore)==null?void 0:E.direction,l=((m=t.state.data)==null?void 0:m.pages)||[],a=((p=t.state.data)==null?void 0:p.pageParams)||[],u={pages:[],pageParams:[]};let c=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?c=!0:t.signal.addEventListener("abort",()=>{c=!0}),t.signal)})},d=Y1(t.options,t.fetchOptions),h=async(y,k,N)=>{if(c)return Promise.reject();if(k==null&&y.pages.length)return Promise.resolve(y);const R={queryKey:t.queryKey,pageParam:k,direction:N?"backward":"forward",meta:t.options.meta};f(R);const P=await d(R),{maxPages:L}=t.options,B=N?Kv:Zv;return{pages:B(y.pages,P,L),pageParams:B(y.pageParams,k,L)}};let v;if(s&&l.length){const y=s==="backward",k=y?sm:Fu,N={pages:l,pageParams:a},R=k(i,N);v=await h(N,R,y)}else{v=await h(u,a[0]??i.initialPageParam);const y=e??l.length;for(let k=1;k<y;k++){const N=Fu(i,v);if(N==null)break;v=await h(v,N)}}return v};t.options.persister?t.fetchFn=()=>{var i,s;return(s=(i=t.options).persister)==null?void 0:s.call(i,n,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=n}}}function Fu(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function sm(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}function sx(e,t){return t?Fu(e,t)!=null:!1}function lx(e,t){return!t||!e.getPreviousPageParam?!1:sm(e,t)!=null}var ke,Mr,Tr,fi,hi,Fr,pi,mi,Ch,ox=(Ch=class{constructor(e={}){H(this,ke,void 0);H(this,Mr,void 0);H(this,Tr,void 0);H(this,fi,void 0);H(this,hi,void 0);H(this,Fr,void 0);H(this,pi,void 0);H(this,mi,void 0);U(this,ke,e.queryCache||new rx),U(this,Mr,e.mutationCache||new ix),U(this,Tr,e.defaultOptions||{}),U(this,fi,new Map),U(this,hi,new Map),U(this,Fr,0)}mount(){Xs(this,Fr)._++,x(this,Fr)===1&&(U(this,pi,ed.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,ke).onFocus())})),U(this,mi,Co.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,ke).onOnline())})))}unmount(){var e,t;Xs(this,Fr)._--,x(this,Fr)===0&&((e=x(this,pi))==null||e.call(this),U(this,pi,void 0),(t=x(this,mi))==null||t.call(this),U(this,mi,void 0))}isFetching(e){return x(this,ke).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,Mr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=x(this,ke).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=x(this,ke).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(li(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return x(this,ke).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=x(this,ke).get(n.queryHash),s=i==null?void 0:i.state.data,l=Wv(t,s);if(l!==void 0)return x(this,ke).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Oe.batch(()=>x(this,ke).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=x(this,ke).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=x(this,ke);Oe.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=x(this,ke),n={type:"active",...e};return Oe.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Oe.batch(()=>x(this,ke).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Lt).catch(Lt)}invalidateQueries(e={},t={}){return Oe.batch(()=>{if(x(this,ke).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Oe.batch(()=>x(this,ke).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Lt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Lt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=x(this,ke).build(this,t);return r.isStaleByTime(li(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Lt).catch(Lt)}fetchInfiniteQuery(e){return e.behavior=Tu(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Lt).catch(Lt)}resumePausedMutations(){return Co.isOnline()?x(this,Mr).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,ke)}getMutationCache(){return x(this,Mr)}getDefaultOptions(){return x(this,Tr)}setDefaultOptions(e){U(this,Tr,e)}setQueryDefaults(e,t){x(this,fi).set(On(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...x(this,fi).values()];let r={};return t.forEach(n=>{Ps(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){x(this,hi).set(On(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...x(this,hi).values()];let r={};return t.forEach(n=>{Ps(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...x(this,Tr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xc(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===J1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,Tr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,ke).clear(),x(this,Mr).clear()}},ke=new WeakMap,Mr=new WeakMap,Tr=new WeakMap,fi=new WeakMap,hi=new WeakMap,Fr=new WeakMap,pi=new WeakMap,mi=new WeakMap,Ch),ot,ne,Os,Ye,Sn,gi,rr,As,yi,vi,kn,En,Dr,xi,jn,Yi,Ms,Du,Ts,Vu,Fs,Uu,Ds,zu,Vs,$u,Us,Bu,zs,Hu,_o,om,Sh,lm=(Sh=class extends Ti{constructor(t,r){super();H(this,jn);H(this,Ms);H(this,Ts);H(this,Fs);H(this,Ds);H(this,Vs);H(this,Us);H(this,zs);H(this,_o);H(this,ot,void 0);H(this,ne,void 0);H(this,Os,void 0);H(this,Ye,void 0);H(this,Sn,void 0);H(this,gi,void 0);H(this,rr,void 0);H(this,As,void 0);H(this,yi,void 0);H(this,vi,void 0);H(this,kn,void 0);H(this,En,void 0);H(this,Dr,void 0);H(this,xi,new Set);this.options=r,U(this,ot,t),U(this,rr,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,ne).addObserver(this),Zf(x(this,ne),this.options)?q(this,jn,Yi).call(this):this.updateResult(),q(this,Ds,zu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qu(x(this,ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qu(x(this,ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,q(this,Vs,$u).call(this),q(this,Us,Bu).call(this),x(this,ne).removeObserver(this)}setOptions(t,r){const n=this.options,i=x(this,ne);if(this.options=x(this,ot).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ht(this.options.enabled,x(this,ne))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");q(this,zs,Hu).call(this),x(this,ne).setOptions(this.options),n._defaulted&&!wo(this.options,n)&&x(this,ot).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,ne),observer:this});const s=this.hasListeners();s&&Kf(x(this,ne),i,this.options,n)&&q(this,jn,Yi).call(this),this.updateResult(r),s&&(x(this,ne)!==i||Ht(this.options.enabled,x(this,ne))!==Ht(n.enabled,x(this,ne))||li(this.options.staleTime,x(this,ne))!==li(n.staleTime,x(this,ne)))&&q(this,Ms,Du).call(this);const l=q(this,Ts,Vu).call(this);s&&(x(this,ne)!==i||Ht(this.options.enabled,x(this,ne))!==Ht(n.enabled,x(this,ne))||l!==x(this,Dr))&&q(this,Fs,Uu).call(this,l)}getOptimisticResult(t){const r=x(this,ot).getQueryCache().build(x(this,ot),t),n=this.createResult(r,t);return ux(this,n)&&(U(this,Ye,n),U(this,gi,this.options),U(this,Sn,x(this,ne).state)),n}getCurrentResult(){return x(this,Ye)}trackResult(t,r){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),n}trackProp(t){x(this,xi).add(t)}getCurrentQuery(){return x(this,ne)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=x(this,ot).defaultQueryOptions(t),n=x(this,ot).getQueryCache().build(x(this,ot),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){return q(this,jn,Yi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,Ye)))}createResult(t,r){var P;const n=x(this,ne),i=this.options,s=x(this,Ye),l=x(this,Sn),a=x(this,gi),c=t!==n?t.state:x(this,Os),{state:f}=t;let d={...f},h=!1,v;if(r._optimisticResults){const L=this.hasListeners(),B=!L&&Zf(t,r),O=L&&Kf(t,n,r,i);(B||O)&&(d={...d,...nm(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:C,errorUpdatedAt:S,status:E}=d;if(r.select&&d.data!==void 0)if(s&&d.data===(l==null?void 0:l.data)&&r.select===x(this,As))v=x(this,yi);else try{U(this,As,r.select),v=r.select(d.data),v=Mu(s==null?void 0:s.data,v,r),U(this,yi,v),U(this,rr,null)}catch(L){U(this,rr,L)}else v=d.data;if(r.placeholderData!==void 0&&v===void 0&&E==="pending"){let L;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))L=s.data;else if(L=typeof r.placeholderData=="function"?r.placeholderData((P=x(this,vi))==null?void 0:P.state.data,x(this,vi)):r.placeholderData,r.select&&L!==void 0)try{L=r.select(L),U(this,rr,null)}catch(B){U(this,rr,B)}L!==void 0&&(E="success",v=Mu(s==null?void 0:s.data,L,r),h=!0)}x(this,rr)&&(C=x(this,rr),v=x(this,yi),S=Date.now(),E="error");const m=d.fetchStatus==="fetching",p=E==="pending",y=E==="error",k=p&&m,N=v!==void 0;return{status:E,fetchStatus:d.fetchStatus,isPending:p,isSuccess:E==="success",isError:y,isInitialLoading:k,isLoading:k,data:v,dataUpdatedAt:d.dataUpdatedAt,error:C,errorUpdatedAt:S,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:m,isRefetching:m&&!p,isLoadingError:y&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:y&&N,isStale:td(t,r),refetch:this.refetch}}updateResult(t){const r=x(this,Ye),n=this.createResult(x(this,ne),this.options);if(U(this,Sn,x(this,ne).state),U(this,gi,this.options),x(this,Sn).data!==void 0&&U(this,vi,x(this,ne)),wo(n,r))return;U(this,Ye,n);const i={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:l}=this.options,a=typeof l=="function"?l():l;if(a==="all"||!a&&!x(this,xi).size)return!0;const u=new Set(a??x(this,xi));return this.options.throwOnError&&u.add("error"),Object.keys(x(this,Ye)).some(c=>{const f=c;return x(this,Ye)[f]!==r[f]&&u.has(f)})};(t==null?void 0:t.listeners)!==!1&&s()&&(i.listeners=!0),q(this,_o,om).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&q(this,Ds,zu).call(this)}},ot=new WeakMap,ne=new WeakMap,Os=new WeakMap,Ye=new WeakMap,Sn=new WeakMap,gi=new WeakMap,rr=new WeakMap,As=new WeakMap,yi=new WeakMap,vi=new WeakMap,kn=new WeakMap,En=new WeakMap,Dr=new WeakMap,xi=new WeakMap,jn=new WeakSet,Yi=function(t){q(this,zs,Hu).call(this);let r=x(this,ne).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Lt)),r},Ms=new WeakSet,Du=function(){q(this,Vs,$u).call(this);const t=li(this.options.staleTime,x(this,ne));if(Li||x(this,Ye).isStale||!Ou(t))return;const n=K1(x(this,Ye).dataUpdatedAt,t)+1;U(this,kn,setTimeout(()=>{x(this,Ye).isStale||this.updateResult()},n))},Ts=new WeakSet,Vu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,ne)):this.options.refetchInterval)??!1},Fs=new WeakSet,Uu=function(t){q(this,Us,Bu).call(this),U(this,Dr,t),!(Li||Ht(this.options.enabled,x(this,ne))===!1||!Ou(x(this,Dr))||x(this,Dr)===0)&&U(this,En,setInterval(()=>{(this.options.refetchIntervalInBackground||ed.isFocused())&&q(this,jn,Yi).call(this)},x(this,Dr)))},Ds=new WeakSet,zu=function(){q(this,Ms,Du).call(this),q(this,Fs,Uu).call(this,q(this,Ts,Vu).call(this))},Vs=new WeakSet,$u=function(){x(this,kn)&&(clearTimeout(x(this,kn)),U(this,kn,void 0))},Us=new WeakSet,Bu=function(){x(this,En)&&(clearInterval(x(this,En)),U(this,En,void 0))},zs=new WeakSet,Hu=function(){const t=x(this,ot).getQueryCache().build(x(this,ot),this.options);if(t===x(this,ne))return;const r=x(this,ne);U(this,ne,t),U(this,Os,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},_o=new WeakSet,om=function(t){Oe.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(x(this,Ye))}),x(this,ot).getQueryCache().notify({query:x(this,ne),type:"observerResultsUpdated"})})},Sh);function ax(e,t){return Ht(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Zf(e,t){return ax(e,t)||e.state.data!==void 0&&Qu(e,t,t.refetchOnMount)}function Qu(e,t,r){if(Ht(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&td(e,t)}return!1}function Kf(e,t,r,n){return(e!==t||Ht(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&td(e,r)}function td(e,t){return Ht(t.enabled,e)!==!1&&e.isStaleByTime(li(t.staleTime,e))}function ux(e,t){return!wo(e.getCurrentResult(),t)}var cx=class extends lm{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:Tu()},t)}getOptimisticResult(e){return e.behavior=Tu(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var C,S;const{state:r}=e,n=super.createResult(e,t),{isFetching:i,isRefetching:s,isError:l,isRefetchError:a}=n,u=(S=(C=r.fetchMeta)==null?void 0:C.fetchMore)==null?void 0:S.direction,c=l&&u==="forward",f=i&&u==="forward",d=l&&u==="backward",h=i&&u==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:sx(t,r.data),hasPreviousPage:lx(t,r.data),isFetchNextPageError:c,isFetchingNextPage:f,isFetchPreviousPageError:d,isFetchingPreviousPage:h,isRefetchError:a&&!c&&!d,isRefetching:s&&!f&&!h}}},Vr,Ur,at,mr,wi,Ml,$s,Wu,kh,dx=(kh=class extends Ti{constructor(r,n){super();H(this,wi);H(this,$s);H(this,Vr,void 0);H(this,Ur,void 0);H(this,at,void 0);H(this,mr,void 0);U(this,Vr,r),this.setOptions(n),this.bindMethods(),q(this,wi,Ml).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=x(this,Vr).defaultMutationOptions(r),wo(this.options,n)||x(this,Vr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:x(this,at),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&On(n.mutationKey)!==On(this.options.mutationKey)?this.reset():((i=x(this,at))==null?void 0:i.state.status)==="pending"&&x(this,at).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=x(this,at))==null||r.removeObserver(this)}onMutationUpdate(r){q(this,wi,Ml).call(this),q(this,$s,Wu).call(this,r)}getCurrentResult(){return x(this,Ur)}reset(){var r;(r=x(this,at))==null||r.removeObserver(this),U(this,at,void 0),q(this,wi,Ml).call(this),q(this,$s,Wu).call(this)}mutate(r,n){var i;return U(this,mr,n),(i=x(this,at))==null||i.removeObserver(this),U(this,at,x(this,Vr).getMutationCache().build(x(this,Vr),this.options)),x(this,at).addObserver(this),x(this,at).execute(r)}},Vr=new WeakMap,Ur=new WeakMap,at=new WeakMap,mr=new WeakMap,wi=new WeakSet,Ml=function(){var n;const r=((n=x(this,at))==null?void 0:n.state)??im();U(this,Ur,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},$s=new WeakSet,Wu=function(r){Oe.batch(()=>{var n,i,s,l,a,u,c,f;if(x(this,mr)&&this.hasListeners()){const d=x(this,Ur).variables,h=x(this,Ur).context;(r==null?void 0:r.type)==="success"?((i=(n=x(this,mr)).onSuccess)==null||i.call(n,r.data,d,h),(l=(s=x(this,mr)).onSettled)==null||l.call(s,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((u=(a=x(this,mr)).onError)==null||u.call(a,r.error,d,h),(f=(c=x(this,mr)).onSettled)==null||f.call(c,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(x(this,Ur))})})},kh),am=g.createContext(void 0),mt=e=>{const t=g.useContext(am);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},fx=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(am.Provider,{value:e,children:t})),um=g.createContext(!1),hx=()=>g.useContext(um);um.Provider;function px(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var mx=g.createContext(px()),gx=()=>g.useContext(mx);function cm(e,t){return typeof e=="function"?e(...t):!!e}function yx(){}var vx=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},xx=e=>{g.useEffect(()=>{e.clearReset()},[e])},wx=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&cm(r,[e.error,n]),Cx=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Sx=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,kx=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function dm(e,t,r){var c,f,d,h;const n=mt(r),i=hx(),s=gx(),l=n.defaultQueryOptions(e);(f=(c=n.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||f.call(c,l),l._optimisticResults=i?"isRestoring":"optimistic",Cx(l),vx(l,s),xx(s);const[a]=g.useState(()=>new t(n,l)),u=a.getOptimisticResult(l);if(g.useSyncExternalStore(g.useCallback(v=>{const C=i?()=>{}:a.subscribe(Oe.batchCalls(v));return a.updateResult(),C},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),g.useEffect(()=>{a.setOptions(l,{listeners:!1})},[l,a]),Sx(l,u))throw kx(l,a,s);if(wx({result:u,errorResetBoundary:s,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw u.error;return(h=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||h.call(d,l,u),l.notifyOnChangeProps?u:a.trackResult(u)}function Zs(e,t){return dm(e,lm,t)}function Ks(e,t){const r=mt(t),[n]=g.useState(()=>new dx(r,e));g.useEffect(()=>{n.setOptions(e)},[n,e]);const i=g.useSyncExternalStore(g.useCallback(l=>n.subscribe(Oe.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=g.useCallback((l,a)=>{n.mutate(l,a).catch(yx)},[n]);if(i.error&&cm(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function Ex(e,t){return dm(e,cx,t)}async function we(e,t={}){const r=localStorage.getItem("token"),n={...t.headers};r&&(n.Authorization=`Bearer ${r}`),t.body instanceof FormData||(n["Content-Type"]=n["Content-Type"]||"application/json");const i=await fetch(e,{...t,headers:n});if(i.status===401)throw localStorage.removeItem("token"),localStorage.removeItem("username"),window.location.href="/signin",new Error(" ,  ");if(!i.ok){let l=` ${i.status}`;try{const a=await i.json();l=a.error||a.message||l}catch{}throw new Error(l)}const s=await i.text();if(!s)return null;try{return JSON.parse(s)}catch{return s}}async function jx({password:e,fullname:t,username:r,bio:n,avatar:i,previousAvatar:s}){if(i){const a=new FormData;a.append("file",i);const u=await we("/api/profile/avatar",{method:"POST",body:a});return u!=null&&u.avatarUrl&&localStorage.setItem("avatarUrl",u.avatarUrl),{user:{user_metadata:{avatar_url:(u==null?void 0:u.avatarUrl)||""}}}}const l={};if(t!==void 0&&(l.firstName=t),r!==void 0&&(l.username=r),n!==void 0&&(l.bio=n),Object.keys(l).length>0){const a=await we("/api/profile",{method:"PUT",body:JSON.stringify(l)});return a!=null&&a.username&&localStorage.setItem("username",a.username),{user:{user_metadata:a}}}return e?(await we("/api/auth/change-password",{method:"POST",body:JSON.stringify({newPassword:e})}),{user:{}}):null}let bx={data:""},Nx=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||bx,_x=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Lx=/\/\*[^]*?\*\/|  +/g,qf=/\n+/g,Ir=(e,t)=>{let r="",n="",i="";for(let s in e){let l=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+l+";":n+=s[1]=="f"?Ir(l,s):s+"{"+Ir(l,s[1]=="k"?"":t)+"}":typeof l=="object"?n+=Ir(l,t?t.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ir.p?Ir.p(s,l):s+":"+l+";")}return r+(t&&i?t+"{"+i+"}":i)+n},cr={},fm=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+fm(e[r]);return t}return e},Px=(e,t,r,n,i)=>{let s=fm(e),l=cr[s]||(cr[s]=(u=>{let c=0,f=11;for(;c<u.length;)f=101*f+u.charCodeAt(c++)>>>0;return"go"+f})(s));if(!cr[l]){let u=s!==e?e:(c=>{let f,d,h=[{}];for(;f=_x.exec(c.replace(Lx,""));)f[4]?h.shift():f[3]?(d=f[3].replace(qf," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][f[1]]=f[2].replace(qf," ").trim();return h[0]})(e);cr[l]=Ir(i?{["@keyframes "+l]:u}:u,r?"":"."+l)}let a=r&&cr.g?cr.g:null;return r&&(cr.g=cr[l]),((u,c,f,d)=>{d?c.data=c.data.replace(d,u):c.data.indexOf(u)===-1&&(c.data=f?u+c.data:c.data+u)})(cr[l],t,n,a),l},Rx=(e,t,r)=>e.reduce((n,i,s)=>{let l=t[s];if(l&&l.call){let a=l(r),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;l=u?"."+u:a&&typeof a=="object"?a.props?"":Ir(a,""):a===!1?"":a}return n+i+(l??"")},"");function Zo(e){let t=this||{},r=e.call?e(t.p):e;return Px(r.unshift?r.raw?Rx(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,Nx(t.target),t.g,t.o,t.k)}let hm,Gu,Zu;Zo.bind({g:1});let kr=Zo.bind({k:1});function Ix(e,t,r,n){Ir.p=t,hm=e,Gu=r,Zu=n}function an(e,t){let r=this||{};return function(){let n=arguments;function i(s,l){let a=Object.assign({},s),u=a.className||i.className;r.p=Object.assign({theme:Gu&&Gu()},a),r.o=/ *go\d+/.test(u),a.className=Zo.apply(r,n)+(u?" "+u:""),t&&(a.ref=l);let c=e;return e[0]&&(c=a.as||e,delete a.as),Zu&&c[0]&&Zu(a),hm(c,a)}return t?t(i):i}}var Ox=e=>typeof e=="function",So=(e,t)=>Ox(e)?e(t):e,Ax=(()=>{let e=0;return()=>(++e).toString()})(),pm=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Mx=20,Tl=new Map,Tx=1e3,Jf=e=>{if(Tl.has(e))return;let t=setTimeout(()=>{Tl.delete(e),Tn({type:4,toastId:e})},Tx);Tl.set(e,t)},Fx=e=>{let t=Tl.get(e);t&&clearTimeout(t)},Ku=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Mx)};case 1:return t.toast.id&&Fx(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return e.toasts.find(s=>s.id===r.id)?Ku(e,{type:1,toast:r}):Ku(e,{type:0,toast:r});case 3:let{toastId:n}=t;return n?Jf(n):e.toasts.forEach(s=>{Jf(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Fl=[],Dl={toasts:[],pausedAt:void 0},Tn=e=>{Dl=Ku(Dl,e),Fl.forEach(t=>{t(Dl)})},Dx={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Vx=(e={})=>{let[t,r]=g.useState(Dl);g.useEffect(()=>(Fl.push(r),()=>{let i=Fl.indexOf(r);i>-1&&Fl.splice(i,1)}),[t]);let n=t.toasts.map(i=>{var s,l;return{...e,...e[i.type],...i,duration:i.duration||((s=e[i.type])==null?void 0:s.duration)||(e==null?void 0:e.duration)||Dx[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:n}},Ux=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Ax()}),qs=e=>(t,r)=>{let n=Ux(t,e,r);return Tn({type:2,toast:n}),n.id},St=(e,t)=>qs("blank")(e,t);St.error=qs("error");St.success=qs("success");St.loading=qs("loading");St.custom=qs("custom");St.dismiss=e=>{Tn({type:3,toastId:e})};St.remove=e=>Tn({type:4,toastId:e});St.promise=(e,t,r)=>{let n=St.loading(t.loading,{...r,...r==null?void 0:r.loading});return e.then(i=>(St.success(So(t.success,i),{id:n,...r,...r==null?void 0:r.success}),i)).catch(i=>{St.error(So(t.error,i),{id:n,...r,...r==null?void 0:r.error})}),e};var zx=(e,t)=>{Tn({type:1,toast:{id:e,height:t}})},$x=()=>{Tn({type:5,time:Date.now()})},Bx=e=>{let{toasts:t,pausedAt:r}=Vx(e);g.useEffect(()=>{if(r)return;let s=Date.now(),l=t.map(a=>{if(a.duration===1/0)return;let u=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(u<0){a.visible&&St.dismiss(a.id);return}return setTimeout(()=>St.dismiss(a.id),u)});return()=>{l.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=g.useCallback(()=>{r&&Tn({type:6,time:Date.now()})},[r]),i=g.useCallback((s,l)=>{let{reverseOrder:a=!1,gutter:u=8,defaultPosition:c}=l||{},f=t.filter(v=>(v.position||c)===(s.position||c)&&v.height),d=f.findIndex(v=>v.id===s.id),h=f.filter((v,C)=>C<d&&v.visible).length;return f.filter(v=>v.visible).slice(...a?[h+1]:[0,h]).reduce((v,C)=>v+(C.height||0)+u,0)},[t]);return{toasts:t,handlers:{updateHeight:zx,startPause:$x,endPause:n,calculateOffset:i}}},Hx=kr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Qx=kr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wx=kr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Gx=an("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Qx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Wx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Zx=kr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Kx=an("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Zx} 1s linear infinite;
`,qx=kr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Jx=kr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Yx=an("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Jx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Xx=an("div")`
  position: absolute;
`,e2=an("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,t2=kr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,r2=an("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${t2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,n2=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?g.createElement(r2,null,t):t:r==="blank"?null:g.createElement(e2,null,g.createElement(Kx,{...n}),r!=="loading"&&g.createElement(Xx,null,r==="error"?g.createElement(Gx,{...n}):g.createElement(Yx,{...n})))},i2=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,s2=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,l2="0%{opacity:0;} 100%{opacity:1;}",o2="0%{opacity:1;} 100%{opacity:0;}",a2=an("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,u2=an("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,c2=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=pm()?[l2,o2]:[i2(r),s2(r)];return{animation:t?`${kr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${kr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},d2=g.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?c2(e.position||t||"top-center",e.visible):{opacity:0},s=g.createElement(n2,{toast:e}),l=g.createElement(u2,{...e.ariaProps},So(e.message,e));return g.createElement(a2,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:s,message:l}):g.createElement(g.Fragment,null,s,l))});Ix(g.createElement);var f2=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let s=g.useCallback(l=>{if(l){let a=()=>{let u=l.getBoundingClientRect().height;n(e,u)};a(),new MutationObserver(a).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return g.createElement("div",{ref:s,className:t,style:r},i)},h2=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:pm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},p2=Zo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xl=16,m2=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:l})=>{let{toasts:a,handlers:u}=Bx(r);return g.createElement("div",{style:{position:"fixed",zIndex:9999,top:xl,left:xl,right:xl,bottom:xl,pointerEvents:"none",...s},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},a.map(c=>{let f=c.position||t,d=u.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),h=h2(f,d);return g.createElement(f2,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?p2:"",style:h},c.type==="custom"?So(c.message,c):i?i(c):g.createElement(d2,{toast:c,position:f}))}))},te=St;function rd(){const e=mt(),{mutate:t,isPending:r}=Ks({mutationFn:jx,onMutate:()=>{te.loading("...")},onSuccess:()=>{e.invalidateQueries("user")},onError:n=>{te.dismiss(),te.error(n.message)}});return{updateUser:t,isUpdating:r}}function g2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"}}]})(e)}function y2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14 13.5V8C14 5.79086 12.2091 4 10 4C7.79086 4 6 5.79086 6 8V13.5C6 17.0899 8.91015 20 12.5 20C16.0899 20 19 17.0899 19 13.5V4H21V13.5C21 18.1944 17.1944 22 12.5 22C7.80558 22 4 18.1944 4 13.5V8C4 4.68629 6.68629 2 10 2C13.3137 2 16 4.68629 16 8V13.5C16 15.433 14.433 17 12.5 17C10.567 17 9 15.433 9 13.5V8H11V13.5C11 14.3284 11.6716 15 12.5 15C13.3284 15 14 14.3284 14 13.5Z"}}]})(e)}function v2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.94631 9.31555C1.42377 9.14137 1.41965 8.86034 1.95706 8.6812L21.0433 2.31913C21.5717 2.14297 21.8748 2.43878 21.7268 2.95706L16.2736 22.0433C16.1226 22.5718 15.8179 22.5901 15.5946 22.0877L12.0002 14.0002L18.0002 6.00017L10.0002 12.0002L1.94631 9.31555Z"}}]})(e)}function x2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"}}]})(e)}function w2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455ZM14 10.25V8H7V14H14V11.75L17 14V8L14 10.25Z"}}]})(e)}function mm(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14 10.25L17 8V14L14 11.75V14H7V8H14V10.25ZM5.76282 17H20V5H4V18.3851L5.76282 17ZM6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455Z"}}]})(e)}function C2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 18.89H6.41421L15.7279 9.57629L14.3137 8.16207L5 17.4758V18.89ZM21 20.89H3V16.6474L16.435 3.21233C16.8256 2.8218 17.4587 2.8218 17.8492 3.21233L20.6777 6.04075C21.0682 6.43128 21.0682 7.06444 20.6777 7.45497L9.24264 18.89H21V20.89ZM15.7279 6.74786L17.1421 8.16207L18.5563 6.74786L17.1421 5.33365L15.7279 6.74786Z"}}]})(e)}function S2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 19.9C15.2822 19.4367 17 17.419 17 15V12C17 11.299 16.8564 10.6219 16.5846 10H7.41538C7.14358 10.6219 7 11.299 7 12V15C7 17.419 8.71776 19.4367 11 19.9V14H13V19.9ZM5.5358 17.6907C5.19061 16.8623 5 15.9534 5 15H2V13H5V12C5 11.3573 5.08661 10.7348 5.2488 10.1436L3.0359 8.86602L4.0359 7.13397L6.05636 8.30049C6.11995 8.19854 6.18609 8.09835 6.25469 8H17.7453C17.8139 8.09835 17.88 8.19854 17.9436 8.30049L19.9641 7.13397L20.9641 8.86602L18.7512 10.1436C18.9134 10.7348 19 11.3573 19 12V13H22V15H19C19 15.9534 18.8094 16.8623 18.4642 17.6907L20.9641 19.134L19.9641 20.866L17.4383 19.4077C16.1549 20.9893 14.1955 22 12 22C9.80453 22 7.84512 20.9893 6.56171 19.4077L4.0359 20.866L3.0359 19.134L5.5358 17.6907ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6H8Z"}}]})(e)}function k2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 16.42V19.9561C21 20.4811 20.5941 20.9167 20.0705 20.9537C19.6331 20.9846 19.2763 21 19 21C10.1634 21 3 13.8366 3 5C3 4.72371 3.01545 4.36687 3.04635 3.9295C3.08337 3.40588 3.51894 3 4.04386 3H7.5801C7.83678 3 8.05176 3.19442 8.07753 3.4498C8.10067 3.67907 8.12218 3.86314 8.14207 4.00202C8.34435 5.41472 8.75753 6.75936 9.3487 8.00303C9.44359 8.20265 9.38171 8.44159 9.20185 8.57006L7.04355 10.1118C8.35752 13.1811 10.8189 15.6425 13.8882 16.9565L15.4271 14.8019C15.5572 14.6199 15.799 14.5573 16.001 14.6532C17.2446 15.2439 18.5891 15.6566 20.0016 15.8584C20.1396 15.8782 20.3225 15.8995 20.5502 15.9225C20.8056 15.9483 21 16.1633 21 16.42Z"}}]})(e)}function E2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.36556 10.6821C10.302 12.3288 11.6712 13.698 13.3179 14.6344L14.2024 13.3961C14.4965 12.9845 15.0516 12.8573 15.4956 13.0998C16.9024 13.8683 18.4571 14.3353 20.0789 14.4637C20.599 14.5049 21 14.9389 21 15.4606V19.9234C21 20.4361 20.6122 20.8657 20.1022 20.9181C19.5723 20.9726 19.0377 21 18.5 21C9.93959 21 3 14.0604 3 5.5C3 4.96227 3.02742 4.42771 3.08189 3.89776C3.1343 3.38775 3.56394 3 4.07665 3H8.53942C9.0611 3 9.49513 3.40104 9.5363 3.92109C9.66467 5.54288 10.1317 7.09764 10.9002 8.50444C11.1427 8.9484 11.0155 9.50354 10.6039 9.79757L9.36556 10.6821ZM6.84425 10.0252L8.7442 8.66809C8.20547 7.50514 7.83628 6.27183 7.64727 5H5.00907C5.00303 5.16632 5 5.333 5 5.5C5 12.9558 11.0442 19 18.5 19C18.667 19 18.8337 18.997 19 18.9909V16.3527C17.7282 16.1637 16.4949 15.7945 15.3319 15.2558L13.9748 17.1558C13.4258 16.9425 12.8956 16.6915 12.3874 16.4061L12.3293 16.373C10.3697 15.2587 8.74134 13.6303 7.627 11.6707L7.59394 11.6126C7.30849 11.1044 7.05754 10.5742 6.84425 10.0252Z"}}]})(e)}function j2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 2H19.0049C20.1068 2 21 2.89821 21 3.9908V20.0092C21 21.1087 20.1074 22 19.0049 22H3V2ZM7 4H5V20H7V4ZM9 20H19V4H9V20ZM11 16C11 14.3431 12.3431 13 14 13C15.6569 13 17 14.3431 17 16H11ZM14 12C12.8954 12 12 11.1046 12 10C12 8.89543 12.8954 8 14 8C15.1046 8 16 8.89543 16 10C16 11.1046 15.1046 12 14 12ZM22 6H24V10H22V6ZM22 12H24V16H22V12Z"}}]})(e)}function gm(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.82843 5L7.82843 7H4V19H20V7H16.1716L14.1716 5H9.82843ZM9 3H15L17 5H21C21.5523 5 22 5.44772 22 6V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V6C2 5.44772 2.44772 5 3 5H7L9 3ZM12 18C8.96243 18 6.5 15.5376 6.5 12.5C6.5 9.46243 8.96243 7 12 7C15.0376 7 17.5 9.46243 17.5 12.5C17.5 15.5376 15.0376 18 12 18ZM12 16C13.933 16 15.5 14.433 15.5 12.5C15.5 10.567 13.933 9 12 9C10.067 9 8.5 10.567 8.5 12.5C8.5 14.433 10.067 16 12 16Z"}}]})(e)}function ym(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.5869 21.0002H3.00113C2.44885 21.0002 2.00113 20.5524 2.00113 20.0002V6.00016C2.00113 5.44787 2.44885 5.00016 3.00113 5.00016H3.58692L1.39453 2.80777L2.80874 1.39355L22.6077 21.1925L21.1935 22.6068L19.5869 21.0002ZM5.58692 7.00016H4.00113V19.0002H17.5869L15.4063 16.8196C14.4698 17.5589 13.287 18.0002 12.0011 18.0002C8.96357 18.0002 6.50113 15.5377 6.50113 12.5002C6.50113 11.2143 6.94239 10.0315 7.68173 9.09497L5.58692 7.00016ZM9.11149 10.5247C8.72641 11.0869 8.50113 11.7672 8.50113 12.5002C8.50113 14.4332 10.0681 16.0002 12.0011 16.0002C12.734 16.0002 13.4143 15.7749 13.9766 15.3898L9.11149 10.5247ZM22.0011 17.786L20.0011 15.786V7.00016H16.1727L14.1727 5.00016H9.82956L9.52245 5.30727L8.10823 3.89306L9.00113 3.00016H15.0011L17.0011 5.00016H21.0011C21.5534 5.00016 22.0011 5.44787 22.0011 6.00016V17.786ZM11.2643 7.04909C11.5053 7.01682 11.7513 7.00016 12.0011 7.00016C15.0387 7.00016 17.5011 9.46259 17.5011 12.5002C17.5011 12.75 17.4845 12.996 17.4522 13.237L15.1143 10.8991C14.7804 10.2512 14.2501 9.72089 13.6022 9.38698L11.2643 7.04909Z"}}]})(e)}function nd(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.9998 3C10.3429 3 8.99976 4.34315 8.99976 6V10C8.99976 11.6569 10.3429 13 11.9998 13C13.6566 13 14.9998 11.6569 14.9998 10V6C14.9998 4.34315 13.6566 3 11.9998 3ZM11.9998 1C14.7612 1 16.9998 3.23858 16.9998 6V10C16.9998 12.7614 14.7612 15 11.9998 15C9.23833 15 6.99976 12.7614 6.99976 10V6C6.99976 3.23858 9.23833 1 11.9998 1ZM3.05469 11H5.07065C5.55588 14.3923 8.47329 17 11.9998 17C15.5262 17 18.4436 14.3923 18.9289 11H20.9448C20.4837 15.1716 17.1714 18.4839 12.9998 18.9451V23H10.9998V18.9451C6.82814 18.4839 3.51584 15.1716 3.05469 11Z"}}]})(e)}function vm(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.4259 17.839L21.1935 22.6066L22.6077 21.1924L2.80874 1.3934L1.39453 2.80761L7.00113 8.41421V10C7.00113 12.7614 9.23971 15 12.0011 15C12.4835 15 12.9499 14.9317 13.3912 14.8042L14.9413 16.3544C14.0474 16.7688 13.0513 17 12.0011 17C8.47466 17 5.55725 14.3923 5.07202 11H3.05606C3.51721 15.1716 6.82952 18.4839 11.0011 18.9451V23H13.0011V18.9451C14.2351 18.8087 15.3939 18.4228 16.4259 17.839ZM11.5538 12.9669C10.2551 12.7727 9.22843 11.7461 9.03426 10.4473L11.5538 12.9669ZM19.3757 15.1604L17.9333 13.7179C18.4417 12.9084 18.789 11.9874 18.9302 11H20.9462C20.7763 12.5366 20.2197 13.9565 19.3757 15.1604ZM16.4668 12.2514L14.9183 10.703C14.9725 10.4775 15.0011 10.2421 15.0011 10V6C15.0011 4.34315 13.658 3 12.0011 3C10.7069 3 9.60408 3.81956 9.18335 4.96802L7.68672 3.47139C8.55524 1.99268 10.1623 1 12.0011 1C14.7626 1 17.0011 3.23858 17.0011 6V10C17.0011 10.8099 16.8086 11.5748 16.4668 12.2514Z"}}]})(e)}function b2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 5H8V19H6V5ZM16 5H18V19H16V5Z"}}]})(e)}function xm(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.376 12.4158L8.77735 19.4816C8.54759 19.6348 8.23715 19.5727 8.08397 19.3429C8.02922 19.2608 8 19.1643 8 19.0656V4.93408C8 4.65794 8.22386 4.43408 8.5 4.43408C8.59871 4.43408 8.69522 4.4633 8.77735 4.51806L19.376 11.5838C19.6057 11.737 19.6678 12.0474 19.5146 12.2772C19.478 12.3321 19.4309 12.3792 19.376 12.4158Z"}}]})(e)}function Yf(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 5H18C18.5523 5 19 5.44772 19 6V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18V6C5 5.44772 5.44772 5 6 5Z"}}]})(e)}function N2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"}}]})(e)}function _2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z"}}]})(e)}function id(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z"}}]})(e)}function L2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 19H21V21H3V19ZM13 13.1716L19.0711 7.1005L20.4853 8.51472L12 17L3.51472 8.51472L4.92893 7.1005L11 13.1716V2H13V13.1716Z"}}]})(e)}function P2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.364 5.63604L16.9497 7.05025C15.683 5.7835 13.933 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12H21C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C14.4853 3 16.7353 4.00736 18.364 5.63604Z"}}]})(e)}function wm(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 11H13V13H5V16L0 12L5 8V11ZM3.99927 18H6.70835C8.11862 19.2447 9.97111 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C9.97111 4 8.11862 4.75527 6.70835 6H3.99927C5.82368 3.57111 8.72836 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C8.72836 22 5.82368 20.4289 3.99927 18Z"}}]})(e)}function R2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 11H21V13H3V11ZM3 18H21V20H3V18Z"}}]})(e)}function I2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"}}]})(e)}function O2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8.68735 4.00008L11.294 1.39348C11.6845 1.00295 12.3176 1.00295 12.7082 1.39348L15.3148 4.00008H19.0011C19.5533 4.00008 20.0011 4.4478 20.0011 5.00008V8.68637L22.6077 11.293C22.9982 11.6835 22.9982 12.3167 22.6077 12.7072L20.0011 15.3138V19.0001C20.0011 19.5524 19.5533 20.0001 19.0011 20.0001H15.3148L12.7082 22.6067C12.3176 22.9972 11.6845 22.9972 11.294 22.6067L8.68735 20.0001H5.00106C4.44877 20.0001 4.00106 19.5524 4.00106 19.0001V15.3138L1.39446 12.7072C1.00393 12.3167 1.00393 11.6835 1.39446 11.293L4.00106 8.68637V5.00008C4.00106 4.4478 4.44877 4.00008 5.00106 4.00008H8.68735ZM6.00106 6.00008V9.5148L3.51578 12.0001L6.00106 14.4854V18.0001H9.51578L12.0011 20.4854L14.4863 18.0001H18.0011V14.4854L20.4863 12.0001L18.0011 9.5148V6.00008H14.4863L12.0011 3.5148L9.51578 6.00008H6.00106ZM12.0011 16.0001C9.79192 16.0001 8.00106 14.2092 8.00106 12.0001C8.00106 9.79094 9.79192 8.00008 12.0011 8.00008C14.2102 8.00008 16.0011 9.79094 16.0011 12.0001C16.0011 14.2092 14.2102 16.0001 12.0011 16.0001ZM12.0011 14.0001C13.1056 14.0001 14.0011 13.1047 14.0011 12.0001C14.0011 10.8955 13.1056 10.0001 12.0011 10.0001C10.8965 10.0001 10.0011 10.8955 10.0011 12.0001C10.0011 13.1047 10.8965 14.0001 12.0011 14.0001Z"}}]})(e)}function Vl(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 14H11C7.54202 14 4.53953 15.9502 3.03239 18.8107C3.01093 18.5433 3 18.2729 3 18C3 12.4772 7.47715 8 13 8V2.5L23.5 11L13 19.5V14ZM11 12H15V15.3078L20.3214 11L15 6.69224V10H13C10.5795 10 8.41011 11.0749 6.94312 12.7735C8.20873 12.2714 9.58041 12 11 12Z"}}]})(e)}function sd(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 22C2 17.5817 5.58172 14 10 14C14.4183 14 18 17.5817 18 22H16C16 18.6863 13.3137 16 10 16C6.68629 16 4 18.6863 4 22H2ZM10 13C6.685 13 4 10.315 4 7C4 3.685 6.685 1 10 1C13.315 1 16 3.685 16 7C16 10.315 13.315 13 10 13ZM10 11C12.21 11 14 9.21 14 7C14 4.79 12.21 3 10 3C7.79 3 6 4.79 6 7C6 9.21 7.79 11 10 11ZM18.2837 14.7028C21.0644 15.9561 23 18.752 23 22H21C21 19.564 19.5483 17.4671 17.4628 16.5271L18.2837 14.7028ZM17.5962 3.41321C19.5944 4.23703 21 6.20361 21 8.5C21 11.3702 18.8042 13.7252 16 13.9776V11.9646C17.6967 11.7222 19 10.264 19 8.5C19 7.11935 18.2016 5.92603 17.041 5.35635L17.5962 3.41321Z"}}]})(e)}function A2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z"}}]})(e)}function M2(e){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 6C10 10.4183 13.5817 14 18 14C19.4386 14 20.7885 13.6203 21.9549 12.9556C21.4738 18.0302 17.2005 22 12 22C6.47715 22 2 17.5228 2 12C2 6.79948 5.9698 2.52616 11.0444 2.04507C10.3797 3.21152 10 4.56142 10 6ZM4 12C4 16.4183 7.58172 20 12 20C14.9654 20 17.5757 18.3788 18.9571 15.9546C18.6407 15.9848 18.3214 16 18 16C12.4772 16 8 11.5228 8 6C8 5.67863 8.01524 5.35933 8.04536 5.04293C5.62119 6.42426 4 9.03458 4 12ZM18.1642 2.29104L19 2.5V3.5L18.1642 3.70896C17.4476 3.8881 16.8881 4.4476 16.709 5.16417L16.5 6H15.5L15.291 5.16417C15.1119 4.4476 14.5524 3.8881 13.8358 3.70896L13 3.5V2.5L13.8358 2.29104C14.5524 2.1119 15.1119 1.5524 15.291 0.835829L15.5 0H16.5L16.709 0.835829C16.8881 1.5524 17.4476 2.1119 18.1642 2.29104ZM23.1642 7.29104L24 7.5V8.5L23.1642 8.70896C22.4476 8.8881 21.8881 9.4476 21.709 10.1642L21.5 11H20.5L20.291 10.1642C20.1119 9.4476 19.5524 8.8881 18.8358 8.70896L18 8.5V7.5L18.8358 7.29104C19.5524 7.1119 20.1119 6.5524 20.291 5.83583L20.5 5H21.5L21.709 5.83583C21.8881 6.5524 22.4476 7.1119 23.1642 7.29104Z"}}]})(e)}function He({size:e="small",text:t="",customClasses:r=""}){const n={small:"text-[1rem]",medium:"text-[1.5rem]",large:"text-[2rem]"};return o.jsxs("span",{className:`flex items-center justify-center ${r}`,children:[o.jsx(P2,{className:`${n[e]} animate-spin`}),t&&o.jsxs("span",{className:"ml-2",children:[t,"..."]})]})}function T2({avatar:e}){const t=e,{updateUser:r,isUpdating:n}=rd();function i(s){r({avatar:s,previousAvatar:t},{onSuccess:()=>{te.dismiss(),te.success(" !")}})}return o.jsxs("div",{className:"relative mx-auto mt-4 flex h-52 w-52 items-center justify-center overflow-hidden rounded-full border-2 border-bgAccent dark:border-bgAccent-dark",children:[t?o.jsx("img",{className:"pointer-events-none h-full w-full rounded-full object-cover object-center",src:t,alt:"avatar"}):o.jsx(Go,{className:"h-full w-full opacity-50",strokeWidth:"1"}),o.jsxs("span",{children:[o.jsx("label",{className:"absolute bottom-2 right-2 flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-bgAccent p-1 text-xl text-textPrimary-dark shadow-lg hover:bg-bgAccentDim dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",htmlFor:"uploadPhoto",role:"button",tabIndex:0,children:n?o.jsx(He,{}):o.jsx(Qv,{"aria-label":"upload photo"})}),o.jsx("input",{onChange:s=>i(s.target.files[0]),disabled:n,className:"hidden",accept:Vv,type:"file",name:"Profile picture",id:"uploadPhoto"})]})]})}function F2(){const[e,t]=g.useState(!1),[r,n]=g.useState(""),[i,s]=g.useState(""),{updateUser:l,isUpdating:a}=rd();function u(c){if(c.preventDefault(),!r||r.length<xo){te.error(` ${xo} `);return}if(r!==i){te.error("  ");return}l({password:r},{onSuccess:()=>{te.dismiss(),te.success(" !"),t(!1),n(""),s("")}})}return e?o.jsxs("form",{onSubmit:u,className:"mt-8 flex flex-col gap-3",children:[o.jsx("p",{className:"text-sm font-bold opacity-70",children:" "}),o.jsx("input",{type:"password",placeholder:" ",value:r,onChange:c=>n(c.target.value),className:"rounded-md border border-LightShade/30 bg-transparent px-3 py-2 text-sm outline-none focus:border-bgAccent dark:focus:border-bgAccent-dark",disabled:a}),o.jsx("input",{type:"password",placeholder:" ",value:i,onChange:c=>s(c.target.value),className:"rounded-md border border-LightShade/30 bg-transparent px-3 py-2 text-sm outline-none focus:border-bgAccent dark:focus:border-bgAccent-dark",disabled:a}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"submit",disabled:a,className:"flex h-10 items-center gap-2 rounded-md bg-bgAccent px-4 text-textPrimary-dark hover:bg-bgAccentDim disabled:opacity-50 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",children:a?o.jsx(He,{}):""}),o.jsx("button",{type:"button",onClick:()=>{t(!1),n(""),s("")},className:"flex h-10 items-center rounded-md border border-LightShade/30 px-4 text-sm opacity-70 hover:opacity-100",children:""})]})]}):o.jsx("button",{onClick:()=>t(!0),className:"mt-8 flex h-10 items-center gap-2 rounded-md bg-bgAccent px-4 text-textPrimary-dark hover:bg-bgAccentDim dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",children:" "})}let et=null,mn=null,Ul=[],Xf=[],Qi=!1,zl=[],$l=[];const D2=new Set(["CALL_OFFER","CALL_ANSWER","CALL_REJECT","CALL_END","CALL_BUSY","ICE_CANDIDATE","CALL_LOG"]),V2=new Set(["CONF_JOIN","CONF_LEAVE","CONF_PEERS","CONF_OFFER","CONF_ANSWER","CONF_ICE"]);function U2(){const e=localStorage.getItem("token");return e?`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/chat?token=${e}`:null}function Ko(){if(et&&(et.readyState===WebSocket.OPEN||et.readyState===WebSocket.CONNECTING)||Qi)return;const e=U2();e&&(Qi=!0,et=new WebSocket(e),et.onopen=()=>{Qi=!1,console.log("[WS] Connected"),Xf.forEach(t=>t(!0)),mn&&(clearTimeout(mn),mn=null)},et.onmessage=t=>{try{const r=JSON.parse(t.data);D2.has(r.type)?zl.forEach(n=>n(r)):V2.has(r.type)&&$l.forEach(n=>n(r)),Ul.forEach(n=>n(r))}catch{console.warn("[WS] Failed to parse message:",t.data)}},et.onclose=t=>{Qi=!1,console.log("[WS] Disconnected",t.code,t.reason),Xf.forEach(r=>r(!1)),et=null,localStorage.getItem("token")&&(mn=setTimeout(()=>{console.log("[WS] Reconnecting..."),Ko()},3e3))},et.onerror=t=>{Qi=!1,console.error("[WS] Error:",t)})}function z2(){mn&&(clearTimeout(mn),mn=null),et&&(et.close(),et=null)}function ze(e){return et&&et.readyState===WebSocket.OPEN?(et.send(JSON.stringify(e)),!0):(console.warn("[WS] Cannot send  not connected"),!1)}function Cm(e){return Ul.push(e),()=>{Ul=Ul.filter(t=>t!==e)}}function $2(e){return zl.push(e),()=>{zl=zl.filter(t=>t!==e)}}function B2(e){return $l.push(e),()=>{$l=$l.filter(t=>t!==e)}}function ld(e,t,r,n,i,s){return{session:{access_token:e,user:{id:t,email:s||"",role:"authenticated",user_metadata:{username:t,fullname:t,avatar_url:n||"",tag:i||"",bio:"!   BarsikChat!"}}}}}async function H2({username:e,password:t}){const r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.trim(),password:t})});if(!r.ok){let i="    ";try{const s=await r.json();i=s.error||s.message||i}catch{}throw new Error(i)}const n=await r.json();return localStorage.setItem("token",n.token),localStorage.setItem("username",n.username),localStorage.setItem("role",n.role||"USER"),localStorage.setItem("avatarUrl",n.avatarUrl||""),localStorage.setItem("tag",n.tag||""),localStorage.setItem("email",n.email||""),Ko(),ld(n.token,n.username,n.role,n.avatarUrl,n.tag,n.email)}async function Q2({username:e,password:t,tag:r}){const n=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.trim(),password:t,tag:r==null?void 0:r.trim()})});if(!n.ok){let s=" ";try{const l=await n.json();s=l.error||l.message||s}catch{}throw new Error(s)}const i=await n.json();return localStorage.setItem("token",i.token),localStorage.setItem("username",i.username),localStorage.setItem("role",i.role||"USER"),localStorage.setItem("avatarUrl",i.avatarUrl||""),localStorage.setItem("tag",i.tag||""),localStorage.setItem("email",i.email||""),Ko(),ld(i.token,i.username,i.role,i.avatarUrl,i.tag,i.email)}async function W2(){z2(),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("role"),localStorage.removeItem("avatarUrl"),localStorage.removeItem("tag"),localStorage.removeItem("email")}async function G2(){const e=localStorage.getItem("token"),t=localStorage.getItem("username");return!e||!t?{session:null}:(Ko(),ld(e,t,localStorage.getItem("role"),localStorage.getItem("avatarUrl"),localStorage.getItem("tag"),localStorage.getItem("email")))}async function Z2(e){if(!e)return null;try{const t=await we(`/api/profile/${e}`);return{id:t.username,fullname:t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`.trim():t.username,username:t.username,avatar_url:t.avatarUrl||"",bio:t.bio||"",tag:t.tag||"",online:!1,lastSeen:t.lastSeen||null}}catch{return{id:e,fullname:e,username:e,avatar_url:"",bio:"",tag:""}}}function Kt(){var s;const e=mt(),{isLoading:t,data:r}=Zs({queryKey:["user"],queryFn:G2}),n=(s=r==null?void 0:r.session)==null?void 0:s.user,i=()=>{e.invalidateQueries("user")};return{isLoading:t,session:r==null?void 0:r.session,user:n,isAuthenticated:(n==null?void 0:n.role)==="authenticated",invalidateUser:i}}function kt({children:e,onClick:t,addClass:r=""}){return o.jsx("button",{onClick:t,className:`${r} relative z-50 flex flex-shrink-0 items-center justify-center rounded-full text-lg hover:bg-LightShade/20`,children:e})}function K2(){return o.jsx(g2,{className:"h-11 w-11 p-3","aria-label":"Back"})}function q2(){return o.jsx(R2,{className:"h-11 w-11 p-3","aria-label":"Menu"})}function J2(){return o.jsx(id,{className:"h-11 w-11 p-3","aria-label":"Close"})}kt.Back=K2;kt.Menu=q2;kt.Close=J2;var Js=e=>e.type==="checkbox",Yn=e=>e instanceof Date,tt=e=>e==null;const Sm=e=>typeof e=="object";var Me=e=>!tt(e)&&!Array.isArray(e)&&Sm(e)&&!Yn(e),km=e=>Me(e)&&e.target?Js(e.target)?e.target.checked:e.target.value:e,Y2=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Em=(e,t)=>e.has(Y2(t)),X2=e=>{const t=e.constructor&&e.constructor.prototype;return Me(t)&&t.hasOwnProperty("isPrototypeOf")},od=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function lt(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(od&&(e instanceof Blob||e instanceof FileList))&&(r||Me(e)))if(t=r?[]:{},!r&&!X2(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=lt(e[n]));else return e;return t}var qo=e=>Array.isArray(e)?e.filter(Boolean):[],je=e=>e===void 0,M=(e,t,r)=>{if(!t||!Me(e))return r;const n=qo(t.split(/[,[\].]+?/)).reduce((i,s)=>tt(i)?i:i[s],e);return je(n)||n===e?je(e[t])?r:e[t]:n},ir=e=>typeof e=="boolean",ad=e=>/^\w*$/.test(e),jm=e=>qo(e.replace(/["|']|\]/g,"").split(/\.|\[/)),fe=(e,t,r)=>{let n=-1;const i=ad(t)?[t]:jm(t),s=i.length,l=s-1;for(;++n<s;){const a=i[n];let u=r;if(n!==l){const c=e[a];u=Me(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(a==="__proto__")return;e[a]=u,e=e[a]}return e};const ko={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Qt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},dr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ew=ie.createContext(null),ud=()=>ie.useContext(ew);var bm=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const l=s;return t._proxyFormState[l]!==Qt.all&&(t._proxyFormState[l]=!n||Qt.all),r&&(r[l]=!0),e[l]}});return i},xt=e=>Me(e)&&!Object.keys(e).length,Nm=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return xt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(l=>t[l]===(!n||Qt.all))},us=e=>Array.isArray(e)?e:[e],_m=(e,t,r)=>!e||!t||e===t||us(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function cd(e){const t=ie.useRef(e);t.current=e,ie.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function tw(e){const t=ud(),{control:r=t.control,disabled:n,name:i,exact:s}=e||{},[l,a]=ie.useState(r._formState),u=ie.useRef(!0),c=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=ie.useRef(i);return f.current=i,cd({disabled:n,next:d=>u.current&&_m(f.current,d.name,s)&&Nm(d,c.current,r._updateFormState)&&a({...r._formState,...d}),subject:r._subjects.state}),ie.useEffect(()=>(u.current=!0,c.current.isValid&&r._updateValid(!0),()=>{u.current=!1}),[r]),bm(l,r,c.current,!1)}var sr=e=>typeof e=="string",Lm=(e,t,r,n,i)=>sr(e)?(n&&t.watch.add(e),M(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),M(r,s))):(n&&(t.watchAll=!0),r);function rw(e){const t=ud(),{control:r=t.control,name:n,defaultValue:i,disabled:s,exact:l}=e||{},a=ie.useRef(n);a.current=n,cd({disabled:s,subject:r._subjects.values,next:f=>{_m(a.current,f.name,l)&&c(lt(Lm(a.current,r._names,f.values||r._formValues,!1,i)))}});const[u,c]=ie.useState(r._getWatch(n,i));return ie.useEffect(()=>r._removeUnmounted()),u}function nw(e){const t=ud(),{name:r,disabled:n,control:i=t.control,shouldUnregister:s}=e,l=Em(i._names.array,r),a=rw({control:i,name:r,defaultValue:M(i._formValues,r,M(i._defaultValues,r,e.defaultValue)),exact:!0}),u=tw({control:i,name:r}),c=ie.useRef(i.register(r,{...e.rules,value:a,...ir(e.disabled)?{disabled:e.disabled}:{}}));return ie.useEffect(()=>{const f=i._options.shouldUnregister||s,d=(h,v)=>{const C=M(i._fields,h);C&&C._f&&(C._f.mount=v)};if(d(r,!0),f){const h=lt(M(i._options.defaultValues,r));fe(i._defaultValues,r,h),je(M(i._formValues,r))&&fe(i._formValues,r,h)}return()=>{(l?f&&!i._state.action:f)?i.unregister(r):d(r,!1)}},[r,i,l,s]),ie.useEffect(()=>{M(i._fields,r)&&i._updateDisabledField({disabled:n,fields:i._fields,name:r,value:M(i._fields,r)._f.value})},[n,r,i]),{field:{name:r,value:a,...ir(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:ie.useCallback(f=>c.current.onChange({target:{value:km(f),name:r},type:ko.CHANGE}),[r]),onBlur:ie.useCallback(()=>c.current.onBlur({target:{value:M(i._formValues,r),name:r},type:ko.BLUR}),[r,i]),ref:f=>{const d=M(i._fields,r);d&&f&&(d._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:h=>f.setCustomValidity(h),reportValidity:()=>f.reportValidity()})}},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!M(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!M(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!M(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!M(u.validatingFields,r)},error:{enumerable:!0,get:()=>M(u.errors,r)}})}}const gn=e=>e.render(nw(e));var iw=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},eh=e=>({isOnSubmit:!e||e===Qt.onSubmit,isOnBlur:e===Qt.onBlur,isOnChange:e===Qt.onChange,isOnAll:e===Qt.all,isOnTouch:e===Qt.onTouched}),th=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const cs=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=M(e,i);if(s){const{_f:l,...a}=s;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],i)&&!n)break;if(l.ref&&t(l.ref,l.name)&&!n)break;cs(a,t)}else Me(a)&&cs(a,t)}}};var sw=(e,t,r)=>{const n=us(M(e,r));return fe(n,"root",t[r]),fe(e,r,n),e},dd=e=>e.type==="file",Hr=e=>typeof e=="function",Eo=e=>{if(!od)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Bl=e=>sr(e),fd=e=>e.type==="radio",jo=e=>e instanceof RegExp;const rh={value:!1,isValid:!1},nh={value:!0,isValid:!0};var Pm=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!je(e[0].attributes.value)?je(e[0].value)||e[0].value===""?nh:{value:e[0].value,isValid:!0}:nh:rh}return rh};const ih={isValid:!1,value:null};var Rm=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ih):ih;function sh(e,t,r="validate"){if(Bl(e)||Array.isArray(e)&&e.every(Bl)||ir(e)&&!e)return{type:r,message:Bl(e)?e:"",ref:t}}var Vn=e=>Me(e)&&!jo(e)?e:{value:e,message:""},lh=async(e,t,r,n,i)=>{const{ref:s,refs:l,required:a,maxLength:u,minLength:c,min:f,max:d,pattern:h,validate:v,name:C,valueAsNumber:S,mount:E,disabled:m}=e._f,p=M(t,C);if(!E||m)return{};const y=l?l[0]:s,k=W=>{n&&y.reportValidity&&(y.setCustomValidity(ir(W)?"":W||""),y.reportValidity())},N={},R=fd(s),P=Js(s),L=R||P,B=(S||dd(s))&&je(s.value)&&je(p)||Eo(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,O=iw.bind(null,C,r,N),se=(W,F,Y,J=dr.maxLength,Z=dr.minLength)=>{const Q=W?F:Y;N[C]={type:W?J:Z,message:Q,ref:s,...O(W?J:Z,Q)}};if(i?!Array.isArray(p)||!p.length:a&&(!L&&(B||tt(p))||ir(p)&&!p||P&&!Pm(l).isValid||R&&!Rm(l).isValid)){const{value:W,message:F}=Bl(a)?{value:!!a,message:a}:Vn(a);if(W&&(N[C]={type:dr.required,message:F,ref:y,...O(dr.required,F)},!r))return k(F),N}if(!B&&(!tt(f)||!tt(d))){let W,F;const Y=Vn(d),J=Vn(f);if(!tt(p)&&!isNaN(p)){const Z=s.valueAsNumber||p&&+p;tt(Y.value)||(W=Z>Y.value),tt(J.value)||(F=Z<J.value)}else{const Z=s.valueAsDate||new Date(p),Q=z=>new Date(new Date().toDateString()+" "+z),b=s.type=="time",D=s.type=="week";sr(Y.value)&&p&&(W=b?Q(p)>Q(Y.value):D?p>Y.value:Z>new Date(Y.value)),sr(J.value)&&p&&(F=b?Q(p)<Q(J.value):D?p<J.value:Z<new Date(J.value))}if((W||F)&&(se(!!W,Y.message,J.message,dr.max,dr.min),!r))return k(N[C].message),N}if((u||c)&&!B&&(sr(p)||i&&Array.isArray(p))){const W=Vn(u),F=Vn(c),Y=!tt(W.value)&&p.length>+W.value,J=!tt(F.value)&&p.length<+F.value;if((Y||J)&&(se(Y,W.message,F.message),!r))return k(N[C].message),N}if(h&&!B&&sr(p)){const{value:W,message:F}=Vn(h);if(jo(W)&&!p.match(W)&&(N[C]={type:dr.pattern,message:F,ref:s,...O(dr.pattern,F)},!r))return k(F),N}if(v){if(Hr(v)){const W=await v(p,t),F=sh(W,y);if(F&&(N[C]={...F,...O(dr.validate,F.message)},!r))return k(F.message),N}else if(Me(v)){let W={};for(const F in v){if(!xt(W)&&!r)break;const Y=sh(await v[F](p,t),y,F);Y&&(W={...Y,...O(F,Y.message)},k(Y.message),r&&(N[C]=W))}if(!xt(W)&&(N[C]={ref:y,...W},!r))return N}}return k(!0),N};function lw(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=je(e)?n++:e[t[n++]];return e}function ow(e){for(const t in e)if(e.hasOwnProperty(t)&&!je(e[t]))return!1;return!0}function Re(e,t){const r=Array.isArray(t)?t:ad(t)?[t]:jm(t),n=r.length===1?e:lw(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Me(n)&&xt(n)||Array.isArray(n)&&ow(n))&&Re(e,r.slice(0,-1)),e}var Ra=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},bo=e=>tt(e)||!Sm(e);function yn(e,t){if(bo(e)||bo(t))return e===t;if(Yn(e)&&Yn(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Yn(s)&&Yn(l)||Me(s)&&Me(l)||Array.isArray(s)&&Array.isArray(l)?!yn(s,l):s!==l)return!1}}return!0}var Im=e=>e.type==="select-multiple",aw=e=>fd(e)||Js(e),Ia=e=>Eo(e)&&e.isConnected,Om=e=>{for(const t in e)if(Hr(e[t]))return!0;return!1};function No(e,t={}){const r=Array.isArray(e);if(Me(e)||r)for(const n in e)Array.isArray(e[n])||Me(e[n])&&!Om(e[n])?(t[n]=Array.isArray(e[n])?[]:{},No(e[n],t[n])):tt(e[n])||(t[n]=!0);return t}function Am(e,t,r){const n=Array.isArray(e);if(Me(e)||n)for(const i in e)Array.isArray(e[i])||Me(e[i])&&!Om(e[i])?je(t)||bo(r[i])?r[i]=Array.isArray(e[i])?No(e[i],[]):{...No(e[i])}:Am(e[i],tt(t)?{}:t[i],r[i]):r[i]=!yn(e[i],t[i]);return r}var wl=(e,t)=>Am(e,t,No(t)),Mm=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>je(e)?e:t?e===""?NaN:e&&+e:r&&sr(e)?new Date(e):n?n(e):e;function Oa(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return dd(t)?t.files:fd(t)?Rm(e.refs).value:Im(t)?[...t.selectedOptions].map(({value:r})=>r):Js(t)?Pm(e.refs).value:Mm(je(t.value)?e.ref.value:t.value,e)}var uw=(e,t,r,n)=>{const i={};for(const s of e){const l=M(t,s);l&&fe(i,s,l._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Wi=e=>je(e)?e:jo(e)?e.source:Me(e)?jo(e.value)?e.value.source:e.value:e,cw=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function oh(e,t,r){const n=M(e,r);if(n||ad(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),l=M(t,s),a=M(e,s);if(l&&!Array.isArray(l)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:r}}var dw=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,fw=(e,t)=>!qo(M(e,t)).length&&Re(e,t);const hw={mode:Qt.onSubmit,reValidateMode:Qt.onChange,shouldFocusError:!0};function pw(e={}){let t={...hw,...e},r={submitCount:0,isDirty:!1,isLoading:Hr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Me(t.defaultValues)||Me(t.values)?lt(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:lt(i),l={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Ra(),array:Ra(),state:Ra()},h=eh(t.mode),v=eh(t.reValidateMode),C=t.criteriaMode===Qt.all,S=w=>j=>{clearTimeout(c),c=setTimeout(w,j)},E=async w=>{if(f.isValid||w){const j=t.resolver?xt((await L()).errors):await O(n,!0);j!==r.isValid&&d.state.next({isValid:j})}},m=(w,j)=>{(f.isValidating||f.validatingFields)&&((w||Array.from(a.mount)).forEach(_=>{_&&(j?fe(r.validatingFields,_,j):Re(r.validatingFields,_))}),d.state.next({validatingFields:r.validatingFields,isValidating:!xt(r.validatingFields)}))},p=(w,j=[],_,V,T=!0,A=!0)=>{if(V&&_){if(l.action=!0,A&&Array.isArray(M(n,w))){const G=_(M(n,w),V.argA,V.argB);T&&fe(n,w,G)}if(A&&Array.isArray(M(r.errors,w))){const G=_(M(r.errors,w),V.argA,V.argB);T&&fe(r.errors,w,G),fw(r.errors,w)}if(f.touchedFields&&A&&Array.isArray(M(r.touchedFields,w))){const G=_(M(r.touchedFields,w),V.argA,V.argB);T&&fe(r.touchedFields,w,G)}f.dirtyFields&&(r.dirtyFields=wl(i,s)),d.state.next({name:w,isDirty:W(w,j),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else fe(s,w,j)},y=(w,j)=>{fe(r.errors,w,j),d.state.next({errors:r.errors})},k=w=>{r.errors=w,d.state.next({errors:r.errors,isValid:!1})},N=(w,j,_,V)=>{const T=M(n,w);if(T){const A=M(s,w,je(_)?M(i,w):_);je(A)||V&&V.defaultChecked||j?fe(s,w,j?A:Oa(T._f)):J(w,A),l.mount&&E()}},R=(w,j,_,V,T)=>{let A=!1,G=!1;const ue={name:w},Le=!!(M(n,w)&&M(n,w)._f&&M(n,w)._f.disabled);if(!_||V){f.isDirty&&(G=r.isDirty,r.isDirty=ue.isDirty=W(),A=G!==ue.isDirty);const yt=Le||yn(M(i,w),j);G=!!(!Le&&M(r.dirtyFields,w)),yt||Le?Re(r.dirtyFields,w):fe(r.dirtyFields,w,!0),ue.dirtyFields=r.dirtyFields,A=A||f.dirtyFields&&G!==!yt}if(_){const yt=M(r.touchedFields,w);yt||(fe(r.touchedFields,w,_),ue.touchedFields=r.touchedFields,A=A||f.touchedFields&&yt!==_)}return A&&T&&d.state.next(ue),A?ue:{}},P=(w,j,_,V)=>{const T=M(r.errors,w),A=f.isValid&&ir(j)&&r.isValid!==j;if(e.delayError&&_?(u=S(()=>y(w,_)),u(e.delayError)):(clearTimeout(c),u=null,_?fe(r.errors,w,_):Re(r.errors,w)),(_?!yn(T,_):T)||!xt(V)||A){const G={...V,...A&&ir(j)?{isValid:j}:{},errors:r.errors,name:w};r={...r,...G},d.state.next(G)}},L=async w=>{m(w,!0);const j=await t.resolver(s,t.context,uw(w||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return m(w),j},B=async w=>{const{errors:j}=await L(w);if(w)for(const _ of w){const V=M(j,_);V?fe(r.errors,_,V):Re(r.errors,_)}else r.errors=j;return j},O=async(w,j,_={valid:!0})=>{for(const V in w){const T=w[V];if(T){const{_f:A,...G}=T;if(A){const ue=a.array.has(A.name);m([V],!0);const Le=await lh(T,s,C,t.shouldUseNativeValidation&&!j,ue);if(m([V]),Le[A.name]&&(_.valid=!1,j))break;!j&&(M(Le,A.name)?ue?sw(r.errors,Le,A.name):fe(r.errors,A.name,Le[A.name]):Re(r.errors,A.name))}G&&await O(G,j,_)}}return _.valid},se=()=>{for(const w of a.unMount){const j=M(n,w);j&&(j._f.refs?j._f.refs.every(_=>!Ia(_)):!Ia(j._f.ref))&&pe(w)}a.unMount=new Set},W=(w,j)=>(w&&j&&fe(s,w,j),!yn(K(),i)),F=(w,j,_)=>Lm(w,a,{...l.mount?s:je(j)?i:sr(w)?{[w]:j}:j},_,j),Y=w=>qo(M(l.mount?s:i,w,e.shouldUnregister?M(i,w,[]):[])),J=(w,j,_={})=>{const V=M(n,w);let T=j;if(V){const A=V._f;A&&(!A.disabled&&fe(s,w,Mm(j,A)),T=Eo(A.ref)&&tt(j)?"":j,Im(A.ref)?[...A.ref.options].forEach(G=>G.selected=T.includes(G.value)):A.refs?Js(A.ref)?A.refs.length>1?A.refs.forEach(G=>(!G.defaultChecked||!G.disabled)&&(G.checked=Array.isArray(T)?!!T.find(ue=>ue===G.value):T===G.value)):A.refs[0]&&(A.refs[0].checked=!!T):A.refs.forEach(G=>G.checked=G.value===T):dd(A.ref)?A.ref.value="":(A.ref.value=T,A.ref.type||d.values.next({name:w,values:{...s}})))}(_.shouldDirty||_.shouldTouch)&&R(w,T,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&z(w)},Z=(w,j,_)=>{for(const V in j){const T=j[V],A=`${w}.${V}`,G=M(n,A);(a.array.has(w)||!bo(T)||G&&!G._f)&&!Yn(T)?Z(A,T,_):J(A,T,_)}},Q=(w,j,_={})=>{const V=M(n,w),T=a.array.has(w),A=lt(j);fe(s,w,A),T?(d.array.next({name:w,values:{...s}}),(f.isDirty||f.dirtyFields)&&_.shouldDirty&&d.state.next({name:w,dirtyFields:wl(i,s),isDirty:W(w,A)})):V&&!V._f&&!tt(A)?Z(w,A,_):J(w,A,_),th(w,a)&&d.state.next({...r}),d.values.next({name:l.mount?w:void 0,values:{...s}})},b=async w=>{l.mount=!0;const j=w.target;let _=j.name,V=!0;const T=M(n,_),A=()=>j.type?Oa(T._f):km(w),G=ue=>{V=Number.isNaN(ue)||ue===M(s,_,ue)};if(T){let ue,Le;const yt=A(),Fn=w.type===ko.BLUR||w.type===ko.FOCUS_OUT,qm=!cw(T._f)&&!t.resolver&&!M(r.errors,_)&&!T._f.deps||dw(Fn,M(r.touchedFields,_),r.isSubmitted,v,h),Xo=th(_,a,Fn);fe(s,_,yt),Fn?(T._f.onBlur&&T._f.onBlur(w),u&&u(0)):T._f.onChange&&T._f.onChange(w);const ea=R(_,yt,Fn,!1),Jm=!xt(ea)||Xo;if(!Fn&&d.values.next({name:_,type:w.type,values:{...s}}),qm)return f.isValid&&E(),Jm&&d.state.next({name:_,...Xo?{}:ea});if(!Fn&&Xo&&d.state.next({...r}),t.resolver){const{errors:Sd}=await L([_]);if(G(yt),V){const Ym=oh(r.errors,n,_),kd=oh(Sd,n,Ym.name||_);ue=kd.error,_=kd.name,Le=xt(Sd)}}else m([_],!0),ue=(await lh(T,s,C,t.shouldUseNativeValidation))[_],m([_]),G(yt),V&&(ue?Le=!1:f.isValid&&(Le=await O(n,!0)));V&&(T._f.deps&&z(T._f.deps),P(_,Le,ue,ea))}},D=(w,j)=>{if(M(r.errors,j)&&w.focus)return w.focus(),1},z=async(w,j={})=>{let _,V;const T=us(w);if(t.resolver){const A=await B(je(w)?w:T);_=xt(A),V=w?!T.some(G=>M(A,G)):_}else w?(V=(await Promise.all(T.map(async A=>{const G=M(n,A);return await O(G&&G._f?{[A]:G}:G)}))).every(Boolean),!(!V&&!r.isValid)&&E()):V=_=await O(n);return d.state.next({...!sr(w)||f.isValid&&_!==r.isValid?{}:{name:w},...t.resolver||!w?{isValid:_}:{},errors:r.errors}),j.shouldFocus&&!V&&cs(n,D,w?T:a.mount),V},K=w=>{const j={...l.mount?s:i};return je(w)?j:sr(w)?M(j,w):w.map(_=>M(j,_))},re=(w,j)=>({invalid:!!M((j||r).errors,w),isDirty:!!M((j||r).dirtyFields,w),error:M((j||r).errors,w),isValidating:!!M(r.validatingFields,w),isTouched:!!M((j||r).touchedFields,w)}),_e=w=>{w&&us(w).forEach(j=>Re(r.errors,j)),d.state.next({errors:w?r.errors:{}})},ve=(w,j,_)=>{const V=(M(n,w,{_f:{}})._f||{}).ref,T=M(r.errors,w)||{},{ref:A,message:G,type:ue,...Le}=T;fe(r.errors,w,{...Le,...j,ref:V}),d.state.next({name:w,errors:r.errors,isValid:!1}),_&&_.shouldFocus&&V&&V.focus&&V.focus()},Tt=(w,j)=>Hr(w)?d.values.subscribe({next:_=>w(F(void 0,j),_)}):F(w,j,!0),pe=(w,j={})=>{for(const _ of w?us(w):a.mount)a.mount.delete(_),a.array.delete(_),j.keepValue||(Re(n,_),Re(s,_)),!j.keepError&&Re(r.errors,_),!j.keepDirty&&Re(r.dirtyFields,_),!j.keepTouched&&Re(r.touchedFields,_),!j.keepIsValidating&&Re(r.validatingFields,_),!t.shouldUnregister&&!j.keepDefaultValue&&Re(i,_);d.values.next({values:{...s}}),d.state.next({...r,...j.keepDirty?{isDirty:W()}:{}}),!j.keepIsValid&&E()},le=({disabled:w,name:j,field:_,fields:V,value:T})=>{if(ir(w)&&l.mount||w){const A=w?void 0:je(T)?Oa(_?_._f:M(V,j)._f):T;fe(s,j,A),R(j,A,!1,!1,!0)}},ce=(w,j={})=>{let _=M(n,w);const V=ir(j.disabled);return fe(n,w,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:w}},name:w,mount:!0,...j}}),a.mount.add(w),_?le({field:_,disabled:j.disabled,name:w,value:j.value}):N(w,!0,j.value),{...V?{disabled:j.disabled}:{},...t.progressive?{required:!!j.required,min:Wi(j.min),max:Wi(j.max),minLength:Wi(j.minLength),maxLength:Wi(j.maxLength),pattern:Wi(j.pattern)}:{},name:w,onChange:b,onBlur:b,ref:T=>{if(T){ce(w,j),_=M(n,w);const A=je(T.value)&&T.querySelectorAll&&T.querySelectorAll("input,select,textarea")[0]||T,G=aw(A),ue=_._f.refs||[];if(G?ue.find(Le=>Le===A):A===_._f.ref)return;fe(n,w,{_f:{..._._f,...G?{refs:[...ue.filter(Ia),A,...Array.isArray(M(i,w))?[{}]:[]],ref:{type:A.type,name:w}}:{ref:A}}}),N(w,!1,void 0,A)}else _=M(n,w,{}),_._f&&(_._f.mount=!1),(t.shouldUnregister||j.shouldUnregister)&&!(Em(a.array,w)&&l.action)&&a.unMount.add(w)}}},ae=()=>t.shouldFocusError&&cs(n,D,a.mount),qt=w=>{ir(w)&&(d.state.next({disabled:w}),cs(n,(j,_)=>{const V=M(n,_);V&&(j.disabled=V._f.disabled||w,Array.isArray(V._f.refs)&&V._f.refs.forEach(T=>{T.disabled=V._f.disabled||w}))},0,!1))},gt=(w,j)=>async _=>{let V;_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let T=lt(s);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:A,values:G}=await L();r.errors=A,T=G}else await O(n);if(Re(r.errors,"root"),xt(r.errors)){d.state.next({errors:{}});try{await w(T,_)}catch(A){V=A}}else j&&await j({...r.errors},_),ae(),setTimeout(ae);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xt(r.errors)&&!V,submitCount:r.submitCount+1,errors:r.errors}),V)throw V},Ft=(w,j={})=>{M(n,w)&&(je(j.defaultValue)?Q(w,lt(M(i,w))):(Q(w,j.defaultValue),fe(i,w,lt(j.defaultValue))),j.keepTouched||Re(r.touchedFields,w),j.keepDirty||(Re(r.dirtyFields,w),r.isDirty=j.defaultValue?W(w,lt(M(i,w))):W()),j.keepError||(Re(r.errors,w),f.isValid&&E()),d.state.next({...r}))},wd=(w,j={})=>{const _=w?lt(w):i,V=lt(_),T=xt(w),A=T?i:V;if(j.keepDefaultValues||(i=_),!j.keepValues){if(j.keepDirtyValues)for(const G of a.mount)M(r.dirtyFields,G)?fe(A,G,M(s,G)):Q(G,M(A,G));else{if(od&&je(w))for(const G of a.mount){const ue=M(n,G);if(ue&&ue._f){const Le=Array.isArray(ue._f.refs)?ue._f.refs[0]:ue._f.ref;if(Eo(Le)){const yt=Le.closest("form");if(yt){yt.reset();break}}}}n={}}s=e.shouldUnregister?j.keepDefaultValues?lt(i):{}:lt(A),d.array.next({values:{...A}}),d.values.next({values:{...A}})}a={mount:j.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!f.isValid||!!j.keepIsValid||!!j.keepDirtyValues,l.watch=!!e.shouldUnregister,d.state.next({submitCount:j.keepSubmitCount?r.submitCount:0,isDirty:T?!1:j.keepDirty?r.isDirty:!!(j.keepDefaultValues&&!yn(w,i)),isSubmitted:j.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:T?{}:j.keepDirtyValues?j.keepDefaultValues&&s?wl(i,s):r.dirtyFields:j.keepDefaultValues&&w?wl(i,w):j.keepDirty?r.dirtyFields:{},touchedFields:j.keepTouched?r.touchedFields:{},errors:j.keepErrors?r.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Cd=(w,j)=>wd(Hr(w)?w(s):w,j);return{control:{register:ce,unregister:pe,getFieldState:re,handleSubmit:gt,setError:ve,_executeSchema:L,_getWatch:F,_getDirty:W,_updateValid:E,_removeUnmounted:se,_updateFieldArray:p,_updateDisabledField:le,_getFieldArray:Y,_reset:wd,_resetDefaultValues:()=>Hr(t.defaultValues)&&t.defaultValues().then(w=>{Cd(w,t.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:w=>{r={...r,...w}},_disableForm:qt,_subjects:d,_proxyFormState:f,_setErrors:k,get _fields(){return n},get _formValues(){return s},get _state(){return l},set _state(w){l=w},get _defaultValues(){return i},get _names(){return a},set _names(w){a=w},get _formState(){return r},set _formState(w){r=w},get _options(){return t},set _options(w){t={...t,...w}}},trigger:z,register:ce,handleSubmit:gt,watch:Tt,setValue:Q,getValues:K,reset:Cd,resetField:Ft,clearErrors:_e,unregister:pe,setError:ve,setFocus:(w,j={})=>{const _=M(n,w),V=_&&_._f;if(V){const T=V.refs?V.refs[0]:V.ref;T.focus&&(T.focus(),j.shouldSelect&&T.select())}},getFieldState:re}}function hd(e={}){const t=ie.useRef(),r=ie.useRef(),[n,i]=ie.useState({isDirty:!1,isValidating:!1,isLoading:Hr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Hr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...pw(e),formState:n});const s=t.current.control;return s._options=e,cd({subject:s._subjects.state,next:l=>{Nm(l,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),ie.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ie.useEffect(()=>{if(s._proxyFormState.isDirty){const l=s._getDirty();l!==n.isDirty&&s._subjects.state.next({isDirty:l})}},[s,n.isDirty]),ie.useEffect(()=>{e.values&&!yn(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(l=>({...l}))):s._resetDefaultValues()},[e.values,s]),ie.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),ie.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ie.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=bm(n,s),t.current}function Aa({minLength:e=1,maxLength:t,label:r,oldValue:n="",updateKey:i="none",regex:s,patternMessage:l,checkUsername:a,isChecking:u,isTaken:c,isBusy:f,reset:d}){const{handleSubmit:h,watch:v,setError:C,clearErrors:S,control:E,formState:{errors:m}}=hd({defaultValues:{[i]:n}}),p=v(i),y=t-p.length,{updateUser:k,isUpdating:N}=rd(),[R,P]=g.useState(!1),L=g.useRef(null);g.useEffect(()=>{R&&L.current.focus()},[R]),g.useEffect(()=>{i==="username"&&(u?C(i,{type:"checking",message:"Checking..."}):c?C(i,{type:"server",message:"Username is already taken."}):S(i))},[u,c,C,S,i]);function B(O){if(!R){P(!0);return}const se=O[i].trim();if(se===n){P(!1),d&&d();return}!N&&!f&&!c&&k({[i]:se},{onSuccess:()=>{te.dismiss(),te.success(`Updated ${r.toLowerCase()} successfully!`),P(!1),d&&d()},onError:W=>{C(i,{type:"server",message:W.message})}})}return o.jsxs("form",{onSubmit:h(B),className:"mt-5",children:[o.jsxs("div",{className:"flex h-11 items-center justify-between",children:[o.jsx("label",{htmlFor:i,className:"select-none text-sm font-bold tracking-wider text-textAccent opacity-80 dark:text-textAccent-dark",children:r}),i!=="none"&&o.jsx("button",{disabled:N||f||c,type:"submit",className:"flex h-11 w-11 items-center justify-center rounded-full text-xl text-textAccent hover:bg-LightShade/20 dark:text-textAccent-dark",children:N?o.jsx(He,{}):R?o.jsx(_2,{"aria-label":"Update"}):o.jsx(C2,{"aria-label":"Edit"})})]}),R?o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(gn,{name:i,control:E,rules:{required:`Enter your ${r}`,pattern:{value:s,message:l||"Invalid input."},maxLength:{value:t,message:`Maximum ${t} characters allowed.`},minLength:{value:e,message:`Minimum ${e} characters required.`},validate:O=>i==="username"?a(O,n):!0},render:({field:O})=>o.jsx("input",{...O,autoComplete:"off",autoCapitalize:"none",onBlur:()=>O.onBlur(),id:i,type:"text",ref:se=>{O.ref(se),L.current=se},maxLength:t,className:`${m[i]&&m[i].type!=="checking"?"border-RedColor":"border-textAccent dark:border-textAccent-dark"} h-10 w-full rounded-md border-b-2 bg-bgSecondary px-2 text-base text-textPrimary outline-none dark:bg-LightShade/20 dark:text-textPrimary-dark`})}),o.jsx("span",{className:"mt-3 flex w-11 select-none items-start justify-center text-xs text-textAccent dark:text-textAccent-dark",children:y})]}),m[i]&&m[i].message&&o.jsx("p",{className:`mt-1 text-xs ${m[i].type==="checking"?"text-textAccent-dark":"text-RedColor"}`,children:m[i].message})]}):o.jsxs("p",{className:"self-center text-base",children:[r==="Username"?"@":"",p]})]})}async function mw(e){if(e)try{const t=await we(`/api/profile/${e}`);return t!=null&&t.username?{username:t.username}:null}catch{return null}}function gw(){const[e,t]=g.useState(""),[r,n]=g.useState(""),[i,s]=g.useState(!1),[l,a]=g.useState(!1),[u,c]=g.useState(!1);g.useEffect(()=>{if(!r||r.length<yo||r.length>vo||!Jc.test(r)){s(!1);return}const h=setTimeout(()=>{a(!0),mw(r).then(v=>{if((v==null?void 0:v.username)===r)if(e===r){c(!1);return}else c(!0);else{c(!1);return}}).catch(v=>{console.error(v)}).finally(()=>{a(!1),s(!1)})},500);return()=>clearTimeout(h)},[r,e]);const f=(h,v)=>{s(!0),n(h.trim()),v&&t(v.trim())};function d(){n(""),t(""),s(!1),a(!1),c(!1)}return{isBusy:i,isChecking:l,isTaken:u,checkUsername:f,reset:d}}function yw(){var d,h,v,C;const{isBusy:e,isChecking:t,isTaken:r,checkUsername:n,reset:i}=gw(),{user:s}=Kt(),l=((d=s==null?void 0:s.user_metadata)==null?void 0:d.fullname)||"",a=((h=s==null?void 0:s.user_metadata)==null?void 0:h.username)||"",u=((v=s==null?void 0:s.user_metadata)==null?void 0:v.bio)||"",c=((C=s==null?void 0:s.user_metadata)==null?void 0:C.avatar_url)||"",{closeAccountView:f}=pt();return o.jsxs("div",{className:"fadeIn grid h-screen-safe grid-rows-[auto_1fr] bg-bgPrimary dark:bg-bgPrimary-dark",children:[o.jsxs("div",{className:"flex h-16 items-center justify-start gap-4 bg-LightShade/10 p-2",children:[o.jsx(kt,{onClick:f,children:o.jsx(kt.Back,{})}),o.jsx("p",{className:"select-none font-bold tracking-wider",children:""})]}),o.jsxs("div",{tabIndex:-1,className:"h-full overflow-scroll p-10",children:[o.jsx(T2,{avatar:c}),o.jsx(Aa,{label:"",oldValue:l,updateKey:"fullname",maxLength:Av,regex:Dv,patternMessage:" ,    ."}),o.jsx(Aa,{label:"",oldValue:a,updateKey:"username",minLength:yo,maxLength:vo,regex:Jc,patternMessage:"  , , _  -.",checkUsername:n,isChecking:t,isTaken:r,isBusy:e,reset:i}),o.jsx(Aa,{label:" ",oldValue:u,updateKey:"bio",maxLength:Ov}),o.jsx(F2,{})]})]})}function vw(){return o.jsx("div",{className:"bg-LightShade/20 p-2 text-xs",children:o.jsxs("p",{className:"text-center opacity-80",children:[" ",new Date().getFullYear()," BarsikChat"]})})}async function xw(e){if(!e||e.length<2)return[];const t=await we(`/api/chat/users?search=${encodeURIComponent(e)}`);if(!t||!Array.isArray(t))return[];const r=localStorage.getItem("username");return t.filter(n=>n.username!==r).map(n=>({id:n.username,fullname:n.username,username:n.username,avatar_url:n.avatarUrl||"",bio:"",tag:n.tag||"",online:n.online||!1}))}async function ww(e){if(!e||e.length<2)return[];const t=await we("/api/rooms");if(!t||!Array.isArray(t))return[];const r=e.toLowerCase();return t.filter(n=>{var i,s;return n.type==="ROOM"&&(((i=n.name)==null?void 0:i.toLowerCase().includes(r))||((s=n.description)==null?void 0:s.toLowerCase().includes(r)))}).map(n=>({id:n.id,name:n.name||"",description:n.description||"",avatarUrl:n.avatarUrl||"",members:n.members||[],type:"group"}))}function Cw(){const{searchQuery:e}=pt(),t=e.trim(),{user:{id:r}}=Kt(),[n,i]=g.useState([]),[s,l]=g.useState([]),[a,u]=g.useState(!0),[c,f]=g.useState(!1),[d,h]=g.useState("");return g.useEffect(function(){const C=new AbortController;let S;async function E(){try{f(!0),h("");const[m,p]=await Promise.all([xw(t),ww(t)]);i(m),l(p),h(""),u(!1)}catch(m){m.name!=="AbortError"&&(h(m.message),te.error(m.message))}finally{f(!1)}}if(t.length<Mv){u(!0),h(""),f(!1);return}else u(!1);return f(!0),clearTimeout(S),S=setTimeout(()=>{E()},1e3),function(){C.abort(),clearTimeout(S)}},[t]),{users:n==null?void 0:n.filter(C=>C.id!==r),groups:s,isShortQuery:a,isLoading:c,error:d}}function pd(e){return g.useCallback(r=>{r.key==="Enter"&&e(r)},[e])}function md({id:e,name:t,avatar:r,subtext:n,handler:i,shouldReplace:s=!1}){const{userId:l}=Wo(),a=l===e,u=ur();function c(){i(),u(`/chat/${e}`,{replace:s})}const f=pd(c);return o.jsxs("div",{className:`${a?"pointer-events-none bg-gradient-to-r text-textPrimary-dark sm:from-bgAccentDim sm:to-bgAccent dark:sm:from-bgAccentDim-dark dark:sm:to-bgAccent-dark":"hover:bg-LightShade/20"} flex cursor-pointer select-none items-center gap-2 rounded-lg p-2 `,onClick:c,onKeyDown:f,role:"button",tabIndex:0,children:[o.jsx("span",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center overflow-hidden rounded-full",children:r?o.jsx("img",{src:r,alt:t,className:"pointer-events-none h-full w-full object-cover"}):o.jsx(Go,{className:"h-full w-full opacity-50",strokeWidth:"1"})}),o.jsxs("span",{className:"flex flex-col overflow-hidden ",children:[o.jsx("span",{className:"truncate font-bold",children:t}),o.jsx("span",{className:"truncate text-sm opacity-70",children:n})]})]})}function gd({group:e,handler:t}){var u,c,f;const{roomId:r}=Wo(),n=r===e.id,i=ur();function s(){t(),i(`/chat/room/${encodeURIComponent(e.id)}`)}const l=pd(s),a=`${((u=e.members)==null?void 0:u.length)||0} ${(((c=e.members)==null?void 0:c.length)||0)===1?"":(((f=e.members)==null?void 0:f.length)||0)<5?"":""}`;return o.jsxs("div",{className:`${n?"pointer-events-none bg-gradient-to-r text-textPrimary-dark sm:from-bgAccentDim sm:to-bgAccent dark:sm:from-bgAccentDim-dark dark:sm:to-bgAccent-dark":"hover:bg-LightShade/20"} flex cursor-pointer select-none items-center gap-2 rounded-lg p-2`,onClick:s,onKeyDown:l,role:"button",tabIndex:0,children:[o.jsx("span",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center overflow-hidden rounded-full bg-bgAccent/20 dark:bg-bgAccent-dark/20",children:e.avatarUrl?o.jsx("img",{src:e.avatarUrl,alt:e.name,className:"pointer-events-none h-full w-full object-cover"}):o.jsx(Hv,{size:28,opacity:.6})}),o.jsxs("span",{className:"flex flex-col overflow-hidden",children:[o.jsx("span",{className:"truncate font-bold",children:e.name}),o.jsx("span",{className:"truncate text-sm opacity-70",children:e.description||a})]})]})}function Ke({children:e,opacity:t=60}){return o.jsx("span",{className:`slideUpMessage my-4 flex select-none items-center justify-center opacity-${t}`,children:e})}function Sw(){const{users:e,groups:t,isShortQuery:r,isLoading:n,error:i}=Cw(),{closeSearchView:s,closeSidebar:l}=pt();if(r)return o.jsx(Ke,{children:"   "});if(n)return o.jsx(Ke,{opacity:100,children:o.jsx(He,{text:"...",size:"medium"})});if(i)return o.jsx(Ke,{children:" -   !"});const a=(e==null?void 0:e.length)>0,u=(t==null?void 0:t.length)>0;return!a&&!u?o.jsx(Ke,{children:"  "}):o.jsxs("div",{className:"fadeIn p-2",children:[a&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"mb-1 px-2 text-xs font-semibold uppercase tracking-wider text-textPrimary/40 dark:text-textPrimary-dark/40",children:""}),e.map(({id:c,avatar_url:f,fullname:d,username:h})=>o.jsx(md,{id:c,avatar:f,name:d,subtext:h,handler:()=>s({back:!1}),shouldReplace:!0},c))]}),u&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"mb-1 mt-3 px-2 text-xs font-semibold uppercase tracking-wider text-textPrimary/40 dark:text-textPrimary-dark/40",children:""}),t.map(c=>o.jsx(gd,{group:c,handler:()=>{s({back:!1}),l()}},c.id))]})]})}function Tm({onClick:e,userData:t}){const r=t==null?void 0:t.fullname,n=t==null?void 0:t.username,i=t==null?void 0:t.avatar_url,s=pd(e);return t?o.jsxs("div",{className:"mr-auto grid cursor-pointer grid-cols-[2.5rem_1fr] gap-4 truncate rounded-lg border border-LightShade/20 bg-LightShade/5 p-2 hover:bg-LightShade/20",onClick:e,onKeyDown:s,role:"button",tabIndex:0,children:[o.jsx("div",{className:"flex h-11 w-11 items-center justify-center overflow-hidden rounded-full",children:i?o.jsx("img",{src:i,alt:r,className:"pointer-events-none h-full w-full object-cover"}):o.jsx(Go,{className:"h-full w-full opacity-50",strokeWidth:"1"})}),o.jsxs("div",{className:"truncate text-left",children:[o.jsx("p",{className:"truncate",children:r}),o.jsxs("p",{className:"truncate text-sm opacity-70",children:["@",n]})]})]}):o.jsx("span",{children:""})}function Fm(){const{resetUi:e}=pt(),t=ur(),r=mt(),{mutate:n,isPending:i}=Ks({mutationFn:W2,onSuccess:()=>{r.removeQueries(),e(),t("/signin")},onError:s=>{te.error(s.message)}});return{signout:n,isPending:i}}function Ue({children:e}){return o.jsx("div",{className:"fadeIn absolute left-4 top-12 z-50 w-60 divide-y divide-LightShade/20 rounded-lg bg-bgPrimary p-2 shadow-[0_10px_60px_rgba(0,0,0,0.3)] dark:divide-LightShade/50  dark:bg-bgTertiary",children:e})}function yd({children:e}){return o.jsx("div",{className:"px-4 py-3 text-lg",children:e})}function kw({children:e}){return o.jsx("div",{className:"truncate",children:e})}function Ew({children:e}){return o.jsx("div",{className:"truncate text-sm opacity-70",children:e})}function jw({children:e}){return o.jsx("ul",{className:"py-2","aria-labelledby":"dropdownInformationButton",children:e})}const Jo="focus:outline-none cursor-pointer flex w-full items-center gap-2 rounded-md px-4 py-2 text-base hover:bg-LightShade/10 dark:hover:text-textPrimary-dark focus:ring-2 focus:ring-bgAccent";function bw({children:e,href:t}){return o.jsx("li",{children:o.jsx("a",{className:Jo,href:t,target:"_blank",rel:"noopener noreferrer",children:e})})}function Nw({children:e,to:t}){return o.jsx("li",{children:o.jsx(qc,{to:t,className:Jo,children:e})})}function _w({children:e,onClick:t}){return o.jsx("li",{children:o.jsx("button",{className:Jo,onClick:()=>t(),children:e})})}function Lw({children:e,toggler:t,isChecked:r}){return o.jsx("li",{children:o.jsxs("label",{onChange:()=>t(),onKeyDown:n=>{n.key==="Enter"&&t()},className:Jo+" justify-between",tabIndex:0,children:[o.jsx("span",{className:"flex items-center gap-2",children:e}),o.jsxs("div",{className:"relative flex",children:[o.jsx("input",{checked:r,type:"checkbox",onChange:()=>t(),tabIndex:-1,className:"peer sr-only"}),o.jsx("div",{className:"peer h-5 w-9 rounded-full bg-LightShade/20 shadow-sm after:absolute after:start-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:bg-bgPrimary after:shadow-md after:transition-all after:content-[''] peer-checked:bg-bgAccent peer-checked:after:translate-x-full rtl:peer-checked:after:translate-x-[-100%]"})]})]})})}function Pw(){return o.jsx("div",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 truncate text-center text-xs",children:[o.jsx("img",{className:"h-6 rounded-full border-2 border-LightShade/20",src:"/images/barsik-logo.svg",alt:"BarsikChat"}),o.jsxs("span",{className:" opacity-60",children:[_i," ",Rv]})]})})}Ue.Header=yd;yd.Name=kw;yd.Email=Ew;Ue.List=jw;Ue.LinkItem=bw;Ue.RouteItem=Nw;Ue.ButtonItem=_w;Ue.TogglerItem=Lw;Ue.Footer=Pw;function Rw(){var f;const{user:e}=Kt(),t=((f=e==null?void 0:e.user_metadata)==null?void 0:f.fullname)||(e==null?void 0:e.id)||"",r=(e==null?void 0:e.email)||"",{openAccountView:n,isDarkMode:i,toggleDarkMode:s,isMenuOpen:l,toggleMenu:a}=pt(),{signout:u,isPending:c}=Fm();return o.jsx(Yc,{isOpen:l,toggle:a,withOverlay:!1,children:o.jsxs(Ue,{children:[o.jsxs(Ue.Header,{children:[o.jsx(Ue.Header.Name,{children:t}),r&&o.jsx(Ue.Header.Email,{children:r})]}),o.jsxs(Ue.List,{children:[o.jsxs(Ue.ButtonItem,{onClick:n,children:[o.jsx(O2,{}),o.jsx("div",{children:" "})]}),o.jsxs(Ue.TogglerItem,{isChecked:i,toggler:s,children:[o.jsx(M2,{}),o.jsx("div",{children:" "})]}),o.jsxs(Ue.LinkItem,{href:"#",children:[o.jsx(S2,{}),o.jsx("div",{children:"  "})]}),o.jsxs(Ue.ButtonItem,{onClick:u,children:[c?o.jsx(He,{}):o.jsx(wm,{}),o.jsx("div",{children:""})]})]}),o.jsx(Ue.Footer,{})]})})}function Iw(){const{signout:e,isPending:t}=Fm();function r(){e()}return o.jsxs("button",{className:"flex flex-shrink-0 items-center justify-center gap-2 rounded-full border border-LightShade/20 bg-LightShade/5 p-3  shadow-sm hover:bg-LightShade/20",disabled:t,onClick:r,children:[t?o.jsx(He,{}):o.jsx(wm,{"aria-label":"logout"}),o.jsx("span",{className:"hidden xm:block",children:"Sign out"})]})}function Ow(){const{user:e}=Kt(),t=e==null?void 0:e.user_metadata,{openAccountView:r,isSearchViewOpen:n,closeSearchView:i,isMenuOpen:s,toggleMenu:l}=pt();function a(){n?i():l()}return o.jsxs("div",{className:"mb-4 flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(kt,{onClick:a,children:[n&&o.jsx(kt.Back,{}),s&&o.jsx(kt.Close,{}),!n&&!s&&o.jsx(kt.Menu,{})]}),s&&o.jsx(Rw,{})]}),o.jsx(Tm,{userData:t,onClick:r}),o.jsx(Iw,{})]})}function Aw(){const{isSearchViewOpen:e,openSearchView:t,searchQuery:r,updateSearchQuery:n}=pt(),i=g.useRef(null);return g.useEffect(()=>{!e&&i.current&&i.current.blur()},[e]),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"searchPeople",className:"sr-only",children:"   "}),o.jsx("input",{id:"searchPeople",className:"flex w-full grow items-center justify-between self-stretch overflow-hidden rounded-full border border-LightShade/20 bg-LightShade/10 p-2 pl-9 outline-none transition-all duration-200 ease-in-out focus:ring-2 focus:ring-bgAccent",value:r,onChange:s=>n(s.target.value),type:"text",onClick:()=>t(),placeholder:"   ","aria-label":"   ",ref:i}),o.jsx("span",{className:"pointer-events-none absolute left-3 top-3 text-xl opacity-30",children:o.jsx(I2,{"aria-label":"search icon"})})]})}async function Mw(){return await we("/api/rooms")||[]}async function Tw({myUserId:e}){const r=(await Mw()).filter(i=>i.type==="PRIVATE"||i.type==="ROOM"),n=await Promise.all(r.map(async i=>{var u;const s=i.type==="ROOM",l=s?null:((u=i.members)==null?void 0:u.find(c=>c!==e))||"";let a=null;try{const c=await we(`/api/rooms/${encodeURIComponent(i.id)}/history?page=0&size=1`);c&&c.length>0&&(a={content:c[0].content||"",created_at:c[0].timestamp||i.createdAt,sender_id:c[0].sender||""})}catch{}return s?{id:i.id,isGroup:!0,last_message:a,created_at:i.createdAt,friendInfo:{id:i.id,fullname:i.name||"",username:i.name||i.id,avatar_url:i.avatarUrl||"",bio:i.description||""},members:i.members}:{id:i.id,user1_id:e,user2_id:l,last_message:a,created_at:i.createdAt,friendInfo:{id:l,fullname:l,username:l,avatar_url:i.avatarUrl||"",bio:""}}}));return n.sort((i,s)=>{var u,c;const l=((u=i.last_message)==null?void 0:u.created_at)||i.created_at||"";return(((c=s.last_message)==null?void 0:c.created_at)||s.created_at||"").localeCompare(l)}),n}async function Dm({conversation_id:e,pageParam:t=0}){if(!e)return[];const r=Fv,n=t,i=await we(`/api/rooms/${encodeURIComponent(e)}/history?page=${n}&size=${r}`);return!i||!Array.isArray(i)?[]:i.map(l=>({id:l.id,conversation_id:e,content:l.content||"",sender_id:l.sender,created_at:l.timestamp,type:l.type||"CHAT",fileUrl:l.fileUrl||null,fileName:l.fileName||null,fileSize:l.fileSize||0,fileType:l.fileType||null,duration:l.duration||null,waveform:l.waveform||null,thumbnailUrl:l.thumbnailUrl||null,edited:l.edited||!1})).reverse()}async function Yo(e){const t=await we(`/api/rooms/private/${encodeURIComponent(e)}`,{method:"POST"});return t==null?void 0:t.id}async function Fw({id:e,conversation_id:t,content:r,friendUserId:n}){let i=t;if(i||(i=await Yo(n)),!ze({type:"CHAT",roomId:i,content:r,id:e}))throw new Error("   .  .");return{id:e,conversation_id:i,content:r,sender_id:localStorage.getItem("username"),created_at:new Date().toISOString(),type:"CHAT"}}async function vd(e){const t=new FormData;return t.append("file",e),await we("/api/upload/file",{method:"POST",body:t})}async function Dw({id:e,conversation_id:t,friendUserId:r,file:n}){let i=t;i||(i=await Yo(r));const s=await vd(n),l={type:"CHAT",roomId:i,content:` ${s.originalName||n.name}`,id:e,fileUrl:s.url,fileName:s.originalName||n.name,fileSize:s.size||n.size,fileType:s.contentType||n.type};if(!ze(l))throw new Error("   .  .");return{id:e,conversation_id:i,content:l.content,sender_id:localStorage.getItem("username"),created_at:new Date().toISOString(),type:"CHAT",fileUrl:s.url,fileName:l.fileName,fileSize:l.fileSize,fileType:l.fileType}}async function Vw({id:e,conversation_id:t,friendUserId:r,blob:n,duration:i}){let s=t;s||(s=await Yo(r));const l=new File([n],`voice_${Date.now()}.webm`,{type:n.type||"audio/webm"}),a=await vd(l),u={type:"VOICE",roomId:s,content:"  ",id:e,fileUrl:a.url,fileName:a.originalName||l.name,fileSize:a.size||n.size,fileType:a.contentType||"audio/webm",duration:Math.round(i)};if(!ze(u))throw new Error("   .  .");return{id:e,conversation_id:s,content:u.content,sender_id:localStorage.getItem("username"),created_at:new Date().toISOString(),type:"VOICE",fileUrl:a.url,fileName:u.fileName,duration:u.duration}}async function Uw({id:e,conversation_id:t,friendUserId:r,blob:n,duration:i}){let s=t;s||(s=await Yo(r));const l=new File([n],`video_circle_${Date.now()}.webm`,{type:n.type||"video/webm"}),a=await vd(l),u={type:"VIDEO_CIRCLE",roomId:s,content:" ",id:e,fileUrl:a.url,fileName:a.originalName||l.name,fileSize:a.size||n.size,fileType:a.contentType||"video/webm",duration:Math.round(i)};if(!ze(u))throw new Error("   .  .");return{id:e,conversation_id:s,content:u.content,sender_id:localStorage.getItem("username"),created_at:new Date().toISOString(),type:"VIDEO_CIRCLE",fileUrl:a.url,fileName:u.fileName,duration:u.duration}}async function Vm({myUserId:e,friendUserId:t}){if(!t)return null;const r=await Z2(t);let n=null;try{n=await we(`/api/rooms/private/${encodeURIComponent(t)}`,{method:"POST"})}catch{}return{id:(n==null?void 0:n.id)||null,user1_id:e,user2_id:t,friendInfo:r,created_at:(n==null?void 0:n.createdAt)||null}}async function Um({roomId:e}){if(!e)return null;const t=await we(`/api/rooms/${encodeURIComponent(e)}`);return t?{id:t.id,isGroup:!0,friendInfo:{id:t.id,fullname:t.name||"",username:t.name||t.id,avatar_url:t.avatarUrl||"",bio:t.description||""},members:t.members||[],createdBy:t.createdBy,created_at:t.createdAt,description:t.description}:null}function zw({myUserId:e,callback:t}){return{unsubscribe:Cm(n=>{if(n.type!=="CHAT"&&n.type!=="VOICE"&&n.type!=="VIDEO_CIRCLE"||!n.roomId)return;const i=localStorage.getItem("username");if(n.sender===i)return;const s={eventType:"UPDATE",new:{id:n.roomId,last_message:{content:n.content||"",created_at:n.timestamp,sender_id:n.sender}}};t(s)})}}const $w=e=>{const t=mt(),r=g.useRef(null);g.useEffect(function(){if(!e||r.current)return;const n=i=>{t.setQueryData(["conversations",e],s=>{if((i==null?void 0:i.eventType)==="INSERT")return[i.new,...s];if((i==null?void 0:i.eventType)==="UPDATE"){const l=s.find(u=>u.id===i.new.id),a=s.filter(u=>u.id!==i.new.id);return[{...l,...i.new},...a]}})};return r.current=zw({myUserId:e,callback:n}),()=>{r.current&&(r.current.unsubscribe(),r.current=null)}},[e,t])};function Bw(){const e=mt(),{user:t}=Kt(),r=t.id,{data:n,isPending:i,error:s}=Zs({queryKey:["conversations",r],queryFn:()=>Tw({myUserId:r})});$w(r);const l=g.useRef(!1);return g.useEffect(()=>{!n||l.current||(n==null||n.slice(0,Tv).forEach(a=>{var d;const u=a==null?void 0:a.id,c=(d=a==null?void 0:a.friendInfo)==null?void 0:d.id,f=a==null?void 0:a.isGroup;!u||!c||(e.prefetchInfiniteQuery({queryKey:["friend",c],queryFn:({pageParam:h})=>Dm({conversation_id:u,pageParam:h}),pages:1}),f?e.prefetchQuery({queryKey:["convInfo","room",u],queryFn:()=>Um({roomId:u})}):e.prefetchQuery({queryKey:["convInfo",c],queryFn:()=>Vm({myUserId:r,friendUserId:c})}))}),l.current=!0)},[n,e,r]),{conversations:n,isPending:i,error:s}}function ah({filter:e="all"}){const{conversations:t,isPending:r,error:n}=Bw(),{closeSidebar:i}=pt();if(r)return o.jsx(Ke,{opacity:100,children:o.jsx(He,{size:"medium",text:" "})});if(n)return o.jsxs(Ke,{children:[" ",n.message]});const s=t==null?void 0:t.filter(l=>e==="private"?!l.isGroup:!0);return s!=null&&s.length?s.map(l=>{var d,h,v,C,S,E,m;if(l!=null&&l.isGroup)return o.jsx(gd,{group:{id:l.id,name:((d=l.friendInfo)==null?void 0:d.fullname)||"",description:((h=l.friendInfo)==null?void 0:h.bio)||"",avatarUrl:((v=l.friendInfo)==null?void 0:v.avatar_url)||"",members:l.members||[]},handler:i},l.id);const a=(C=l==null?void 0:l.friendInfo)==null?void 0:C.id;if(!a)return null;const u=(S=l==null?void 0:l.friendInfo)==null?void 0:S.avatar_url,c=(E=l==null?void 0:l.friendInfo)==null?void 0:E.fullname,f=(m=l==null?void 0:l.last_message)==null?void 0:m.content;return o.jsx(md,{id:a,avatar:u,name:c,subtext:f,handler:i},a)}):o.jsx(Ke,{children:e==="private"?"  .    !":" .    !"})}async function Hw(){const e=await we("/api/rooms");return!e||!Array.isArray(e)?[]:e.filter(t=>t.type==="ROOM").map(t=>({id:t.id,name:t.name||"",description:t.description||"",avatarUrl:t.avatarUrl||"",members:t.members||[],createdBy:t.createdBy,createdAt:t.createdAt}))}function Qw(){const{data:e,isPending:t,error:r}=Zs({queryKey:["groups"],queryFn:Hw,staleTime:6e4});return{groups:e,isPending:t,error:r}}async function Ww(){const e=await we("/api/chat/contacts");return!e||!Array.isArray(e)?[]:e.map(t=>({id:t.contact,fullname:t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`:t.firstName||t.contact,username:t.contact,avatar_url:t.avatarUrl||"",tag:t.tag||""}))}function zm(){const{data:e,isPending:t,error:r}=Zs({queryKey:["contacts"],queryFn:Ww,staleTime:6e4});return{contacts:e,isPending:t,error:r}}function Gw({isOpen:e,onClose:t}){const[r,n]=g.useState(""),[i,s]=g.useState(""),[l,a]=g.useState([]),[u,c]=g.useState(!1),{contacts:f}=zm(),d=mt(),h=ur();function v(S){a(E=>E.includes(S)?E.filter(m=>m!==S):[...E,S])}async function C(S){if(S.preventDefault(),!r.trim()){te.error("  ");return}c(!0);try{const E=await we("/api/rooms/create",{method:"POST",body:JSON.stringify({name:r.trim(),description:i.trim(),type:"ROOM",memberUsernames:l})});d.invalidateQueries({queryKey:["groups"]}),d.invalidateQueries({queryKey:["conversations"]}),te.success(" !"),t(),E!=null&&E.id&&h(`/chat/room/${encodeURIComponent(E.id)}`),n(""),s(""),a([])}catch(E){te.error(E.message||"   ")}finally{c(!1)}}return e?o.jsx("div",{className:"fixed inset-0 z-[9000] flex items-center justify-center bg-black/50 p-4",children:o.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-bgPrimary shadow-2xl dark:bg-bgPrimary-dark",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-LightShade/20 px-4 py-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sd,{className:"text-xl text-bgAccent dark:text-bgAccent-dark"}),o.jsx("h2",{className:"text-lg font-semibold",children:" "})]}),o.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-LightShade/20",children:o.jsx(id,{className:"text-2xl"})})]}),o.jsxs("form",{onSubmit:C,className:"p-4",children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-textPrimary/70 dark:text-textPrimary-dark/70",children:"  *"}),o.jsx("input",{type:"text",value:r,onChange:S=>n(S.target.value),placeholder:":  ",maxLength:50,className:"mb-3 w-full rounded-lg border border-LightShade/30 bg-transparent px-3 py-2 outline-none focus:border-bgAccent dark:border-LightShade/20 dark:focus:border-bgAccent-dark"}),o.jsx("label",{className:"mb-1 block text-sm font-medium text-textPrimary/70 dark:text-textPrimary-dark/70",children:""}),o.jsx("input",{type:"text",value:i,onChange:S=>s(S.target.value),placeholder:"  ?",maxLength:200,className:"mb-4 w-full rounded-lg border border-LightShade/30 bg-transparent px-3 py-2 outline-none focus:border-bgAccent dark:border-LightShade/20 dark:focus:border-bgAccent-dark"}),o.jsxs("label",{className:"mb-2 block text-sm font-medium text-textPrimary/70 dark:text-textPrimary-dark/70",children:[" (",l.length,")"]}),o.jsx("div",{className:"mb-4 max-h-48 overflow-y-auto rounded-lg border border-LightShade/20 p-1",children:(f==null?void 0:f.length)>0?f.map(S=>{var E,m;return o.jsxs("label",{className:"flex cursor-pointer items-center gap-3 rounded-lg px-3 py-2 hover:bg-LightShade/10",children:[o.jsx("input",{type:"checkbox",checked:l.includes(S.username),onChange:()=>v(S.username),className:"h-4 w-4 rounded accent-bgAccent"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-blue-400 to-purple-500 text-xs font-bold text-white",children:((m=(E=S.fullname)==null?void 0:E[0])==null?void 0:m.toUpperCase())||"?"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:S.fullname}),o.jsxs("p",{className:"text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:["@",S.username]})]})]})]},S.id)}):o.jsx("p",{className:"py-4 text-center text-sm text-textPrimary/50 dark:text-textPrimary-dark/50",children:" .    ."})}),o.jsx("button",{type:"submit",disabled:u||!r.trim(),className:"w-full rounded-xl bg-bgAccent py-2.5 font-semibold text-textPrimary-dark transition hover:bg-bgAccentDim active:scale-[0.98] disabled:opacity-60 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",children:u?"...":" "})]})]})}):null}function Zw(){const{groups:e,isPending:t,error:r}=Qw(),{closeSidebar:n}=pt(),[i,s]=g.useState(!1);return t?o.jsx(Ke,{opacity:100,children:o.jsx(He,{size:"medium",text:" "})}):r?o.jsxs(Ke,{children:[" ",r.message]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>s(!0),className:"mb-2 flex w-full items-center gap-2 rounded-xl px-3 py-2.5 text-sm font-medium text-bgAccent transition hover:bg-LightShade/10 dark:text-bgAccent-dark",children:[o.jsx(N2,{className:"text-lg"})," "]}),e!=null&&e.length?e.map(l=>o.jsx(gd,{group:l,handler:n},l.id)):o.jsx(Ke,{children:" .     !"}),o.jsx(Gw,{isOpen:i,onClose:()=>s(!1)})]})}function Kw(){const{contacts:e,isPending:t,error:r}=zm(),{closeSidebar:n}=pt();return t?o.jsx(Ke,{opacity:100,children:o.jsx(He,{size:"medium",text:" "})}):r?o.jsxs(Ke,{children:[" ",r.message]}):e!=null&&e.length?e.map(i=>o.jsx(md,{id:i.id,avatar:i.avatar_url,name:i.fullname,subtext:i.tag||`@${i.username}`,handler:n},i.id)):o.jsx(Ke,{children:" .    !"})}const qw=[{key:"all",label:" ",icon:x2},{key:"private",label:"",icon:A2},{key:"groups",label:"",icon:sd},{key:"contacts",label:"",icon:j2}];function Jw(){const[e,t]=g.useState("all");return o.jsxs("div",{className:"grid h-full grid-rows-[auto_1fr]",children:[o.jsx("div",{className:"flex border-b border-t border-LightShade/20",children:qw.map(r=>{const n=r.icon;return o.jsxs("button",{onClick:()=>t(r.key),className:`flex flex-1 items-center justify-center gap-1 px-1.5 py-2.5 text-xs font-medium transition-colors ${e===r.key?"border-b-2 border-bgAccent text-bgAccent dark:border-bgAccent-dark dark:text-bgAccent-dark":"text-textPrimary/60 hover:text-textPrimary dark:text-textPrimary-dark/60 dark:hover:text-textPrimary-dark"}`,children:[o.jsx(n,{className:"text-base"}),r.label]},r.key)})}),o.jsxs("div",{tabIndex:-1,className:"h-full overflow-auto p-2",children:[e==="all"&&o.jsx(ah,{filter:"all"}),e==="private"&&o.jsx(ah,{filter:"private"}),e==="groups"&&o.jsx(Zw,{}),e==="contacts"&&o.jsx(Kw,{})]})]})}function Yw(){const{isSearchViewOpen:e}=pt();return o.jsxs("div",{className:"relative z-30 grid h-screen-safe select-none grid-cols-1 grid-rows-[auto_1fr] overflow-hidden",children:[o.jsxs("div",{className:"px-2 py-4",children:[o.jsx(Ow,{}),o.jsx(Aw,{})]}),o.jsx("div",{className:"h-full overflow-auto",children:e?o.jsx(Sw,{}):o.jsx(Jw,{})}),o.jsx(vw,{})]})}function Xw(){const{isSidebarOpen:e,isAccountViewOpen:t,closeSidebar:r,openSidebar:n}=pt(),{userId:i,roomId:s}=Wo(),l=!!(i||s);g.useEffect(()=>{l?r():n()},[l]);function a(){l&&r()}return o.jsx(Yc,{isOpen:e,toggle:a,children:o.jsx("aside",{className:`${e?"visible left-0 opacity-100":"invisible -left-full opacity-0"} absolute top-0 z-30 h-screen-safe w-full overflow-hidden bg-bgPrimary shadow-lg transition-all duration-500 ease-[cubic-bezier(.15,.72,.08,.99)] dark:bg-bgPrimary-dark sm:w-[23rem] md:visible md:relative md:left-0 md:opacity-100`,children:t?o.jsx(yw,{}):o.jsx(Yw,{})})})}function un({children:e}){return o.jsx("main",{className:"flex min-h-screen-safe flex-col items-center justify-center overflow-hidden bg-gradient-to-br from-bgSecondary to-bgSecondaryDim text-textPrimary dark:from-bgSecondary-dark dark:to-bgSecondaryDim-dark dark:text-textPrimary-dark",children:e})}function e4(){return o.jsx(un,{children:o.jsxs("div",{className:"grid w-full grid-cols-[auto_1fr]",children:[o.jsx(Xw,{}),o.jsx(vv,{})]})})}function t4({children:e}){const t=ur(),{isLoading:r,isAuthenticated:n}=Kt();if(g.useEffect(function(){!n&&!r&&t("/signin",{replace:!0})},[n,r,t]),r)return o.jsx(un,{children:o.jsx(He,{size:"large",text:"Loading"})});if(n)return e}function r4(){const e=mt(),{mutate:t,isPending:r,error:n,isSuccess:i}=Ks({mutationFn:({username:s,password:l,tag:a})=>Q2({username:s,password:l,tag:a}),onMutate:()=>{te.loading("...")},onSuccess:s=>{e.setQueriesData(["user"],s),te.dismiss(),te.success(" !")},onError:s=>{te.dismiss(),te.error(s.message)}});return{signup:t,isPending:r,error:n,isSuccess:i}}function xd({children:e,addClass:t}){return o.jsx("h1",{className:`mx-auto mb-5 text-center text-2xl ${t}`,children:e})}function $m({children:e,onSubmit:t}){return o.jsx("div",{className:" flex w-full items-center justify-center p-4",children:o.jsx("form",{onSubmit:t,className:"flex w-full max-w-sm flex-col items-start rounded-xl bg-bgPrimary p-6 shadow-2xl dark:bg-bgTertiary",children:e})})}function Xn({value:e,onChange:t,onBlur:r,placeholder:n,type:i,error:s,htmlFor:l,disabled:a}){return o.jsxs("div",{className:"input-container mb-6 w-full",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{value:e,onChange:u=>t(u.target.value),onBlur:r,autoComplete:"off",type:i,id:l,disabled:a,className:`${s?"border-RedColor":""} peer block w-full appearance-none rounded-lg border-2 border-LightShade/50 bg-transparent px-4 pb-2.5 pt-4 focus:border-textAccentDim focus:outline-none focus:ring-0 dark:border-LightShade dark:focus:border-textAccentDim-dark`,placeholder:" "}),o.jsx("label",{htmlFor:l,className:`${s?"text-RedColor":""} pointer-events-none absolute start-1 top-2 z-10 mx-2 origin-[0] -translate-y-5 scale-75 transform bg-bgPrimary px-2 text-LightGray transition-all duration-100 ease-out peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:mx-2 peer-focus:-translate-y-5 peer-focus:scale-75 peer-focus:text-textAccentDim dark:bg-bgTertiary  dark:text-LightGray-dark peer-focus:dark:text-textAccentDim-dark rtl:peer-focus:left-auto rtl:peer-focus:translate-x-1/4`,children:n})]}),s&&o.jsx("p",{className:"ml-2 mt-1 text-sm text-RedColor",children:s})]})}function Bm({children:e,type:t="submit",disabled:r=!1}){return o.jsx("button",{type:t,disabled:r,className:"mb-4 flex w-full items-center justify-center rounded-md bg-bgAccent p-3 font-bold leading-6 tracking-wider text-textPrimary-dark transition-all duration-200 hover:bg-bgAccent-dark active:scale-95 disabled:pointer-events-none disabled:bg-bgAccent/50",children:e})}function Hm({children:e,href:t,addClass:r,to:n}){const i=`text-textAccent underline dark:text-textAccent-dark ${r}`;if(n)return o.jsx(qc,{className:i,to:n,children:e});if(t)return o.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:i,children:e})}function Qm(){return o.jsxs("div",{className:"pointer-events-none mb-8 mt-4 flex select-none flex-col items-center",children:[o.jsx("span",{className:"text-7xl md:text-8xl",children:""}),o.jsx("span",{className:"mt-2 text-2xl font-bold text-textAccent dark:text-textAccent-dark md:text-3xl",children:"BarsikChat"})]})}function n4(){document.title=_i+"  ";const{signup:e,isPending:t,isSuccess:r}=r4(),{isAuthenticated:n}=Kt(),i=ur(),{control:s,handleSubmit:l,formState:{errors:a},trigger:u,watch:c}=hd({defaultValues:{username:"",tag:"",password:"",confirmPassword:""}}),f=c("password");g.useEffect(()=>{(n||r)&&i("/chat",{replace:!0})},[n,r,i]);const d=({username:h,tag:v,password:C})=>{e({username:h.trim(),password:C,tag:v.trim()})};return o.jsxs(un,{children:[o.jsx(Qm,{}),o.jsxs($m,{onSubmit:l(d),children:[o.jsx(xd,{addClass:"text-3xl",children:""}),o.jsx(gn,{name:"username",control:s,rules:{required:"  .",pattern:{value:Jc,message:"  , ,   ."},minLength:{value:yo,message:` ${yo} .`},maxLength:{value:vo,message:` ${vo} .`}},render:({field:h})=>{var v;return o.jsx(Xn,{type:"text",value:h.value,onChange:h.onChange,onBlur:()=>u("username"),placeholder:" ",htmlFor:"username",error:(v=a.username)==null?void 0:v.message,disabled:t,autoFocus:!0})}}),o.jsx(gn,{name:"tag",control:s,rules:{required:" .",maxLength:{value:25,message:" 25 ."}},render:({field:h})=>{var v;return o.jsx(Xn,{type:"text",value:h.value,onChange:h.onChange,onBlur:()=>u("tag"),placeholder:" (@yourtag)",htmlFor:"tag",error:(v=a.tag)==null?void 0:v.message,disabled:t})}}),o.jsx(gn,{name:"password",control:s,rules:{required:" .",minLength:{value:xo,message:` ${xo} .`}},render:({field:h})=>{var v;return o.jsx(Xn,{type:"password",value:h.value,onChange:h.onChange,onBlur:()=>u("password"),placeholder:"",htmlFor:"password",error:(v=a.password)==null?void 0:v.message,disabled:t})}}),o.jsx(gn,{name:"confirmPassword",control:s,rules:{required:" .",validate:h=>h===f||"  ."},render:({field:h})=>{var v;return o.jsx(Xn,{type:"password",value:h.value,onChange:h.onChange,onBlur:()=>u("confirmPassword"),placeholder:" ",htmlFor:"confirmPassword",error:(v=a.confirmPassword)==null?void 0:v.message,disabled:t})}}),o.jsx(Bm,{disabled:t,type:"submit",children:t?o.jsxs(o.Fragment,{children:[o.jsx(He,{size:"small"}),o.jsx("span",{className:"ml-2",children:"..."})]}):o.jsx("span",{children:""})}),o.jsxs("p",{children:["  ?"," ",o.jsx(Hm,{to:"/signin",children:""})]})]})]})}function i4(){const e=mt(),{mutate:t,isPending:r}=Ks({mutationFn:({username:n,password:i})=>H2({username:n,password:i}),onMutate:()=>{te.loading("...")},onSuccess:n=>{e.setQueriesData(["user"],n),te.dismiss()},onError:n=>{te.dismiss(),te.error(n.message)}});return{signin:t,isPending:r}}function s4(){document.title=_i+"  ";const{signin:e,isPending:t}=i4(),r=ur(),{isAuthenticated:n}=Kt(),{control:i,handleSubmit:s,formState:{errors:l},trigger:a}=hd({defaultValues:{username:"",password:""}});g.useEffect(()=>{n&&r("/chat",{replace:!0})},[n,r]);const u=c=>{const{username:f,password:d}=c;!f||!d||e({username:f,password:d},{onSuccess:()=>{r("/chat",{replace:!0})}})};return o.jsxs(un,{children:[o.jsx(Qm,{}),o.jsxs($m,{onSubmit:s(u),children:[o.jsx(xd,{addClass:"text-3xl",children:"  "}),o.jsx(gn,{name:"username",control:i,rules:{required:"  ."},render:({field:c})=>{var f;return o.jsx(Xn,{type:"text",value:c.value||"",onChange:c.onChange,placeholder:" ",htmlFor:"username",error:(f=l.username)==null?void 0:f.message,onBlur:()=>a("username"),disabled:t,autoFocus:!0})}}),o.jsx(gn,{name:"password",control:i,rules:{required:" ."},render:({field:c})=>{var f;return o.jsx(Xn,{type:"password",value:c.value||"",onChange:c.onChange,placeholder:"",htmlFor:"password",error:(f=l.password)==null?void 0:f.message,onBlur:()=>a("password"),disabled:t})}}),o.jsx(Bm,{disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx(He,{size:"small"}),o.jsx("span",{className:"ml-2",children:"..."})]}):o.jsx("span",{children:""})}),o.jsxs("p",{children:[" ?"," ",o.jsx(Hm,{to:"/signup",children:""})]})]})]})}function Ys(){const{userId:e,roomId:t}=Wo(),{user:r}=Kt(),n=r==null?void 0:r.id,i=!!t,s=i?["convInfo","room",t]:["convInfo",e],{data:l,isPending:a,isError:u,error:c}=Zs({queryKey:s,queryFn:()=>i?Um({roomId:t}):Vm({myUserId:n,friendUserId:e}),staleTime:1/0,enabled:!!(e||t)});return{convInfo:l,isPending:a,isError:u,error:c}}function l4({conversation_id:e,callback:t}){return e?{unsubscribe:Cm(n=>{if(n.roomId===e&&(n.type==="CHAT"||n.type==="VOICE"||n.type==="VIDEO_CIRCLE")){const i=localStorage.getItem("username");if(n.sender===i)return;t({id:n.id,conversation_id:n.roomId,content:n.content||"",sender_id:n.sender,created_at:n.timestamp,type:n.type,fileUrl:n.fileUrl,fileName:n.fileName,fileSize:n.fileSize,fileType:n.fileType,duration:n.duration,waveform:n.waveform,thumbnailUrl:n.thumbnailUrl})}if(n.roomId===e&&n.type==="EDIT"){const i=localStorage.getItem("username");if(n.sender===i)return;t({id:n.id,conversation_id:n.roomId,content:n.content||"",sender_id:n.sender,created_at:n.timestamp,type:"CHAT",edited:!0})}n.roomId===e&&n.type==="DELETE"&&t({id:n.id,conversation_id:n.roomId,deleted:!0,type:"DELETE"})})}:{unsubscribe:()=>{}}}function o4({conversation_id:e,friendUserId:t}){const r=mt(),n=g.useRef(null);g.useEffect(function(){if(!e)return;n.current&&n.current.unsubscribe();function i(s){r.setQueryData(["friend",t],l=>{var u;return((u=l==null?void 0:l.pages[0])==null?void 0:u.find(c=>(c==null?void 0:c.id)===s.id))?{...l,pages:l.pages.slice().map((c,f)=>f===0?c.map(d=>d.id===s.id?s:d):c)}:{...l,pages:l.pages.slice().map((c,f)=>f===0?[...c,s]:c)}})}return n.current=l4({conversation_id:e,callback:i}),()=>{var s;(s=n.current)==null||s.unsubscribe(),n.current=null}},[e,t,r])}function a4(){var S;const{convInfo:e,isPending:t,error:r}=Ys(),n=e==null?void 0:e.id,i=(S=e==null?void 0:e.friendInfo)==null?void 0:S.id,s=mt();g.useEffect(()=>{s.setQueryData(["friend",i],E=>{var m;if(!(!E||!((m=E.pages[1])!=null&&m.length)))return{pages:E.pages.slice(0,1),pageParams:E.pageParams.slice(0,1)}})},[i,s,n]);const{data:{pages:l}={},error:a,fetchNextPage:u,hasNextPage:c,isFetching:f,isPending:d,isLoading:h,isFetchingNextPage:v}=Ex({queryKey:["friend",i],queryFn:({pageParam:E})=>Dm({conversation_id:n,pageParam:E}),select:E=>!E||E.pages.length<2?E:{pages:[...E.pages].reverse(),pageParams:[...E.pageParams].reverse()},getNextPageParam:(E,m,p)=>{if((E==null?void 0:E.length)!==0)return p+1},initialPageParam:0,enabled:!!i});return o4({conversation_id:n,friendUserId:i}),{pages:l,isFetching:f,isPending:d,isLoading:t||h,error:r||a,fetchNextPage:u,hasNextPage:c,isFetchingNextPage:v}}function Gi(e){if(!e)return"-- : --";const t=new Date(e),r=new Date,n=Math.round((r-t)/(1e3*60*60*24)),i=t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0});return n===0?i.toLowerCase():n===1?`Yesterday at ${i.toLowerCase()}`:n<7?`${t.toLocaleDateString([],{weekday:"short"})} at ${i.toLowerCase()}`:r.getFullYear()===t.getFullYear()?`${t.toLocaleDateString([],{month:"short",day:"numeric"})} at ${i.toLowerCase()}`:`${t.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"})} at ${i.toLowerCase()}`}let Cl;const u4=new Uint8Array(16);function c4(){if(!Cl&&(Cl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Cl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cl(u4)}const De=[];for(let e=0;e<256;++e)De.push((e+256).toString(16).slice(1));function d4(e,t=0){return De[e[t+0]]+De[e[t+1]]+De[e[t+2]]+De[e[t+3]]+"-"+De[e[t+4]]+De[e[t+5]]+"-"+De[e[t+6]]+De[e[t+7]]+"-"+De[e[t+8]]+De[e[t+9]]+"-"+De[e[t+10]]+De[e[t+11]]+De[e[t+12]]+De[e[t+13]]+De[e[t+14]]+De[e[t+15]]}const f4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uh={randomUUID:f4};function Xi(e,t,r){if(uh.randomUUID&&!t&&!e)return uh.randomUUID();e=e||{};const n=e.random||(e.rng||c4)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return d4(n)}function Ma({isOpen:e,onClose:t,message:r}){const[n,i]=g.useState([]),[s,l]=g.useState(!1),[a,u]=g.useState(""),c=localStorage.getItem("username");g.useEffect(()=>{e&&(l(!0),we("/api/rooms").then(h=>{Array.isArray(h)&&i(h.map(v=>{var C;return{id:v.id,name:v.type==="ROOM"?v.name||"":((C=v.members)==null?void 0:C.find(S=>S!==c))||v.id,type:v.type,members:v.members||[]}}))}).catch(()=>{}).finally(()=>l(!1)))},[e,c]);function f(h){if(!(r!=null&&r.content)){te.error("   ");return}ze({type:"CHAT",roomId:h.id,content:`   ${r.sender_id||"?"}: ${r.content}`,id:Xi()})?(te.success(`  ${h.name}`),t()):te.error("  .  .")}const d=n.filter(h=>h.name.toLowerCase().includes(a.toLowerCase()));return e?o.jsx("div",{className:"fixed inset-0 z-[9000] flex items-center justify-center bg-black/50 p-4",children:o.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-bgPrimary shadow-2xl dark:bg-bgPrimary-dark",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-LightShade/20 px-4 py-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vl,{className:"text-xl text-bgAccent dark:text-bgAccent-dark"}),o.jsx("h2",{className:"text-lg font-semibold",children:" "})]}),o.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-LightShade/20",children:o.jsx(id,{className:"text-2xl"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-3 rounded-lg bg-LightShade/10 px-3 py-2 text-sm dark:bg-LightShade/5",children:o.jsx("p",{className:"truncate text-textPrimary/70 dark:text-textPrimary-dark/70",children:(r==null?void 0:r.content)||"..."})}),o.jsx("input",{type:"text",value:a,onChange:h=>u(h.target.value),placeholder:" ...",className:"mb-3 w-full rounded-lg border border-LightShade/30 bg-transparent px-3 py-2 outline-none focus:border-bgAccent dark:border-LightShade/20 dark:focus:border-bgAccent-dark"}),o.jsx("div",{className:"max-h-64 overflow-y-auto",children:s?o.jsx("p",{className:"py-4 text-center text-sm text-textPrimary/50 dark:text-textPrimary-dark/50",children:"..."}):d.length===0?o.jsx("p",{className:"py-4 text-center text-sm text-textPrimary/50 dark:text-textPrimary-dark/50",children:" "}):d.map(h=>{var v,C;return o.jsxs("button",{onClick:()=>f(h),className:"flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-left transition hover:bg-LightShade/10",children:[o.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-blue-400 to-purple-500 text-sm font-bold text-white",children:h.type==="ROOM"?"G":((C=(v=h.name)==null?void 0:v[0])==null?void 0:C.toUpperCase())||"?"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"truncate text-sm font-medium",children:h.name}),o.jsx("p",{className:"text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:h.type==="ROOM"?"":" "})]})]},h.id)})})]})]})}):null}function h4({fileUrl:e,duration:t}){const r=g.useRef(null),[n,i]=g.useState(!1),[s,l]=g.useState(0);g.useEffect(()=>{const d=r.current;if(!d)return;const h=()=>l(d.currentTime/(d.duration||t||1)),v=()=>{i(!1),l(0)};return d.addEventListener("timeupdate",h),d.addEventListener("ended",v),()=>{d.removeEventListener("timeupdate",h),d.removeEventListener("ended",v)}},[t]);function a(){r.current&&(n?r.current.pause():r.current.play(),i(!n))}const u=t||0,c=Math.floor(u/60),f=u%60;return o.jsxs("div",{className:"flex items-center gap-2 min-w-[180px]",children:[o.jsx("audio",{ref:r,src:e,preload:"metadata"}),o.jsx("button",{onClick:a,className:"flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-full bg-white/20 transition hover:bg-white/30 active:scale-95",children:n?o.jsx(b2,{className:"text-lg"}):o.jsx(xm,{className:"text-lg ml-0.5"})}),o.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[o.jsx("div",{className:"h-1 w-full rounded-full bg-white/20 overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full bg-current transition-all",style:{width:`${s*100}%`}})}),o.jsxs("span",{className:"text-[10px] opacity-70",children:[c,":",f.toString().padStart(2,"0")]})]})]})}function p4({fileUrl:e,duration:t}){const r=g.useRef(null),[n,i]=g.useState(!1);function s(){r.current&&(n?r.current.pause():r.current.play(),i(!n))}g.useEffect(()=>{const c=r.current;if(!c)return;const f=()=>i(!1);return c.addEventListener("ended",f),()=>c.removeEventListener("ended",f)},[]);const l=t||0,a=Math.floor(l/60),u=l%60;return o.jsx("div",{className:"flex flex-col items-center",children:o.jsxs("div",{className:"relative h-52 w-52 cursor-pointer overflow-hidden rounded-full border-2 border-current/20 shadow-lg",onClick:s,children:[o.jsx("video",{ref:r,src:e,playsInline:!0,preload:"metadata",className:"h-full w-full object-cover"}),!n&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:o.jsx(xm,{className:"text-4xl text-white drop-shadow"})}),o.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 rounded-full bg-black/60 px-2 py-0.5 text-[10px] font-mono text-white",children:[a,":",u.toString().padStart(2,"0")]})]})})}function m4({fileUrl:e,fileName:t,fileType:r,isOwn:n}){const i=r==null?void 0:r.startsWith("image/"),s=r==null?void 0:r.startsWith("video/"),l=r==null?void 0:r.startsWith("audio/");return i&&e?o.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"block",children:o.jsx("img",{src:e,alt:t,className:"max-w-[260px] max-h-[260px] rounded-lg object-cover"})}):s&&e?o.jsx("video",{src:e,controls:!0,playsInline:!0,preload:"metadata",className:"max-w-[280px] rounded-lg"}):l&&e?o.jsx("audio",{src:e,controls:!0,preload:"metadata",className:"max-w-[260px]"}):o.jsxs("a",{href:`${e}?download=true`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-lg bg-white/10 px-3 py-2 transition hover:bg-white/20",children:[o.jsx(L2,{className:"text-lg flex-shrink-0"}),o.jsx("span",{className:"truncate text-sm",children:t||""})]})}function g4({message:e}){var f,d;const{user:t}=Kt(),{convInfo:r}=Ys(),n=r==null?void 0:r.isGroup,i=(e==null?void 0:e.sender_id)===t.id,[s,l]=g.useState(!1),[a,u]=g.useState(!1);if((e==null?void 0:e.type)==="CALL_LOG"){const h=((f=e.content)==null?void 0:f.includes(""))||((d=e.content)==null?void 0:d.includes("audio"));return o.jsxs("div",{className:"my-2 flex items-center justify-center gap-2 text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:[o.jsx("span",{children:h?"":""}),o.jsx("span",{children:e.content||""}),o.jsx("span",{className:"text-[10px]",children:Gi(e==null?void 0:e.created_at)})]})}if((e==null?void 0:e.type)==="VOICE"&&(e!=null&&e.fileUrl))return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`group relative ${i?"self-end rounded-br-none bg-gradient-to-br from-bgAccent to-bgAccentDim text-textPrimary-dark before:absolute before:bottom-0 before:right-0 before:h-0 before:w-0 before:translate-x-full before:border-l-8 before:border-t-8 before:border-l-bgAccentDim before:border-t-transparent before:content-[''] dark:from-bgAccent-dark dark:to-bgAccentDim-dark before:dark:border-l-bgAccentDim-dark":"rounded-bl-none bg-bgPrimary before:absolute before:bottom-0 before:left-0 before:h-0 before:w-0 before:-translate-x-full before:border-r-8 before:border-t-8 before:border-r-bgPrimary before:border-t-transparent before:content-[''] dark:bg-LightShade/20 before:dark:border-r-LightShade/20"} my-1 w-fit max-w-[80%] rounded-2xl px-4 py-2 shadow-md before:shadow-md`,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[n&&!i&&(e==null?void 0:e.sender_id)&&o.jsx("p",{className:"mb-1 text-xs font-bold text-bgAccent dark:text-bgAccent-dark",children:e.sender_id}),o.jsx(h4,{fileUrl:e.fileUrl,duration:e.duration}),o.jsx("span",{className:"float-right ml-2 mt-1 select-none text-xs opacity-70",children:Gi(e==null?void 0:e.created_at)}),a&&o.jsx("button",{onClick:()=>l(!0),className:`absolute top-1 ${i?"-left-8":"-right-8"} flex h-6 w-6 items-center justify-center rounded-full bg-LightShade/30 text-xs text-textPrimary/60 transition hover:bg-LightShade/50 dark:text-textPrimary-dark/60`,title:"",children:o.jsx(Vl,{})})]}),o.jsx(Ma,{isOpen:s,onClose:()=>l(!1),message:e})]});if((e==null?void 0:e.type)==="VIDEO_CIRCLE"&&(e!=null&&e.fileUrl))return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`group relative ${i?"self-end":""} my-1 w-fit max-w-[80%]`,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[n&&!i&&(e==null?void 0:e.sender_id)&&o.jsx("p",{className:"mb-1 text-xs font-bold text-bgAccent dark:text-bgAccent-dark",children:e.sender_id}),o.jsx(p4,{fileUrl:e.fileUrl,duration:e.duration}),o.jsx("p",{className:"mt-1 text-center text-xs opacity-50",children:Gi(e==null?void 0:e.created_at)}),a&&o.jsx("button",{onClick:()=>l(!0),className:`absolute top-1 ${i?"-left-8":"-right-8"} flex h-6 w-6 items-center justify-center rounded-full bg-LightShade/30 text-xs text-textPrimary/60 transition hover:bg-LightShade/50 dark:text-textPrimary-dark/60`,title:"",children:o.jsx(Vl,{})})]}),o.jsx(Ma,{isOpen:s,onClose:()=>l(!1),message:e})]});const c=(e==null?void 0:e.fileUrl)&&(e==null?void 0:e.type)!=="VOICE"&&(e==null?void 0:e.type)!=="VIDEO_CIRCLE";return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`group relative ${i?"self-end rounded-br-none bg-gradient-to-br from-bgAccent to-bgAccentDim text-textPrimary-dark before:absolute before:bottom-0 before:right-0 before:h-0 before:w-0 before:translate-x-full before:border-l-8 before:border-t-8 before:border-l-bgAccentDim before:border-t-transparent before:content-[''] dark:from-bgAccent-dark dark:to-bgAccentDim-dark before:dark:border-l-bgAccentDim-dark":"rounded-bl-none bg-bgPrimary before:absolute before:bottom-0 before:left-0 before:h-0 before:w-0 before:-translate-x-full before:border-r-8 before:border-t-8 before:border-r-bgPrimary before:border-t-transparent before:content-[''] dark:bg-LightShade/20 before:dark:border-r-LightShade/20"} my-1 w-fit max-w-[80%] rounded-2xl px-4 py-2 shadow-md before:shadow-md`,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[n&&!i&&(e==null?void 0:e.sender_id)&&o.jsx("p",{className:"mb-0.5 text-xs font-bold text-bgAccent dark:text-bgAccent-dark",children:e.sender_id}),c&&o.jsx("div",{className:"mb-1",children:o.jsx(m4,{fileUrl:e.fileUrl,fileName:e.fileName,fileType:e.fileType,isOwn:i})}),(e==null?void 0:e.content)&&!e.content.startsWith(" ")&&o.jsxs("p",{children:[e.content,o.jsx("span",{className:"float-right ml-2 mt-2 select-none text-xs opacity-70",children:Gi(e==null?void 0:e.created_at)})]}),(!(e!=null&&e.content)||e.content.startsWith(" "))&&o.jsx("span",{className:"block select-none text-right text-xs opacity-70",children:Gi(e==null?void 0:e.created_at)}),a&&o.jsx("button",{onClick:()=>l(!0),className:`absolute top-1 ${i?"-left-8":"-right-8"} flex h-6 w-6 items-center justify-center rounded-full bg-LightShade/30 text-xs text-textPrimary/60 transition hover:bg-LightShade/50 dark:text-textPrimary-dark/60`,title:"",children:o.jsx(Vl,{})})]}),o.jsx(Ma,{isOpen:s,onClose:()=>l(!1),message:e})]})}function ch(e,t={}){const[r,n]=g.useState(!1);return g.useEffect(()=>{if(!e)return;const i=new IntersectionObserver(([s])=>n(s.isIntersecting));return i.observe(e,t),()=>i.disconnect()},[e,t]),r}function y4({pages:e,bottomRef:t,lastPageBtm:r,isIntersectingTop:n,isIntersectingBtm:i}){const s=(l,a="smooth")=>{var u;(u=l==null?void 0:l.current)==null||u.scrollIntoView({behavior:a})};g.useEffect(()=>{if(!e||!e[0])return;if(i)return s(t);const l=e[e.length-1],a=l[l.length-1];if(a!=null&&a.optimistic||e.length===1)return s(t);if(r.current&&n)return s(r,"instant")},[e,t,r])}function v4(){const{pages:e,isFetchingNextPage:t,isLoading:r,fetchNextPage:n,hasNextPage:i,error:s}=a4(),l=g.useRef(null),a=g.useRef(),u=g.useRef(null),[c,f]=g.useState(null),d=ch(c),h=ch(a.current);return g.useEffect(()=>{if(l.current){const v=setTimeout(()=>{f(l.current)},1e3);return()=>clearTimeout(v)}},[i]),g.useEffect(()=>{d&&i&&n()},[d,i,n]),y4({pages:e,bottomRef:a,lastPageBtm:u,isIntersectingTop:d,isIntersectingBtm:h}),s?o.jsxs(Ke,{children:[" ",s.message]}):r?o.jsx(Ke,{opacity:100,children:o.jsx(He,{size:"medium",text:" "})}):o.jsx("div",{className:"grid grid-cols-1 items-end overflow-y-auto",children:o.jsxs("div",{tabIndex:-1,className:"mx-auto flex w-full max-w-3xl flex-col px-4",children:[e&&!e[0]&&o.jsx(Ke,{children:" "}),e&&e[0]&&o.jsxs(o.Fragment,{children:[i&&o.jsx("span",{ref:l,children:t&&o.jsx(He,{})}),e.map((v,C)=>v.length?o.jsxs("span",{className:"flex w-full flex-col",children:[v.map(S=>o.jsx(g4,{message:S},S.id)),C===0&&o.jsx("span",{ref:u})]},C):o.jsx("span",{className:"mx-auto my-4 h-2 w-2 select-none rounded bg-LightShade/50 opacity-50"},C))]}),o.jsx("span",{ref:a})]})})}function x4({friend:e}){const{avatar_url:t,fullname:r,username:n,bio:i}=e??{},{closeFriendSidebar:s,isFriendsSidebarOpen:l}=pt();function a(){l&&s()}return o.jsx(Yc,{isOpen:l,toggle:a,children:o.jsxs("div",{className:`${l?"visible right-0 opacity-100":"invisible -right-full opacity-0"} absolute top-0 z-30 grid h-screen-safe w-4/5 grid-rows-[auto_1fr] overflow-hidden bg-bgPrimary opacity-0 shadow-[-10px_0px_15px_-3px_rgba(0,0,0,0.1),-10px_0px_6px_-2px_rgba(0,0,0,0.05)] transition-all duration-500 ease-[cubic-bezier(.15,.72,.08,.99)] dark:bg-bgPrimary-dark sm:w-[21rem]`,children:[o.jsxs("div",{className:"flex h-16 items-center justify-start gap-4 bg-LightShade/10 p-2",children:[o.jsx(kt,{onClick:a,children:o.jsx(kt.Close,{})}),o.jsx("p",{className:"select-none font-bold tracking-wider",children:"Profile"})]}),o.jsxs("div",{className:"h-full overflow-scroll p-10",children:[o.jsx("div",{className:"mx-auto mt-4 h-52 w-52 overflow-hidden rounded-full border-2 border-bgAccent dark:border-bgAccent-dark",children:t?o.jsx("img",{className:"pointer-events-none h-full w-full object-cover object-center",src:t,alt:r}):o.jsx(Go,{className:"h-full w-full opacity-50",strokeWidth:"1"})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("p",{className:"select-none  text-sm font-bold tracking-wider text-textAccent opacity-80 dark:text-textAccent-dark",children:"Name"}),o.jsx("p",{className:"truncate text-base",children:r})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"select-none text-sm font-bold tracking-wider text-textAccent  opacity-80 dark:text-textAccent-dark",children:"Username"}),o.jsx("p",{className:"truncate text-base",children:n})]}),i&&o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"select-none text-sm font-bold tracking-wider text-textAccent  opacity-80 dark:text-textAccent-dark",children:"Bio"}),o.jsx("p",{className:"break-all text-base",children:i})]})]})]})})}let Sl=null,dh=0;async function w4(){const e=Date.now();if(Sl&&e<dh)return Sl;try{const t=await we("/api/webrtc/ice-config");return Sl=t.iceServers||t,dh=e+23*60*60*1e3,Sl}catch(t){return console.error("[WebRTC] Failed to get ICE config:",t),[{urls:"stun:stun.l.google.com:19302"}]}}async function qu({onIceCandidate:e,onTrack:t,onConnectionStateChange:r}){const n=await w4(),i=new RTCPeerConnection({iceServers:n});return i.onicecandidate=s=>{s.candidate&&e(s.candidate)},i.ontrack=s=>{t(s.streams[0]||new MediaStream([s.track]))},i.onconnectionstatechange=()=>{r==null||r(i.connectionState)},i}async function Ju(e){const t={audio:!0,video:e==="video"?{facingMode:"user",width:{ideal:1280},height:{ideal:720}}:!1};return navigator.mediaDevices.getUserMedia(t)}const Wm=g.createContext(),st={IDLE:"idle",CALLING:"calling",RINGING:"ringing",ACTIVE:"active"};function C4({children:e}){const[t,r]=g.useState(st.IDLE),[n,i]=g.useState(null),[s,l]=g.useState(null),[a,u]=g.useState(null),[c,f]=g.useState(null),[d,h]=g.useState(null),[v,C]=g.useState(!1),[S,E]=g.useState(!1),[m,p]=g.useState(0),y=g.useRef(null),k=g.useRef(null),N=g.useRef([]),R=g.useRef(null),P=g.useRef(null),L=g.useRef(null),B=g.useRef(st.IDLE);g.useEffect(()=>{B.current=t},[t]);const O=g.useCallback(()=>{y.current&&(y.current.close(),y.current=null),P.current&&(P.current.getTracks().forEach(b=>b.stop()),P.current=null),k.current&&(clearInterval(k.current),k.current=null),f(null),h(null),r(st.IDLE),i(null),l(null),u(null),C(!1),E(!1),p(0),N.current=[],R.current=null,L.current=null},[]),se=g.useCallback(async(b,D,z="audio")=>{if(B.current===st.IDLE)try{r(st.CALLING),i(z),l(b),u(D);const K=await Ju(z);P.current=K,f(K);const re=await qu({onIceCandidate:ve=>{ze({type:"ICE_CANDIDATE",roomId:D,content:"",extra:{target:b,candidate:JSON.stringify(ve)}})},onTrack:ve=>h(ve),onConnectionStateChange:ve=>{(ve==="disconnected"||ve==="failed")&&O()}});K.getTracks().forEach(ve=>re.addTrack(ve,K)),y.current=re;const _e=await re.createOffer();await re.setLocalDescription(_e),ze({type:"CALL_OFFER",roomId:D,content:"",extra:{target:b,callType:z,sdp:JSON.stringify(_e)}})}catch(K){console.error("[Call] Failed to start call:",K),O()}},[O]),W=g.useCallback(async()=>{if(B.current!==st.RINGING)return;const b=L.current;if(b)try{r(st.ACTIVE);const D=b.callType||"audio",z=await Ju(D);P.current=z,f(z);const K=b.sender,re=b.roomId,_e=await qu({onIceCandidate:pe=>{ze({type:"ICE_CANDIDATE",roomId:re,content:"",extra:{target:K,candidate:JSON.stringify(pe)}})},onTrack:pe=>h(pe),onConnectionStateChange:pe=>{(pe==="disconnected"||pe==="failed")&&O()}});z.getTracks().forEach(pe=>_e.addTrack(pe,z)),y.current=_e;const ve=JSON.parse(b.sdp);await _e.setRemoteDescription(new RTCSessionDescription(ve));for(const pe of N.current)try{await _e.addIceCandidate(new RTCIceCandidate(JSON.parse(pe)))}catch{}N.current=[];const Tt=await _e.createAnswer();await _e.setLocalDescription(Tt),ze({type:"CALL_ANSWER",roomId:re,content:"",extra:{target:K,sdp:JSON.stringify(Tt)}}),R.current=Date.now(),k.current=setInterval(()=>{p(Math.floor((Date.now()-R.current)/1e3))},1e3)}catch(D){console.error("[Call] Failed to accept call:",D),O()}},[O]),F=g.useCallback(()=>{if(B.current!==st.RINGING)return;const b=L.current;ze({type:"CALL_REJECT",roomId:(b==null?void 0:b.roomId)||a,content:"",extra:{target:(b==null?void 0:b.sender)||s}}),O()},[a,s,O]),Y=g.useCallback(()=>{B.current!==st.IDLE&&(ze({type:"CALL_END",roomId:a,content:"",extra:{target:s,reason:"ended"}}),O())},[a,s,O]),J=g.useCallback(()=>{P.current&&(P.current.getAudioTracks().forEach(b=>{b.enabled=!b.enabled}),C(b=>!b))},[]),Z=g.useCallback(()=>{P.current&&(P.current.getVideoTracks().forEach(b=>{b.enabled=!b.enabled}),E(b=>!b))},[]);g.useEffect(()=>$2(D=>{const z=D.extra||{},K=D.sender;switch(D.type){case"CALL_OFFER":{if(B.current!==st.IDLE){ze({type:"CALL_BUSY",roomId:D.roomId,content:"",extra:{target:K}});return}L.current={sender:K,roomId:D.roomId,callType:z.callType||"audio",sdp:z.sdp},r(st.RINGING),l(K),u(D.roomId),i(z.callType||"audio");break}case"CALL_ANSWER":{if(B.current!==st.CALLING||!y.current)return;r(st.ACTIVE),(async()=>{try{const re=JSON.parse(z.sdp);await y.current.setRemoteDescription(new RTCSessionDescription(re));for(const _e of N.current)try{await y.current.addIceCandidate(new RTCIceCandidate(JSON.parse(_e)))}catch{}N.current=[],R.current=Date.now(),k.current=setInterval(()=>{p(Math.floor((Date.now()-R.current)/1e3))},1e3)}catch(re){console.error("[Call] Failed to handle answer:",re),O()}})();break}case"ICE_CANDIDATE":{if(!z.candidate)return;if(y.current&&y.current.remoteDescription)try{y.current.addIceCandidate(new RTCIceCandidate(JSON.parse(z.candidate)))}catch{}else N.current.push(z.candidate);break}case"CALL_END":case"CALL_REJECT":case"CALL_BUSY":{O();break}}}),[O]);const Q={callState:t,callType:n,remoteUser:s,roomId:a,localStream:c,remoteStream:d,isAudioMuted:v,isVideoOff:S,callDuration:m,startCall:se,acceptCall:W,rejectCall:F,endCall:Y,toggleAudio:J,toggleVideo:Z,CALL_STATE:st};return o.jsx(Wm.Provider,{value:Q,children:e})}function Gm(){const e=g.useContext(Wm);if(!e)throw new Error("useCall must be used within CallProvider");return e}const Zm=g.createContext(),br={IDLE:"idle",JOINING:"joining",ACTIVE:"active"};function S4({children:e}){const[t,r]=g.useState(br.IDLE),[n,i]=g.useState(null),[s,l]=g.useState(null),[a,u]=g.useState(null),[c,f]=g.useState({}),[d,h]=g.useState([]),[v,C]=g.useState(!1),[S,E]=g.useState(!1),m=g.useRef({}),p=g.useRef(null),y=g.useRef(br.IDLE),k=g.useRef(null),N=localStorage.getItem("username");g.useEffect(()=>{y.current=t},[t]),g.useEffect(()=>{k.current=n},[n]);const R=g.useCallback(()=>{Object.values(m.current).forEach(F=>F.close()),m.current={},p.current&&(p.current.getTracks().forEach(F=>F.stop()),p.current=null),u(null),f({}),h([]),r(br.IDLE),i(null),l(null),C(!1),E(!1)},[]),P=g.useCallback(async(F,Y,J,Z)=>{m.current[F]&&m.current[F].close();const Q=await qu({onIceCandidate:b=>{ze({type:"CONF_ICE",roomId:J,content:"",extra:{target:F,confId:k.current,candidate:JSON.stringify(b)}})},onTrack:b=>{f(D=>({...D,[F]:b}))},onConnectionStateChange:b=>{(b==="disconnected"||b==="failed")&&(m.current[F]&&(m.current[F].close(),delete m.current[F]),f(D=>{const z={...D};return delete z[F],z}))}});if(Y.getTracks().forEach(b=>Q.addTrack(b,Y)),m.current[F]=Q,Z){const b=await Q.createOffer();await Q.setLocalDescription(b),ze({type:"CONF_OFFER",roomId:J,content:"",extra:{target:F,confId:k.current,sdp:JSON.stringify(b)}})}return Q},[]),L=g.useCallback(async(F,Y="video")=>{if(y.current===br.IDLE)try{r(br.JOINING),l(F);const J=await Ju(Y);p.current=J,u(J);let Z;try{Z=await we("/api/conference",{method:"POST",body:JSON.stringify({roomId:F})})}catch{const b=await we(`/api/rooms/${encodeURIComponent(F)}`);Z={id:F+"-conf"}}const Q=Z.id||Z.confId;i(Q);try{await we(`/api/conference/${encodeURIComponent(Q)}/join`,{method:"POST"})}catch(b){console.warn("[Conf] Join REST failed, trying WS:",b)}ze({type:"CONF_JOIN",roomId:F,content:"",extra:{confId:Q}}),r(br.ACTIVE)}catch(J){console.error("[Conf] Failed to start conference:",J),R()}},[R]),B=g.useCallback(()=>{y.current!==br.IDLE&&(ze({type:"CONF_LEAVE",roomId:s,content:"",extra:{confId:k.current}}),k.current&&we(`/api/conference/${encodeURIComponent(k.current)}/leave`,{method:"POST"}).catch(()=>{}),R())},[s,R]),O=g.useCallback(()=>{p.current&&(p.current.getAudioTracks().forEach(F=>{F.enabled=!F.enabled}),C(F=>!F))},[]),se=g.useCallback(()=>{p.current&&(p.current.getVideoTracks().forEach(F=>{F.enabled=!F.enabled}),E(F=>!F))},[]);g.useEffect(()=>B2(Y=>{const J=Y.extra||{},Z=Y.sender;switch(Y.type){case"CONF_PEERS":{const Q=J.peers||[];h(Q),p.current&&Q.forEach(b=>{b!==N&&P(b,p.current,Y.roomId,!0)});break}case"CONF_OFFER":{if(!p.current)return;(async()=>{try{const Q=await P(Z,p.current,Y.roomId,!1),b=JSON.parse(J.sdp);await Q.setRemoteDescription(new RTCSessionDescription(b));const D=await Q.createAnswer();await Q.setLocalDescription(D),ze({type:"CONF_ANSWER",roomId:Y.roomId,content:"",extra:{target:Z,confId:J.confId,sdp:JSON.stringify(D)}})}catch(Q){console.error("[Conf] Failed to handle offer from",Z,Q)}})();break}case"CONF_ANSWER":{const Q=m.current[Z];if(!Q)return;(async()=>{try{const b=JSON.parse(J.sdp);await Q.setRemoteDescription(new RTCSessionDescription(b))}catch(b){console.error("[Conf] Failed to handle answer from",Z,b)}})();break}case"CONF_ICE":{const Q=m.current[Z];if(!Q)return;try{Q.addIceCandidate(new RTCIceCandidate(JSON.parse(J.candidate)))}catch{}break}case"CONF_JOIN":{if(Z===N)return;h(Q=>Q.includes(Z)?Q:[...Q,Z]);break}case"CONF_LEAVE":{m.current[Z]&&(m.current[Z].close(),delete m.current[Z]),f(Q=>{const b={...Q};return delete b[Z],b}),h(Q=>Q.filter(b=>b!==Z));break}}}),[N,P]);const W={confState:t,confId:n,confRoomId:s,localStream:a,peerStreams:c,participants:d,isAudioMuted:v,isVideoOff:S,startConference:L,leaveConference:B,toggleAudio:O,toggleVideo:se,CONF_STATE:br};return o.jsx(Zm.Provider,{value:W,children:e})}function Km(){const e=g.useContext(Zm);if(!e)throw new Error("useConference must be used within ConferenceProvider");return e}function k4(){const{convInfo:e,isPending:t}=Ys(),{openFriendSidebar:r,openSidebar:n}=pt(),{startCall:i,callState:s,CALL_STATE:l}=Gm(),{startConference:a,confState:u,CONF_STATE:c}=Km(),f=e==null?void 0:e.friendInfo,d=e==null?void 0:e.isGroup,h=e==null?void 0:e.id,v=ur();g.useEffect(()=>{document.title=(f==null?void 0:f.fullname)||_i},[f]);function C(){window.matchMedia("(max-width: 640px)").matches?(v("/chat",{replace:!0}),document.title=_i):n()}function S(){!f||!h||s!==l.IDLE||i(f.id,h,"audio")}function E(){!f||!h||s!==l.IDLE||i(f.id,h,"video")}function m(){!h||u!==c.IDLE||a(h,"video")}return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"z-10 flex min-h-20 select-none items-center gap-2 rounded-b-xl border-b border-l border-r border-transparent bg-bgPrimary p-2 shadow-lg dark:border-LightShade/20 dark:bg-bgPrimary-dark",children:[o.jsx(kt,{addClass:"md:hidden",onClick:C,children:o.jsx(kt.Back,{})}),t?o.jsx(He,{size:"medium"}):o.jsx(Tm,{onClick:r,userData:f}),!t&&f&&h&&o.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[!d&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:S,disabled:s!==l.IDLE,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/70 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/70",title:"",children:o.jsx(E2,{})}),o.jsx("button",{onClick:E,disabled:s!==l.IDLE,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/70 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/70",title:"",children:o.jsx(mm,{})})]}),d&&o.jsx("button",{onClick:m,disabled:u!==c.IDLE,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/70 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/70",title:"",children:o.jsx(sd,{})})]})]}),o.jsx(x4,{friend:f})]})}function E4(){var l;const e=mt(),{convInfo:t}=Ys(),r=t==null?void 0:t.id,n=(l=t==null?void 0:t.friendInfo)==null?void 0:l.id,{mutate:i,isPending:s}=Ks({mutationFn:Fw,onMutate:async a=>{await e.cancelQueries({queryKey:["friend",n]});const u=e.getQueryData(["friend",n]);return e.setQueryData(["friend",n],c=>({...c,pages:c==null?void 0:c.pages.slice().map((f,d)=>d===0?f?[...f,a]:[a]:f)})),{previousMessages:u}},onSuccess:a=>{r||e.setQueryData(["convInfo",n],u=>({...u,id:a.conversation_id}))},onError:(a,u,c)=>{te.error(a.message),e.setQueryData(["friend",n],c.previousMessages)}});return{isSending:s,sendNewMessage:i}}function j4(){var pe;const{convInfo:e,isPending:t,isError:r}=Ys(),[n,i]=g.useState(""),{isSending:s,sendNewMessage:l}=E4(),{user:a}=Kt(),u=e==null?void 0:e.id,c=(pe=e==null?void 0:e.friendInfo)==null?void 0:pe.id,f=a==null?void 0:a.id,d=g.useRef(null),h=g.useRef(null),v=mt(),[C,S]=g.useState(!1),[E,m]=g.useState(0),p=g.useRef(null),y=g.useRef([]),k=g.useRef(null),N=g.useRef(null),[R,P]=g.useState(!1),[L,B]=g.useState(0),O=g.useRef(null),se=g.useRef([]),W=g.useRef(null),F=g.useRef(null),Y=g.useRef(null),J=g.useRef(null),[Z,Q]=g.useState(!1);function b(le){v.setQueryData(["friend",c],ce=>ce&&{...ce,pages:ce.pages.map((ae,qt)=>qt===0?[...ae||[],le]:ae)})}function D(le){var ae;if(le.preventDefault(),(ae=d.current)==null||ae.focus(),!n)return;const ce={id:Xi(),conversation_id:u,content:n,friendUserId:c,sender_id:f,created_at:new Date,optimistic:!0};i(""),l(ce,{onError:(qt,gt)=>i(gt.content)})}async function z(le){var gt;const ce=(gt=le.target.files)==null?void 0:gt[0];if(!ce)return;le.target.value="",Q(!0);const ae=Xi(),qt={id:ae,conversation_id:u,content:` ${ce.name}`,sender_id:f,created_at:new Date().toISOString(),type:"CHAT",fileUrl:null,fileName:ce.name,optimistic:!0};b(qt);try{await Dw({id:ae,conversation_id:u,friendUserId:c,file:ce})}catch(Ft){te.error(Ft.message||"  ")}finally{Q(!1)}}const K=g.useCallback(async()=>{try{const le=await navigator.mediaDevices.getUserMedia({audio:!0}),ce=new MediaRecorder(le,{mimeType:b4()});y.current=[],ce.ondataavailable=ae=>{ae.data.size>0&&y.current.push(ae.data)},ce.onstop=async()=>{le.getTracks().forEach(Ft=>Ft.stop()),clearInterval(k.current);const ae=(Date.now()-N.current)/1e3,qt=new Blob(y.current,{type:ce.mimeType});if(ae<1){te.error("  "),S(!1),m(0);return}Q(!0),S(!1),m(0);const gt=Xi();b({id:gt,conversation_id:u,content:"  ",sender_id:f,created_at:new Date().toISOString(),type:"VOICE",duration:Math.round(ae),optimistic:!0});try{await Vw({id:gt,conversation_id:u,friendUserId:c,blob:qt,duration:ae})}catch(Ft){te.error(Ft.message||"  ")}finally{Q(!1)}},p.current=ce,ce.start(),N.current=Date.now(),S(!0),m(0),k.current=setInterval(()=>{m(Math.floor((Date.now()-N.current)/1e3))},1e3)}catch{te.error("   ")}},[u,c,f]);function re(){var le;(le=p.current)==null||le.stop()}const _e=g.useCallback(async()=>{try{const le=await navigator.mediaDevices.getUserMedia({video:{width:400,height:400,facingMode:"user"},audio:!0});Y.current=le,J.current&&(J.current.srcObject=le,J.current.play().catch(()=>{}));const ce=new MediaRecorder(le,{mimeType:N4()});se.current=[],ce.ondataavailable=ae=>{ae.data.size>0&&se.current.push(ae.data)},ce.onstop=async()=>{le.getTracks().forEach(Ft=>Ft.stop()),clearInterval(W.current);const ae=(Date.now()-F.current)/1e3,qt=new Blob(se.current,{type:ce.mimeType});if(ae<1){te.error("  "),P(!1),B(0);return}Q(!0),P(!1),B(0);const gt=Xi();b({id:gt,conversation_id:u,content:" ",sender_id:f,created_at:new Date().toISOString(),type:"VIDEO_CIRCLE",duration:Math.round(ae),optimistic:!0});try{await Uw({id:gt,conversation_id:u,friendUserId:c,blob:qt,duration:ae})}catch(Ft){te.error(Ft.message||"  ")}finally{Q(!1)}},O.current=ce,ce.start(),F.current=Date.now(),P(!0),B(0),W.current=setInterval(()=>{B(Math.floor((Date.now()-F.current)/1e3))},1e3),setTimeout(()=>{var ae;((ae=O.current)==null?void 0:ae.state)==="recording"&&O.current.stop()},6e4)}catch{te.error("     ")}},[u,c,f]);function ve(){var le;(le=O.current)==null||le.stop()}function Tt(le){const ce=Math.floor(le/60),ae=le%60;return`${ce}:${ae.toString().padStart(2,"0")}`}return r?null:R?o.jsx("div",{className:"px-4 py-2",children:o.jsxs("div",{className:"mx-auto flex max-w-3xl flex-col items-center gap-3 rounded-2xl border border-transparent bg-bgPrimary p-4 shadow-lg dark:border-LightShade/20 dark:bg-LightShade/20",children:[o.jsxs("div",{className:"relative h-48 w-48 overflow-hidden rounded-full border-4 border-red-500 shadow-lg",children:[o.jsx("video",{ref:J,autoPlay:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover",style:{transform:"scaleX(-1)"}}),o.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 rounded-full bg-black/60 px-3 py-0.5 text-sm font-mono text-white",children:Tt(L)})]}),o.jsx("button",{onClick:ve,className:"flex h-12 w-12 items-center justify-center rounded-full bg-red-500 text-white shadow-lg transition hover:bg-red-600 active:scale-95",title:" ",children:o.jsx(Yf,{className:"text-2xl"})}),o.jsx("p",{className:"text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:". 60 .    ."})]})}):C?o.jsx("div",{className:"px-4 py-2",children:o.jsxs("div",{className:"mx-auto flex max-w-3xl items-center gap-3 rounded-full border border-transparent bg-bgPrimary px-4 py-2 shadow-lg dark:border-LightShade/20 dark:bg-LightShade/20",children:[o.jsx("span",{className:"h-3 w-3 animate-pulse rounded-full bg-red-500"}),o.jsx("span",{className:"font-mono text-sm",children:Tt(E)}),o.jsx("span",{className:"flex-1 text-sm text-textPrimary/50 dark:text-textPrimary-dark/50",children:" ..."}),o.jsx("button",{onClick:re,className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-500 text-white transition hover:bg-red-600 active:scale-95",title:"  ",children:o.jsx(Yf,{className:"text-xl"})})]})}):o.jsx("div",{className:"px-4 py-2",children:o.jsxs("form",{className:"mx-auto grid max-w-3xl grid-cols-[auto_1fr_auto_auto_auto] items-center gap-1 overflow-hidden rounded-full border border-transparent bg-bgPrimary shadow-lg dark:border-LightShade/20 dark:bg-LightShade/20",children:[o.jsx("label",{htmlFor:"fileAttach",className:"flex h-10 w-10 cursor-pointer items-center justify-center rounded-full text-xl text-textPrimary/60 transition hover:bg-LightShade/20 active:scale-95 dark:text-textPrimary-dark/60 ml-1",title:" ",children:Z?o.jsx(He,{size:"small"}):o.jsx(y2,{})}),o.jsx("input",{ref:h,id:"fileAttach",type:"file",className:"hidden",onChange:z,disabled:t||Z}),o.jsx("label",{htmlFor:"inputMessage",className:"sr-only"}),o.jsx("input",{disabled:t,className:"h-12 w-full bg-transparent pr-2 outline-none",ref:d,value:n,onChange:le=>i(le.target.value),type:"text",placeholder:"",id:"inputMessage",autoComplete:"off"}),o.jsx("button",{type:"button",onClick:K,disabled:t||Z,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/60 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/60",title:" ",children:o.jsx(nd,{})}),o.jsx("button",{type:"button",onClick:_e,disabled:t||Z,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/60 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/60",title:"",children:o.jsx(mm,{})}),o.jsx("button",{className:"m-1 flex h-10 w-10 items-center justify-center rounded-full bg-bgAccent text-2xl text-textPrimary-dark hover:bg-bgAccentDim active:scale-95 disabled:opacity-70 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",disabled:s||t||Z,onClick:D,type:"submit",children:s?o.jsx(He,{size:"small"}):o.jsx(v2,{"aria-label":"send button"})})]})})}function b4(){return MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":MediaRecorder.isTypeSupported("audio/ogg;codecs=opus")?"audio/ogg;codecs=opus":MediaRecorder.isTypeSupported("audio/mp4")?"audio/mp4":""}function N4(){return MediaRecorder.isTypeSupported("video/webm;codecs=vp9,opus")?"video/webm;codecs=vp9,opus":MediaRecorder.isTypeSupported("video/webm;codecs=vp8,opus")?"video/webm;codecs=vp8,opus":MediaRecorder.isTypeSupported("video/webm")?"video/webm":MediaRecorder.isTypeSupported("video/mp4")?"video/mp4":""}function fh(){return o.jsxs("div",{className:"relative col-span-2 grid h-screen-safe w-full grid-cols-1 grid-rows-[auto_1fr_auto] overflow-hidden md:col-span-1",children:[o.jsx(k4,{}),o.jsx(v4,{}),o.jsx(j4,{})]})}function _4(e){const t=Math.floor(e/60).toString().padStart(2,"0"),r=(e%60).toString().padStart(2,"0");return`${t}:${r}`}function L4(){const{callState:e,callType:t,remoteUser:r,localStream:n,remoteStream:i,isAudioMuted:s,isVideoOff:l,callDuration:a,acceptCall:u,rejectCall:c,endCall:f,toggleAudio:d,toggleVideo:h,CALL_STATE:v}=Gm(),C=g.useRef(null),S=g.useRef(null);if(g.useEffect(()=>{C.current&&n&&(C.current.srcObject=n)},[n]),g.useEffect(()=>{S.current&&i&&(S.current.srcObject=i)},[i]),e===v.IDLE)return null;const E=t==="video",m=e===v.RINGING,p=e===v.CALLING,y=e===v.ACTIVE;return o.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col bg-gray-900/95 text-white",children:[E&&y?o.jsx("video",{ref:S,autoPlay:!0,playsInline:!0,className:"absolute inset-0 h-full w-full object-cover"}):o.jsx("audio",{ref:S,autoPlay:!0}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center pt-12",children:[o.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-purple-600 text-4xl font-bold uppercase shadow-lg",children:(r==null?void 0:r[0])||"?"}),o.jsx("p",{className:"mt-4 text-2xl font-semibold",children:r}),o.jsxs("p",{className:"mt-1 text-sm text-gray-300",children:[m&&" ...",p&&"...",y&&_4(a)]}),m&&o.jsx("p",{className:"mt-1 text-xs text-gray-400",children:E?" ":" "})]}),E&&n&&o.jsx("div",{className:"absolute bottom-32 right-4 z-20 h-40 w-28 overflow-hidden rounded-2xl border-2 border-white/30 shadow-lg",children:o.jsx("video",{ref:C,autoPlay:!0,playsInline:!0,muted:!0,className:"h-full w-full object-cover"})}),o.jsxs("div",{className:"relative z-10 mt-auto flex items-center justify-center gap-6 pb-12",children:[m&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:c,className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500 text-3xl shadow-lg transition hover:bg-red-600 active:scale-95",title:"",children:o.jsx(Iu,{})}),o.jsx("button",{onClick:u,className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-500 text-3xl shadow-lg transition hover:bg-green-600 active:scale-95",title:"",children:E?o.jsx(w2,{}):o.jsx(k2,{})})]}),(y||p)&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:d,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${s?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,title:s?" ":" ",children:s?o.jsx(vm,{}):o.jsx(nd,{})}),E&&o.jsx("button",{onClick:h,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${l?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,title:l?" ":" ",children:l?o.jsx(ym,{}):o.jsx(gm,{})}),o.jsx("button",{onClick:f,className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500 text-3xl shadow-lg transition hover:bg-red-600 active:scale-95",title:"",children:o.jsx(Iu,{})})]})]})]})}function hh({stream:e,muted:t=!1,label:r}){const n=g.useRef(null);return g.useEffect(()=>{n.current&&e&&(n.current.srcObject=e)},[e]),o.jsxs("div",{className:"relative flex items-center justify-center overflow-hidden rounded-2xl bg-gray-800 shadow-lg",children:[e?o.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:t,className:"h-full w-full object-cover"}):o.jsx("div",{className:"flex h-full w-full items-center justify-center text-4xl font-bold uppercase text-gray-500",children:(r==null?void 0:r[0])||"?"}),r&&o.jsx("span",{className:"absolute bottom-2 left-2 rounded-md bg-black/50 px-2 py-0.5 text-xs text-white",children:r})]})}function P4(){const{confState:e,localStream:t,peerStreams:r,participants:n,isAudioMuted:i,isVideoOff:s,leaveConference:l,toggleAudio:a,toggleVideo:u,CONF_STATE:c}=Km();if(e===c.IDLE)return null;const f=Object.entries(r),d=1+f.length,h=localStorage.getItem("username");let v="grid-cols-1";return d===2||d>=3&&d<=4?v="grid-cols-2":d>=5&&(v="grid-cols-3"),o.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col bg-gray-900 text-white",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:["  ",n.length+1," ",n.length===0?"":n.length<4?"":""]}),e===c.JOINING&&o.jsx("span",{className:"animate-pulse text-sm text-gray-400",children:"..."})]}),o.jsxs("div",{className:`grid flex-1 gap-2 p-2 ${v}`,style:{gridAutoRows:"1fr"},children:[o.jsx(hh,{stream:t,muted:!0,label:`${h} ()`}),f.map(([C,S])=>o.jsx(hh,{stream:S,label:C},C))]}),o.jsxs("div",{className:"flex items-center justify-center gap-6 pb-8 pt-4",children:[o.jsx("button",{onClick:a,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${i?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,title:i?" ":" ",children:i?o.jsx(vm,{}):o.jsx(nd,{})}),o.jsx("button",{onClick:u,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${s?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,title:s?" ":" ",children:s?o.jsx(ym,{}):o.jsx(gm,{})}),o.jsx("button",{onClick:l,className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500 text-3xl shadow-lg transition hover:bg-red-600 active:scale-95",title:" ",children:o.jsx(Iu,{})})]})]})}function R4(e){return ee({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"}}]})(e)}function I4(e){return ee({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}const O4=()=>o.jsx(un,{children:o.jsxs("div",{className:"flex max-w-lg flex-col items-center",children:[o.jsx(I4,{className:"mb-4 text-4xl text-RedColor sm:text-5xl"}),o.jsx(xd,{children:"Oops! We can't seem to find that page."}),o.jsx("p",{className:"mb-4 text-center opacity-60",children:"The page you're looking for might have been removed, or the URL might be incorrect."}),o.jsxs(qc,{to:"/",className:"inline-flex items-center gap-1 rounded-md bg-bgAccent px-4 py-2 font-bold text-textPrimary-dark dark:bg-bgAccent-dark",children:["Back to Home",o.jsx(R4,{})]})]})});function A4({children:e}){const t=Mi();return g.useEffect(()=>{/^\/m\/[^/]+$/.test(t.pathname)||(document.title=_i)},[t]),e}const M4=()=>o.jsx(un,{children:o.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8 leading-relaxed",children:[o.jsx("h1",{className:"sr-only",children:" BarsikChat"}),o.jsxs("div",{className:"pointer-events-none mb-6 flex select-none flex-col items-center",children:[o.jsx("span",{className:"text-8xl",children:""}),o.jsx("span",{className:"mt-2 text-3xl font-bold text-textAccent dark:text-textAccent-dark",children:"BarsikChat"})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:" "}),o.jsx("p",{children:"BarsikChat          .    React.js  Spring Boot,      . BarsikChat     ,  ,        ."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:""}),o.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[o.jsx("li",{children:"      WebSocket"}),o.jsx("li",{children:"   JWT-"}),o.jsx("li",{children:"   "}),o.jsx("li",{children:"   "}),o.jsx("li",{children:"    "}),o.jsx("li",{children:"      "}),o.jsx("li",{children:"Push-"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:""}),o.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:["React.js","Spring Boot","PostgreSQL","WebSocket","Tailwind CSS","Docker"].map(e=>o.jsx("div",{className:"rounded-lg border border-bgSecondary bg-white/50 p-3 text-center dark:border-bgSecondary-dark dark:bg-black/20",children:o.jsx("span",{className:"font-semibold",children:e})},e))})]}),o.jsx("footer",{className:"mt-6 text-center text-sm opacity-70",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," BarsikChat"]})})]})}),T4=()=>o.jsx(un,{children:o.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8 leading-relaxed",children:[o.jsx("h1",{className:"mb-8 text-3xl font-bold",children:" "}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"1. "}),o.jsx("p",{children:"BarsikChat (,   )    .   ,   ,        ."})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"2.  "}),o.jsx("p",{className:"mb-3",children:"   :"}),o.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),"  ,   "]}),o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),"  ,     "]}),o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),"     "]}),o.jsxs("li",{children:[o.jsx("strong",{children:" :"})," IP-,    "]})]})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"3.  "}),o.jsx("p",{className:"mb-3",children:"    :"}),o.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[o.jsx("li",{children:"    BarsikChat"}),o.jsx("li",{children:"     "}),o.jsx("li",{children:"   "}),o.jsx("li",{children:"    "}),o.jsx("li",{children:"  "})]})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"4.  "}),o.jsx("p",{children:"       PostgreSQL     ,       ."})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"5.  "}),o.jsx("p",{children:"  ,            .        ,     ."})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"6.  "}),o.jsx("p",{className:"mb-3",children:"  :"}),o.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[o.jsx("li",{children:"     "}),o.jsx("li",{children:"   "}),o.jsx("li",{children:"     "}),o.jsx("li",{children:"    "})]})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"7. "}),o.jsx("p",{children:"   , JWT-    .            100% .     ."})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"8.  "}),o.jsx("p",{children:"     .         .   BarsikChat    ."})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"9. "}),o.jsx("p",{children:"          ."})]}),o.jsx("footer",{className:"mt-12 border-t border-bgSecondary pt-6 dark:border-bgSecondary-dark",children:o.jsx("p",{className:"text-sm opacity-70",children:" : 23  2026"})})]})}),F4=()=>o.jsx(un,{children:o.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8 leading-relaxed",children:[o.jsx("h1",{className:"mb-8 text-3xl font-bold",children:" "}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"1.  "}),o.jsx("p",{children:" BarsikChat,       .      , ,    ."})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"2. "}),o.jsx("p",{className:"mb-3",children:"  BarsikChat    .     :"}),o.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[o.jsx("li",{children:"      "}),o.jsx("li",{children:"   -  "}),o.jsx("li",{children:"    "}),o.jsx("li",{children:"      "})]})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"3.   "}),o.jsx("p",{children:" BarsikChat   . BarsikChat    ,   ,        ."})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"4.  "}),o.jsx("p",{children:"BarsikChat      ,        ."})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"5.  "}),o.jsx("p",{children:" BarsikChat      . BarsikChat         ."})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"6. "}),o.jsx("p",{children:"BarsikChat       ,       .        ."})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"7.  "}),o.jsx("p",{children:"BarsikChat       .   ,      ."})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"8.  "}),o.jsx("p",{className:"mb-3",children:"  :"}),o.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[o.jsx("li",{children:",     "}),o.jsx("li",{children:"   "}),o.jsx("li",{children:"     "}),o.jsx("li",{children:"     "}),o.jsx("li",{children:"      "})]})]}),o.jsxs("section",{className:"mb-6",children:[o.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"9.  "}),o.jsx("p",{children:"                 ."})]}),o.jsx("footer",{className:"mt-12 border-t border-bgSecondary pt-6 dark:border-bgSecondary-dark",children:o.jsx("p",{className:"text-sm opacity-70",children:" : 23  2026"})})]})}),D4=new ox;function V4(){return o.jsx(zv,{children:o.jsx(fx,{client:D4,children:o.jsx(C4,{children:o.jsxs(S4,{children:[o.jsx(m2,{position:"top-center",toastOptions:{error:{duration:5e3},style:{maxWidth:"500px"}}}),o.jsx(L4,{}),o.jsx(P4,{}),o.jsx(Nv,{children:o.jsx(A4,{children:o.jsxs(wv,{children:[o.jsx(Vt,{path:"/",element:o.jsx(yv,{to:"/chat",replace:!0})}),o.jsxs(Vt,{path:"/chat",element:o.jsx(t4,{children:o.jsx(e4,{})}),children:[o.jsx(Vt,{path:"/chat/room/:roomId",element:o.jsx(fh,{})}),o.jsx(Vt,{path:"/chat/:userId",element:o.jsx(fh,{})})]}),o.jsx(Vt,{path:"signup",element:o.jsx(n4,{})}),o.jsx(Vt,{path:"signin",element:o.jsx(s4,{})}),o.jsx(Vt,{path:"about",element:o.jsx(M4,{})}),o.jsx(Vt,{path:"privacy",element:o.jsx(T4,{})}),o.jsx(Vt,{path:"terms",element:o.jsx(F4,{})}),o.jsx(Vt,{path:"*",element:o.jsx(O4,{})})]})})})]})})})})}Ta.createRoot(document.getElementById("root")).render(o.jsx(ie.StrictMode,{children:o.jsx(V4,{})}));
