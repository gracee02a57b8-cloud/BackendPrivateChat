var Eo=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var S=(e,t,n)=>(Eo(e,t,"read from private field"),n?n.call(e):t.get(e)),ne=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},q=(e,t,n,r)=>(Eo(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var vl=(e,t,n,r)=>({set _(i){q(e,t,i,n)},get _(){return S(e,t,r)}}),fe=(e,t,n)=>(Eo(e,t,"access private method"),n);function Mm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Fm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lh={exports:{}},eo={},ah={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),Vm=Symbol.for("react.portal"),Dm=Symbol.for("react.fragment"),Um=Symbol.for("react.strict_mode"),$m=Symbol.for("react.profiler"),zm=Symbol.for("react.provider"),Hm=Symbol.for("react.context"),Bm=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Wm=Symbol.for("react.memo"),Zm=Symbol.for("react.lazy"),nf=Symbol.iterator;function Gm(e){return e===null||typeof e!="object"?null:(e=nf&&e[nf]||e["@@iterator"],typeof e=="function"?e:null)}var oh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uh=Object.assign,ch={};function Qi(e,t,n){this.props=e,this.context=t,this.refs=ch,this.updater=n||oh}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dh(){}dh.prototype=Qi.prototype;function Ec(e,t,n){this.props=e,this.context=t,this.refs=ch,this.updater=n||oh}var Lc=Ec.prototype=new dh;Lc.constructor=Ec;uh(Lc,Qi.prototype);Lc.isPureReactComponent=!0;var rf=Array.isArray,fh=Object.prototype.hasOwnProperty,_c={current:null},hh={key:!0,ref:!0,__self:!0,__source:!0};function ph(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)fh.call(t,r)&&!hh.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:ol,type:e,key:s,ref:a,props:i,_owner:_c.current}}function Km(e,t){return{$$typeof:ol,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ol}function qm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sf=/\/+/g;function Lo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qm(""+e.key):t.toString(36)}function Hl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ol:case Vm:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Lo(a,0):r,rf(i)?(n="",e!=null&&(n=e.replace(sf,"$&/")+"/"),Hl(i,t,n,"",function(c){return c})):i!=null&&(Pc(i)&&(i=Km(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(sf,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",rf(e))for(var o=0;o<e.length;o++){s=e[o];var u=r+Lo(s,o);a+=Hl(s,t,n,u,i)}else if(u=Gm(e),typeof u=="function")for(e=u.call(e),o=0;!(s=e.next()).done;)s=s.value,u=r+Lo(s,o++),a+=Hl(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function wl(e,t,n){if(e==null)return e;var r=[],i=0;return Hl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Jm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},Bl={transition:null},Ym={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Bl,ReactCurrentOwner:_c};function mh(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:wl,forEach:function(e,t,n){wl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wl(e,function(){t++}),t},toArray:function(e){return wl(e,function(t){return t})||[]},only:function(e){if(!Pc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Qi;me.Fragment=Dm;me.Profiler=$m;me.PureComponent=Ec;me.StrictMode=Um;me.Suspense=Qm;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ym;me.act=mh;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uh({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=_c.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)fh.call(t,u)&&!hh.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:ol,type:e.type,key:i,ref:s,props:r,_owner:a}};me.createContext=function(e){return e={$$typeof:Hm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zm,_context:e},e.Consumer=e};me.createElement=ph;me.createFactory=function(e){var t=ph.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:Bm,render:e}};me.isValidElement=Pc;me.lazy=function(e){return{$$typeof:Zm,_payload:{_status:-1,_result:e},_init:Jm}};me.memo=function(e,t){return{$$typeof:Wm,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Bl.transition;Bl.transition={};try{e()}finally{Bl.transition=t}};me.unstable_act=mh;me.useCallback=function(e,t){return gt.current.useCallback(e,t)};me.useContext=function(e){return gt.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};me.useEffect=function(e,t){return gt.current.useEffect(e,t)};me.useId=function(){return gt.current.useId()};me.useImperativeHandle=function(e,t,n){return gt.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return gt.current.useMemo(e,t)};me.useReducer=function(e,t,n){return gt.current.useReducer(e,t,n)};me.useRef=function(e){return gt.current.useRef(e)};me.useState=function(e){return gt.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return gt.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return gt.current.useTransition()};me.version="18.3.1";ah.exports=me;var m=ah.exports;const xe=Fm(m),Xm=Mm({__proto__:null,default:xe},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=m,tg=Symbol.for("react.element"),ng=Symbol.for("react.fragment"),rg=Object.prototype.hasOwnProperty,ig=eg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sg={key:!0,ref:!0,__self:!0,__source:!0};function gh(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)rg.call(t,r)&&!sg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:tg,type:e,key:s,ref:a,props:i,_owner:ig.current}}eo.Fragment=ng;eo.jsx=gh;eo.jsxs=gh;lh.exports=eo;var l=lh.exports,uu={},xh={exports:{}},Mt={},yh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,O){var F=P.length;P.push(O);e:for(;0<F;){var R=F-1>>>1,$=P[R];if(0<i($,O))P[R]=O,P[F]=$,F=R;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var O=P[0],F=P.pop();if(F!==O){P[0]=F;e:for(var R=0,$=P.length,le=$>>>1;R<le;){var G=2*(R+1)-1,K=P[G],te=G+1,oe=P[te];if(0>i(K,F))te<$&&0>i(oe,K)?(P[R]=oe,P[te]=F,R=te):(P[R]=K,P[G]=F,R=G);else if(te<$&&0>i(oe,F))P[R]=oe,P[te]=F,R=te;else break e}}return O}function i(P,O){var F=P.sortIndex-O.sortIndex;return F!==0?F:P.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,f=null,p=3,v=!1,y=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=P)r(c),O.sortIndex=O.expirationTime,t(u,O);else break;O=n(c)}}function b(P){if(w=!1,g(P),!y)if(n(u)!==null)y=!0,W(j);else{var O=n(c);O!==null&&T(b,O.startTime-P)}}function j(P,O){y=!1,w&&(w=!1,x(N),N=-1),v=!0;var F=p;try{for(g(O),f=n(u);f!==null&&(!(f.expirationTime>O)||P&&!Y());){var R=f.callback;if(typeof R=="function"){f.callback=null,p=f.priorityLevel;var $=R(f.expirationTime<=O);O=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(u)&&r(u),g(O)}else r(u);f=n(u)}if(f!==null)var le=!0;else{var G=n(c);G!==null&&T(b,G.startTime-O),le=!1}return le}finally{f=null,p=F,v=!1}}var _=!1,E=null,N=-1,M=5,I=-1;function Y(){return!(e.unstable_now()-I<M)}function V(){if(E!==null){var P=e.unstable_now();I=P;var O=!0;try{O=E(!0,P)}finally{O?X():(_=!1,E=null)}}else _=!1}var X;if(typeof h=="function")X=function(){h(V)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,de=ee.port2;ee.port1.onmessage=V,X=function(){de.postMessage(null)}}else X=function(){C(V,0)};function W(P){E=P,_||(_=!0,X())}function T(P,O){N=C(function(){P(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,W(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var F=p;p=O;try{return P()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,O){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=p;p=P;try{return O()}finally{p=F}},e.unstable_scheduleCallback=function(P,O,F){var R=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?R+F:R):F=R,P){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=F+$,P={id:d++,callback:O,priorityLevel:P,startTime:F,expirationTime:$,sortIndex:-1},F>R?(P.sortIndex=F,t(c,P),n(u)===null&&P===n(c)&&(w?(x(N),N=-1):w=!0,T(b,F-R))):(P.sortIndex=$,t(u,P),y||v||(y=!0,W(j))),P},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(P){var O=p;return function(){var F=p;p=O;try{return P.apply(this,arguments)}finally{p=F}}}})(vh);yh.exports=vh;var lg=yh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag=m,Ot=lg;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wh=new Set,Es={};function Wr(e,t){Oi(e,t),Oi(e+"Capture",t)}function Oi(e,t){for(Es[e]=t,e=0;e<t.length;e++)wh.add(t[e])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=Object.prototype.hasOwnProperty,og=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lf={},af={};function ug(e){return cu.call(af,e)?!0:cu.call(lf,e)?!1:og.test(e)?af[e]=!0:(lf[e]=!0,!1)}function cg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dg(e,t,n,r){if(t===null||typeof t>"u"||cg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ic=/[\-:]([a-z])/g;function Rc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ic,Rc);rt[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ic,Rc);rt[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ic,Rc);rt[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ac(e,t,n,r){var i=rt.hasOwnProperty(t)?rt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dg(t,n,i,r)&&(n=null),r||i===null?ug(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tn=ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cl=Symbol.for("react.element"),Xr=Symbol.for("react.portal"),ei=Symbol.for("react.fragment"),Tc=Symbol.for("react.strict_mode"),du=Symbol.for("react.profiler"),Ch=Symbol.for("react.provider"),bh=Symbol.for("react.context"),Oc=Symbol.for("react.forward_ref"),fu=Symbol.for("react.suspense"),hu=Symbol.for("react.suspense_list"),Mc=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),Sh=Symbol.for("react.offscreen"),of=Symbol.iterator;function Xi(e){return e===null||typeof e!="object"?null:(e=of&&e[of]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,_o;function us(e){if(_o===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_o=t&&t[1]||""}return`
`+_o+e}var Po=!1;function Io(e,t){if(!e||Po)return"";Po=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{Po=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?us(e):""}function fg(e){switch(e.tag){case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return e=Io(e.type,!1),e;case 11:return e=Io(e.type.render,!1),e;case 1:return e=Io(e.type,!0),e;default:return""}}function pu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ei:return"Fragment";case Xr:return"Portal";case du:return"Profiler";case Tc:return"StrictMode";case fu:return"Suspense";case hu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bh:return(e.displayName||"Context")+".Consumer";case Ch:return(e._context.displayName||"Context")+".Provider";case Oc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mc:return t=e.displayName||null,t!==null?t:pu(e.type)||"Memo";case Fn:t=e._payload,e=e._init;try{return pu(e(t))}catch{}}return null}function hg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pu(t);case 8:return t===Tc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pg(e){var t=kh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bl(e){e._valueTracker||(e._valueTracker=pg(e))}function jh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ca(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mu(e,t){var n=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nh(e,t){t=t.checked,t!=null&&Ac(e,"checked",t,!1)}function gu(e,t){Nh(e,t);var n=dr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xu(e,t.type,n):t.hasOwnProperty("defaultValue")&&xu(e,t.type,dr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xu(e,t,n){(t!=="number"||ca(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cs=Array.isArray;function pi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function yu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function df(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(cs(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dr(n)}}function Eh(e,t){var n=dr(t.value),r=dr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ff(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sl,_h=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sl=Sl||document.createElement("div"),Sl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ls(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mg=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(e){mg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ms[t]=ms[e]})});function Ph(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ms.hasOwnProperty(e)&&ms[e]?(""+t).trim():t+"px"}function Ih(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ph(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var gg=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wu(e,t){if(t){if(gg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Cu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=null;function Fc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Su=null,mi=null,gi=null;function hf(e){if(e=dl(e)){if(typeof Su!="function")throw Error(D(280));var t=e.stateNode;t&&(t=so(t),Su(e.stateNode,e.type,t))}}function Rh(e){mi?gi?gi.push(e):gi=[e]:mi=e}function Ah(){if(mi){var e=mi,t=gi;if(gi=mi=null,hf(e),t)for(e=0;e<t.length;e++)hf(t[e])}}function Th(e,t){return e(t)}function Oh(){}var Ro=!1;function Mh(e,t,n){if(Ro)return e(t,n);Ro=!0;try{return Th(e,t,n)}finally{Ro=!1,(mi!==null||gi!==null)&&(Oh(),Ah())}}function _s(e,t){var n=e.stateNode;if(n===null)return null;var r=so(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var ku=!1;if(_n)try{var es={};Object.defineProperty(es,"passive",{get:function(){ku=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{ku=!1}function xg(e,t,n,r,i,s,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var gs=!1,da=null,fa=!1,ju=null,yg={onError:function(e){gs=!0,da=e}};function vg(e,t,n,r,i,s,a,o,u){gs=!1,da=null,xg.apply(yg,arguments)}function wg(e,t,n,r,i,s,a,o,u){if(vg.apply(this,arguments),gs){if(gs){var c=da;gs=!1,da=null}else throw Error(D(198));fa||(fa=!0,ju=c)}}function Zr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Fh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pf(e){if(Zr(e)!==e)throw Error(D(188))}function Cg(e){var t=e.alternate;if(!t){if(t=Zr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pf(i),e;if(s===r)return pf(i),t;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Vh(e){return e=Cg(e),e!==null?Dh(e):null}function Dh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dh(e);if(t!==null)return t;e=e.sibling}return null}var Uh=Ot.unstable_scheduleCallback,mf=Ot.unstable_cancelCallback,bg=Ot.unstable_shouldYield,Sg=Ot.unstable_requestPaint,Ve=Ot.unstable_now,kg=Ot.unstable_getCurrentPriorityLevel,Vc=Ot.unstable_ImmediatePriority,$h=Ot.unstable_UserBlockingPriority,ha=Ot.unstable_NormalPriority,jg=Ot.unstable_LowPriority,zh=Ot.unstable_IdlePriority,to=null,gn=null;function Ng(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(to,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:_g,Eg=Math.log,Lg=Math.LN2;function _g(e){return e>>>=0,e===0?32:31-(Eg(e)/Lg|0)|0}var kl=64,jl=4194304;function ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ds(o):(s&=a,s!==0&&(r=ds(s)))}else a=n&~i,a!==0?r=ds(a):s!==0&&(r=ds(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tn(t),i=1<<n,r|=e[n],t&=~i;return r}function Pg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ig(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-tn(s),o=1<<a,u=i[a];u===-1?(!(o&n)||o&r)&&(i[a]=Pg(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}}function Nu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hh(){var e=kl;return kl<<=1,!(kl&4194240)&&(kl=64),e}function Ao(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ul(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=n}function Rg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-tn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Dc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Se=0;function Bh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qh,Uc,Wh,Zh,Gh,Eu=!1,Nl=[],tr=null,nr=null,rr=null,Ps=new Map,Is=new Map,Dn=[],Ag="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gf(e,t){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(t.pointerId)}}function ts(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=dl(t),t!==null&&Uc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Tg(e,t,n,r,i){switch(t){case"focusin":return tr=ts(tr,e,t,n,r,i),!0;case"dragenter":return nr=ts(nr,e,t,n,r,i),!0;case"mouseover":return rr=ts(rr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ps.set(s,ts(Ps.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Is.set(s,ts(Is.get(s)||null,e,t,n,r,i)),!0}return!1}function Kh(e){var t=jr(e.target);if(t!==null){var n=Zr(t);if(n!==null){if(t=n.tag,t===13){if(t=Fh(n),t!==null){e.blockedOn=t,Gh(e.priority,function(){Wh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bu=r,n.target.dispatchEvent(r),bu=null}else return t=dl(n),t!==null&&Uc(t),e.blockedOn=n,!1;t.shift()}return!0}function xf(e,t,n){Ql(e)&&n.delete(t)}function Og(){Eu=!1,tr!==null&&Ql(tr)&&(tr=null),nr!==null&&Ql(nr)&&(nr=null),rr!==null&&Ql(rr)&&(rr=null),Ps.forEach(xf),Is.forEach(xf)}function ns(e,t){e.blockedOn===t&&(e.blockedOn=null,Eu||(Eu=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,Og)))}function Rs(e){function t(i){return ns(i,e)}if(0<Nl.length){ns(Nl[0],e);for(var n=1;n<Nl.length;n++){var r=Nl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tr!==null&&ns(tr,e),nr!==null&&ns(nr,e),rr!==null&&ns(rr,e),Ps.forEach(t),Is.forEach(t),n=0;n<Dn.length;n++)r=Dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)Kh(n),n.blockedOn===null&&Dn.shift()}var xi=Tn.ReactCurrentBatchConfig,ma=!0;function Mg(e,t,n,r){var i=Se,s=xi.transition;xi.transition=null;try{Se=1,$c(e,t,n,r)}finally{Se=i,xi.transition=s}}function Fg(e,t,n,r){var i=Se,s=xi.transition;xi.transition=null;try{Se=4,$c(e,t,n,r)}finally{Se=i,xi.transition=s}}function $c(e,t,n,r){if(ma){var i=Lu(e,t,n,r);if(i===null)Ho(e,t,r,ga,n),gf(e,r);else if(Tg(i,e,t,n,r))r.stopPropagation();else if(gf(e,r),t&4&&-1<Ag.indexOf(e)){for(;i!==null;){var s=dl(i);if(s!==null&&Qh(s),s=Lu(e,t,n,r),s===null&&Ho(e,t,r,ga,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ho(e,t,r,null,n)}}var ga=null;function Lu(e,t,n,r){if(ga=null,e=Fc(r),e=jr(e),e!==null)if(t=Zr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Fh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ga=e,null}function qh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kg()){case Vc:return 1;case $h:return 4;case ha:case jg:return 16;case zh:return 536870912;default:return 16}default:return 16}}var Jn=null,zc=null,Wl=null;function Jh(){if(Wl)return Wl;var e,t=zc,n=t.length,r,i="value"in Jn?Jn.value:Jn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Wl=i.slice(e,1<r?1-r:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function yf(){return!1}function Ft(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?El:yf,this.isPropagationStopped=yf,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),t}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hc=Ft(Wi),cl=Ae({},Wi,{view:0,detail:0}),Vg=Ft(cl),To,Oo,rs,no=Ae({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(To=e.screenX-rs.screenX,Oo=e.screenY-rs.screenY):Oo=To=0,rs=e),To)},movementY:function(e){return"movementY"in e?e.movementY:Oo}}),vf=Ft(no),Dg=Ae({},no,{dataTransfer:0}),Ug=Ft(Dg),$g=Ae({},cl,{relatedTarget:0}),Mo=Ft($g),zg=Ae({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Hg=Ft(zg),Bg=Ae({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qg=Ft(Bg),Wg=Ae({},Wi,{data:0}),wf=Ft(Wg),Zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kg[e])?!!t[e]:!1}function Bc(){return qg}var Jg=Ae({},cl,{key:function(e){if(e.key){var t=Zg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yg=Ft(Jg),Xg=Ae({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cf=Ft(Xg),ex=Ae({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),tx=Ft(ex),nx=Ae({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),rx=Ft(nx),ix=Ae({},no,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sx=Ft(ix),lx=[9,13,27,32],Qc=_n&&"CompositionEvent"in window,xs=null;_n&&"documentMode"in document&&(xs=document.documentMode);var ax=_n&&"TextEvent"in window&&!xs,Yh=_n&&(!Qc||xs&&8<xs&&11>=xs),bf=String.fromCharCode(32),Sf=!1;function Xh(e,t){switch(e){case"keyup":return lx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ti=!1;function ox(e,t){switch(e){case"compositionend":return e0(t);case"keypress":return t.which!==32?null:(Sf=!0,bf);case"textInput":return e=t.data,e===bf&&Sf?null:e;default:return null}}function ux(e,t){if(ti)return e==="compositionend"||!Qc&&Xh(e,t)?(e=Jh(),Wl=zc=Jn=null,ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yh&&t.locale!=="ko"?null:t.data;default:return null}}var cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cx[e.type]:t==="textarea"}function t0(e,t,n,r){Rh(r),t=xa(t,"onChange"),0<t.length&&(n=new Hc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ys=null,As=null;function dx(e){f0(e,0)}function ro(e){var t=ii(e);if(jh(t))return e}function fx(e,t){if(e==="change")return t}var n0=!1;if(_n){var Fo;if(_n){var Vo="oninput"in document;if(!Vo){var jf=document.createElement("div");jf.setAttribute("oninput","return;"),Vo=typeof jf.oninput=="function"}Fo=Vo}else Fo=!1;n0=Fo&&(!document.documentMode||9<document.documentMode)}function Nf(){ys&&(ys.detachEvent("onpropertychange",r0),As=ys=null)}function r0(e){if(e.propertyName==="value"&&ro(As)){var t=[];t0(t,As,e,Fc(e)),Mh(dx,t)}}function hx(e,t,n){e==="focusin"?(Nf(),ys=t,As=n,ys.attachEvent("onpropertychange",r0)):e==="focusout"&&Nf()}function px(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ro(As)}function mx(e,t){if(e==="click")return ro(t)}function gx(e,t){if(e==="input"||e==="change")return ro(t)}function xx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:xx;function Ts(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cu.call(t,i)||!rn(e[i],t[i]))return!1}return!0}function Ef(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lf(e,t){var n=Ef(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ef(n)}}function i0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s0(){for(var e=window,t=ca();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ca(e.document)}return t}function Wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yx(e){var t=s0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&i0(n.ownerDocument.documentElement,n)){if(r!==null&&Wc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Lf(n,s);var a=Lf(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vx=_n&&"documentMode"in document&&11>=document.documentMode,ni=null,_u=null,vs=null,Pu=!1;function _f(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pu||ni==null||ni!==ca(r)||(r=ni,"selectionStart"in r&&Wc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vs&&Ts(vs,r)||(vs=r,r=xa(_u,"onSelect"),0<r.length&&(t=new Hc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ni)))}function Ll(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ri={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionend:Ll("Transition","TransitionEnd")},Do={},l0={};_n&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function io(e){if(Do[e])return Do[e];if(!ri[e])return e;var t=ri[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in l0)return Do[e]=t[n];return e}var a0=io("animationend"),o0=io("animationiteration"),u0=io("animationstart"),c0=io("transitionend"),d0=new Map,Pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(e,t){d0.set(e,t),Wr(t,[e])}for(var Uo=0;Uo<Pf.length;Uo++){var $o=Pf[Uo],wx=$o.toLowerCase(),Cx=$o[0].toUpperCase()+$o.slice(1);pr(wx,"on"+Cx)}pr(a0,"onAnimationEnd");pr(o0,"onAnimationIteration");pr(u0,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(c0,"onTransitionEnd");Oi("onMouseEnter",["mouseout","mouseover"]);Oi("onMouseLeave",["mouseout","mouseover"]);Oi("onPointerEnter",["pointerout","pointerover"]);Oi("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function If(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wg(r,t,void 0,e),e.currentTarget=null}function f0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;If(i,o,c),s=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;If(i,o,c),s=u}}}if(fa)throw e=ju,fa=!1,ju=null,e}function Le(e,t){var n=t[Ou];n===void 0&&(n=t[Ou]=new Set);var r=e+"__bubble";n.has(r)||(h0(t,e,2,!1),n.add(r))}function zo(e,t,n){var r=0;t&&(r|=4),h0(n,e,r,t)}var _l="_reactListening"+Math.random().toString(36).slice(2);function Os(e){if(!e[_l]){e[_l]=!0,wh.forEach(function(n){n!=="selectionchange"&&(bx.has(n)||zo(n,!1,e),zo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_l]||(t[_l]=!0,zo("selectionchange",!1,t))}}function h0(e,t,n,r){switch(qh(t)){case 1:var i=Mg;break;case 4:i=Fg;break;default:i=$c}n=i.bind(null,t,n,e),i=void 0,!ku||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ho(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;o!==null;){if(a=jr(o),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Mh(function(){var c=s,d=Fc(n),f=[];e:{var p=d0.get(e);if(p!==void 0){var v=Hc,y=e;switch(e){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":v=Yg;break;case"focusin":y="focus",v=Mo;break;case"focusout":y="blur",v=Mo;break;case"beforeblur":case"afterblur":v=Mo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=tx;break;case a0:case o0:case u0:v=Hg;break;case c0:v=rx;break;case"scroll":v=Vg;break;case"wheel":v=sx;break;case"copy":case"cut":case"paste":v=Qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Cf}var w=(t&4)!==0,C=!w&&e==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var h=c,g;h!==null;){g=h;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,x!==null&&(b=_s(h,x),b!=null&&w.push(Ms(h,b,g)))),C)break;h=h.return}0<w.length&&(p=new v(p,y,null,n,d),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==bu&&(y=n.relatedTarget||n.fromElement)&&(jr(y)||y[Pn]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?jr(y):null,y!==null&&(C=Zr(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=vf,b="onMouseLeave",x="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=Cf,b="onPointerLeave",x="onPointerEnter",h="pointer"),C=v==null?p:ii(v),g=y==null?p:ii(y),p=new w(b,h+"leave",v,n,d),p.target=C,p.relatedTarget=g,b=null,jr(d)===c&&(w=new w(x,h+"enter",y,n,d),w.target=g,w.relatedTarget=C,b=w),C=b,v&&y)t:{for(w=v,x=y,h=0,g=w;g;g=qr(g))h++;for(g=0,b=x;b;b=qr(b))g++;for(;0<h-g;)w=qr(w),h--;for(;0<g-h;)x=qr(x),g--;for(;h--;){if(w===x||x!==null&&w===x.alternate)break t;w=qr(w),x=qr(x)}w=null}else w=null;v!==null&&Rf(f,p,v,w,!1),y!==null&&C!==null&&Rf(f,C,y,w,!0)}}e:{if(p=c?ii(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var j=fx;else if(kf(p))if(n0)j=gx;else{j=px;var _=hx}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=mx);if(j&&(j=j(e,c))){t0(f,j,n,d);break e}_&&_(e,p,c),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&xu(p,"number",p.value)}switch(_=c?ii(c):window,e){case"focusin":(kf(_)||_.contentEditable==="true")&&(ni=_,_u=c,vs=null);break;case"focusout":vs=_u=ni=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,_f(f,n,d);break;case"selectionchange":if(vx)break;case"keydown":case"keyup":_f(f,n,d)}var E;if(Qc)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ti?Xh(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Yh&&n.locale!=="ko"&&(ti||N!=="onCompositionStart"?N==="onCompositionEnd"&&ti&&(E=Jh()):(Jn=d,zc="value"in Jn?Jn.value:Jn.textContent,ti=!0)),_=xa(c,N),0<_.length&&(N=new wf(N,e,null,n,d),f.push({event:N,listeners:_}),E?N.data=E:(E=e0(n),E!==null&&(N.data=E)))),(E=ax?ox(e,n):ux(e,n))&&(c=xa(c,"onBeforeInput"),0<c.length&&(d=new wf("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=E))}f0(f,t)})}function Ms(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xa(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_s(e,n),s!=null&&r.unshift(Ms(e,s,i)),s=_s(e,t),s!=null&&r.push(Ms(e,s,i))),e=e.return}return r}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rf(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,i?(u=_s(n,s),u!=null&&a.unshift(Ms(n,u,o))):i||(u=_s(n,s),u!=null&&a.push(Ms(n,u,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Sx=/\r\n?/g,kx=/\u0000|\uFFFD/g;function Af(e){return(typeof e=="string"?e:""+e).replace(Sx,`
`).replace(kx,"")}function Pl(e,t,n){if(t=Af(t),Af(e)!==t&&n)throw Error(D(425))}function ya(){}var Iu=null,Ru=null;function Au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,Tf=typeof Promise=="function"?Promise:void 0,Nx=typeof queueMicrotask=="function"?queueMicrotask:typeof Tf<"u"?function(e){return Tf.resolve(null).then(e).catch(Ex)}:Tu;function Ex(e){setTimeout(function(){throw e})}function Bo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Rs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rs(t)}function ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Of(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),hn="__reactFiber$"+Zi,Fs="__reactProps$"+Zi,Pn="__reactContainer$"+Zi,Ou="__reactEvents$"+Zi,Lx="__reactListeners$"+Zi,_x="__reactHandles$"+Zi;function jr(e){var t=e[hn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pn]||n[hn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Of(e);e!==null;){if(n=e[hn])return n;e=Of(e)}return t}e=n,n=e.parentNode}return null}function dl(e){return e=e[hn]||e[Pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function so(e){return e[Fs]||null}var Mu=[],si=-1;function mr(e){return{current:e}}function _e(e){0>si||(e.current=Mu[si],Mu[si]=null,si--)}function Ne(e,t){si++,Mu[si]=e.current,e.current=t}var fr={},ut=mr(fr),St=mr(!1),Ur=fr;function Mi(e,t){var n=e.type.contextTypes;if(!n)return fr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function kt(e){return e=e.childContextTypes,e!=null}function va(){_e(St),_e(ut)}function Mf(e,t,n){if(ut.current!==fr)throw Error(D(168));Ne(ut,t),Ne(St,n)}function p0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,hg(e)||"Unknown",i));return Ae({},n,r)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fr,Ur=ut.current,Ne(ut,e),Ne(St,St.current),!0}function Ff(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=p0(e,t,Ur),r.__reactInternalMemoizedMergedChildContext=e,_e(St),_e(ut),Ne(ut,e)):_e(St),Ne(St,n)}var Sn=null,lo=!1,Qo=!1;function m0(e){Sn===null?Sn=[e]:Sn.push(e)}function Px(e){lo=!0,m0(e)}function gr(){if(!Qo&&Sn!==null){Qo=!0;var e=0,t=Se;try{var n=Sn;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Sn=null,lo=!1}catch(i){throw Sn!==null&&(Sn=Sn.slice(e+1)),Uh(Vc,gr),i}finally{Se=t,Qo=!1}}return null}var li=[],ai=0,Ca=null,ba=0,$t=[],zt=0,$r=null,Nn=1,En="";function br(e,t){li[ai++]=ba,li[ai++]=Ca,Ca=e,ba=t}function g0(e,t,n){$t[zt++]=Nn,$t[zt++]=En,$t[zt++]=$r,$r=e;var r=Nn;e=En;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var s=32-tn(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Nn=1<<32-tn(t)+i|n<<i|r,En=s+e}else Nn=1<<s|n<<i|r,En=e}function Zc(e){e.return!==null&&(br(e,1),g0(e,1,0))}function Gc(e){for(;e===Ca;)Ca=li[--ai],li[ai]=null,ba=li[--ai],li[ai]=null;for(;e===$r;)$r=$t[--zt],$t[zt]=null,En=$t[--zt],$t[zt]=null,Nn=$t[--zt],$t[zt]=null}var Tt=null,It=null,Pe=!1,Yt=null;function x0(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,It=ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$r!==null?{id:Nn,overflow:En}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,It=null,!0):!1;default:return!1}}function Fu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vu(e){if(Pe){var t=It;if(t){var n=t;if(!Vf(e,t)){if(Fu(e))throw Error(D(418));t=ir(n.nextSibling);var r=Tt;t&&Vf(e,t)?x0(r,n):(e.flags=e.flags&-4097|2,Pe=!1,Tt=e)}}else{if(Fu(e))throw Error(D(418));e.flags=e.flags&-4097|2,Pe=!1,Tt=e}}}function Df(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function Il(e){if(e!==Tt)return!1;if(!Pe)return Df(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Au(e.type,e.memoizedProps)),t&&(t=It)){if(Fu(e))throw y0(),Error(D(418));for(;t;)x0(e,t),t=ir(t.nextSibling)}if(Df(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){It=ir(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}It=null}}else It=Tt?ir(e.stateNode.nextSibling):null;return!0}function y0(){for(var e=It;e;)e=ir(e.nextSibling)}function Fi(){It=Tt=null,Pe=!1}function Kc(e){Yt===null?Yt=[e]:Yt.push(e)}var Ix=Tn.ReactCurrentBatchConfig;function is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Rl(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uf(e){var t=e._init;return t(e._payload)}function v0(e){function t(x,h){if(e){var g=x.deletions;g===null?(x.deletions=[h],x.flags|=16):g.push(h)}}function n(x,h){if(!e)return null;for(;h!==null;)t(x,h),h=h.sibling;return null}function r(x,h){for(x=new Map;h!==null;)h.key!==null?x.set(h.key,h):x.set(h.index,h),h=h.sibling;return x}function i(x,h){return x=or(x,h),x.index=0,x.sibling=null,x}function s(x,h,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<h?(x.flags|=2,h):g):(x.flags|=2,h)):(x.flags|=1048576,h)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,h,g,b){return h===null||h.tag!==6?(h=Yo(g,x.mode,b),h.return=x,h):(h=i(h,g),h.return=x,h)}function u(x,h,g,b){var j=g.type;return j===ei?d(x,h,g.props.children,b,g.key):h!==null&&(h.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Fn&&Uf(j)===h.type)?(b=i(h,g.props),b.ref=is(x,h,g),b.return=x,b):(b=ea(g.type,g.key,g.props,null,x.mode,b),b.ref=is(x,h,g),b.return=x,b)}function c(x,h,g,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Xo(g,x.mode,b),h.return=x,h):(h=i(h,g.children||[]),h.return=x,h)}function d(x,h,g,b,j){return h===null||h.tag!==7?(h=Vr(g,x.mode,b,j),h.return=x,h):(h=i(h,g),h.return=x,h)}function f(x,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Yo(""+h,x.mode,g),h.return=x,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Cl:return g=ea(h.type,h.key,h.props,null,x.mode,g),g.ref=is(x,null,h),g.return=x,g;case Xr:return h=Xo(h,x.mode,g),h.return=x,h;case Fn:var b=h._init;return f(x,b(h._payload),g)}if(cs(h)||Xi(h))return h=Vr(h,x.mode,g,null),h.return=x,h;Rl(x,h)}return null}function p(x,h,g,b){var j=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:o(x,h,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cl:return g.key===j?u(x,h,g,b):null;case Xr:return g.key===j?c(x,h,g,b):null;case Fn:return j=g._init,p(x,h,j(g._payload),b)}if(cs(g)||Xi(g))return j!==null?null:d(x,h,g,b,null);Rl(x,g)}return null}function v(x,h,g,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(g)||null,o(h,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Cl:return x=x.get(b.key===null?g:b.key)||null,u(h,x,b,j);case Xr:return x=x.get(b.key===null?g:b.key)||null,c(h,x,b,j);case Fn:var _=b._init;return v(x,h,g,_(b._payload),j)}if(cs(b)||Xi(b))return x=x.get(g)||null,d(h,x,b,j,null);Rl(h,b)}return null}function y(x,h,g,b){for(var j=null,_=null,E=h,N=h=0,M=null;E!==null&&N<g.length;N++){E.index>N?(M=E,E=null):M=E.sibling;var I=p(x,E,g[N],b);if(I===null){E===null&&(E=M);break}e&&E&&I.alternate===null&&t(x,E),h=s(I,h,N),_===null?j=I:_.sibling=I,_=I,E=M}if(N===g.length)return n(x,E),Pe&&br(x,N),j;if(E===null){for(;N<g.length;N++)E=f(x,g[N],b),E!==null&&(h=s(E,h,N),_===null?j=E:_.sibling=E,_=E);return Pe&&br(x,N),j}for(E=r(x,E);N<g.length;N++)M=v(E,x,N,g[N],b),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?N:M.key),h=s(M,h,N),_===null?j=M:_.sibling=M,_=M);return e&&E.forEach(function(Y){return t(x,Y)}),Pe&&br(x,N),j}function w(x,h,g,b){var j=Xi(g);if(typeof j!="function")throw Error(D(150));if(g=j.call(g),g==null)throw Error(D(151));for(var _=j=null,E=h,N=h=0,M=null,I=g.next();E!==null&&!I.done;N++,I=g.next()){E.index>N?(M=E,E=null):M=E.sibling;var Y=p(x,E,I.value,b);if(Y===null){E===null&&(E=M);break}e&&E&&Y.alternate===null&&t(x,E),h=s(Y,h,N),_===null?j=Y:_.sibling=Y,_=Y,E=M}if(I.done)return n(x,E),Pe&&br(x,N),j;if(E===null){for(;!I.done;N++,I=g.next())I=f(x,I.value,b),I!==null&&(h=s(I,h,N),_===null?j=I:_.sibling=I,_=I);return Pe&&br(x,N),j}for(E=r(x,E);!I.done;N++,I=g.next())I=v(E,x,N,I.value,b),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?N:I.key),h=s(I,h,N),_===null?j=I:_.sibling=I,_=I);return e&&E.forEach(function(V){return t(x,V)}),Pe&&br(x,N),j}function C(x,h,g,b){if(typeof g=="object"&&g!==null&&g.type===ei&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Cl:e:{for(var j=g.key,_=h;_!==null;){if(_.key===j){if(j=g.type,j===ei){if(_.tag===7){n(x,_.sibling),h=i(_,g.props.children),h.return=x,x=h;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Fn&&Uf(j)===_.type){n(x,_.sibling),h=i(_,g.props),h.ref=is(x,_,g),h.return=x,x=h;break e}n(x,_);break}else t(x,_);_=_.sibling}g.type===ei?(h=Vr(g.props.children,x.mode,b,g.key),h.return=x,x=h):(b=ea(g.type,g.key,g.props,null,x.mode,b),b.ref=is(x,h,g),b.return=x,x=b)}return a(x);case Xr:e:{for(_=g.key;h!==null;){if(h.key===_)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(x,h.sibling),h=i(h,g.children||[]),h.return=x,x=h;break e}else{n(x,h);break}else t(x,h);h=h.sibling}h=Xo(g,x.mode,b),h.return=x,x=h}return a(x);case Fn:return _=g._init,C(x,h,_(g._payload),b)}if(cs(g))return y(x,h,g,b);if(Xi(g))return w(x,h,g,b);Rl(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(x,h.sibling),h=i(h,g),h.return=x,x=h):(n(x,h),h=Yo(g,x.mode,b),h.return=x,x=h),a(x)):n(x,h)}return C}var Vi=v0(!0),w0=v0(!1),Sa=mr(null),ka=null,oi=null,qc=null;function Jc(){qc=oi=ka=null}function Yc(e){var t=Sa.current;_e(Sa),e._currentValue=t}function Du(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yi(e,t){ka=e,qc=oi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function Qt(e){var t=e._currentValue;if(qc!==e)if(e={context:e,memoizedValue:t,next:null},oi===null){if(ka===null)throw Error(D(308));oi=e,ka.dependencies={lanes:0,firstContext:e}}else oi=oi.next=e;return t}var Nr=null;function Xc(e){Nr===null?Nr=[e]:Nr.push(e)}function C0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Xc(t)):(n.next=i.next,i.next=n),t.interleaved=n,In(e,r)}function In(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vn=!1;function ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,In(e,n)}return i=r.interleaved,i===null?(t.next=t,Xc(r)):(t.next=i.next,i.next=t),r.interleaved=t,In(e,n)}function Gl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dc(e,n)}}function $f(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Vn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;a=0,d=c=u=null,o=s;do{var p=o.lane,v=o.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,w=o;switch(p=t,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(v,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(v,f,p):y,p==null)break e;f=Ae({},f,p);break e;case 2:Vn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else v={eventTime:v,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=v,u=f):d=d.next=v,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Hr|=a,e.lanes=a,e.memoizedState=f}}function zf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var fl={},xn=mr(fl),Vs=mr(fl),Ds=mr(fl);function Er(e){if(e===fl)throw Error(D(174));return e}function td(e,t){switch(Ne(Ds,t),Ne(Vs,e),Ne(xn,fl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vu(t,e)}_e(xn),Ne(xn,t)}function Di(){_e(xn),_e(Vs),_e(Ds)}function S0(e){Er(Ds.current);var t=Er(xn.current),n=vu(t,e.type);t!==n&&(Ne(Vs,e),Ne(xn,n))}function nd(e){Vs.current===e&&(_e(xn),_e(Vs))}var Ie=mr(0);function Na(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wo=[];function rd(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var Kl=Tn.ReactCurrentDispatcher,Zo=Tn.ReactCurrentBatchConfig,zr=0,Re=null,Be=null,Ke=null,Ea=!1,ws=!1,Us=0,Rx=0;function it(){throw Error(D(321))}function id(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rn(e[n],t[n]))return!1;return!0}function sd(e,t,n,r,i,s){if(zr=s,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kl.current=e===null||e.memoizedState===null?Mx:Fx,e=n(r,i),ws){s=0;do{if(ws=!1,Us=0,25<=s)throw Error(D(301));s+=1,Ke=Be=null,t.updateQueue=null,Kl.current=Vx,e=n(r,i)}while(ws)}if(Kl.current=La,t=Be!==null&&Be.next!==null,zr=0,Ke=Be=Re=null,Ea=!1,t)throw Error(D(300));return e}function ld(){var e=Us!==0;return Us=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Re.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Wt(){if(Be===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ke===null?Re.memoizedState:Ke.next;if(t!==null)Ke=t,Be=e;else{if(e===null)throw Error(D(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ke===null?Re.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function $s(e,t){return typeof t=="function"?t(e):t}function Go(e){var t=Wt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Be,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,u=null,c=s;do{var d=c.lane;if((zr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=f,a=r):u=u.next=f,Re.lanes|=d,Hr|=d}c=c.next}while(c!==null&&c!==s);u===null?a=r:u.next=o,rn(r,t.memoizedState)||(bt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Re.lanes|=s,Hr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ko(e){var t=Wt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);rn(s,t.memoizedState)||(bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function k0(){}function j0(e,t){var n=Re,r=Wt(),i=t(),s=!rn(r.memoizedState,i);if(s&&(r.memoizedState=i,bt=!0),r=r.queue,ad(L0.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,zs(9,E0.bind(null,n,r,i,t),void 0,null),qe===null)throw Error(D(349));zr&30||N0(n,t,i)}return i}function N0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function E0(e,t,n,r){t.value=n,t.getSnapshot=r,_0(t)&&P0(e)}function L0(e,t,n){return n(function(){_0(t)&&P0(e)})}function _0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rn(e,n)}catch{return!0}}function P0(e){var t=In(e,1);t!==null&&nn(t,e,1,-1)}function Hf(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t.queue=e,e=e.dispatch=Ox.bind(null,Re,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function I0(){return Wt().memoizedState}function ql(e,t,n,r){var i=an();Re.flags|=e,i.memoizedState=zs(1|t,n,void 0,r===void 0?null:r)}function ao(e,t,n,r){var i=Wt();r=r===void 0?null:r;var s=void 0;if(Be!==null){var a=Be.memoizedState;if(s=a.destroy,r!==null&&id(r,a.deps)){i.memoizedState=zs(t,n,s,r);return}}Re.flags|=e,i.memoizedState=zs(1|t,n,s,r)}function Bf(e,t){return ql(8390656,8,e,t)}function ad(e,t){return ao(2048,8,e,t)}function R0(e,t){return ao(4,2,e,t)}function A0(e,t){return ao(4,4,e,t)}function T0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function O0(e,t,n){return n=n!=null?n.concat([e]):null,ao(4,4,T0.bind(null,t,e),n)}function od(){}function M0(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&id(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function F0(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&id(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function V0(e,t,n){return zr&21?(rn(n,t)||(n=Hh(),Re.lanes|=n,Hr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=n)}function Ax(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=Zo.transition;Zo.transition={};try{e(!1),t()}finally{Se=n,Zo.transition=r}}function D0(){return Wt().memoizedState}function Tx(e,t,n){var r=ar(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U0(e))$0(t,n);else if(n=C0(e,t,n,r),n!==null){var i=mt();nn(n,e,r,i),z0(n,t,r)}}function Ox(e,t,n){var r=ar(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U0(e))$0(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,rn(o,a)){var u=t.interleaved;u===null?(i.next=i,Xc(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=C0(e,t,i,r),n!==null&&(i=mt(),nn(n,e,r,i),z0(n,t,r))}}function U0(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function $0(e,t){ws=Ea=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function z0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dc(e,n)}}var La={readContext:Qt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},Mx={readContext:Qt,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:Bf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ql(4194308,4,T0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return ql(4,2,e,t)},useMemo:function(e,t){var n=an();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=an();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Tx.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:Hf,useDebugValue:od,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=Hf(!1),t=e[0];return e=Ax.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Re,i=an();if(Pe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),qe===null)throw Error(D(349));zr&30||N0(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Bf(L0.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,E0.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=an(),t=qe.identifierPrefix;if(Pe){var n=En,r=Nn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Us++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fx={readContext:Qt,useCallback:M0,useContext:Qt,useEffect:ad,useImperativeHandle:O0,useInsertionEffect:R0,useLayoutEffect:A0,useMemo:F0,useReducer:Go,useRef:I0,useState:function(){return Go($s)},useDebugValue:od,useDeferredValue:function(e){var t=Wt();return V0(t,Be.memoizedState,e)},useTransition:function(){var e=Go($s)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:k0,useSyncExternalStore:j0,useId:D0,unstable_isNewReconciler:!1},Vx={readContext:Qt,useCallback:M0,useContext:Qt,useEffect:ad,useImperativeHandle:O0,useInsertionEffect:R0,useLayoutEffect:A0,useMemo:F0,useReducer:Ko,useRef:I0,useState:function(){return Ko($s)},useDebugValue:od,useDeferredValue:function(e){var t=Wt();return Be===null?t.memoizedState=e:V0(t,Be.memoizedState,e)},useTransition:function(){var e=Ko($s)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:k0,useSyncExternalStore:j0,useId:D0,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Uu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oo={isMounted:function(e){return(e=e._reactInternals)?Zr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mt(),i=ar(e),s=Ln(r,i);s.payload=t,n!=null&&(s.callback=n),t=sr(e,s,i),t!==null&&(nn(t,e,i,r),Gl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mt(),i=ar(e),s=Ln(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=sr(e,s,i),t!==null&&(nn(t,e,i,r),Gl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),r=ar(e),i=Ln(n,r);i.tag=2,t!=null&&(i.callback=t),t=sr(e,i,r),t!==null&&(nn(t,e,r,n),Gl(t,e,r))}};function Qf(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Ts(n,r)||!Ts(i,s):!0}function H0(e,t,n){var r=!1,i=fr,s=t.contextType;return typeof s=="object"&&s!==null?s=Qt(s):(i=kt(t)?Ur:ut.current,r=t.contextTypes,s=(r=r!=null)?Mi(e,i):fr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Wf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function $u(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ed(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Qt(s):(s=kt(t)?Ur:ut.current,i.context=Mi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Uu(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&oo.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ui(e,t){try{var n="",r=t;do n+=fg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function qo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dx=typeof WeakMap=="function"?WeakMap:Map;function B0(e,t,n){n=Ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pa||(Pa=!0,Yu=r),zu(e,t)},n}function Q0(e,t,n){n=Ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){zu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zu(e,t),typeof r!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Zf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Xx.bind(null,e,t,n),t.then(e,e))}function Gf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ln(-1,1),t.tag=2,sr(n,t,1))),n.lanes|=1),e)}var Ux=Tn.ReactCurrentOwner,bt=!1;function ht(e,t,n,r){t.child=e===null?w0(t,null,n,r):Vi(t,e.child,n,r)}function qf(e,t,n,r,i){n=n.render;var s=t.ref;return yi(t,i),r=sd(e,t,n,r,s,i),n=ld(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rn(e,t,i)):(Pe&&n&&Zc(t),t.flags|=1,ht(e,t,r,i),t.child)}function Jf(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!gd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,W0(e,t,s,r,i)):(e=ea(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ts,n(a,r)&&e.ref===t.ref)return Rn(e,t,i)}return t.flags|=1,e=or(s,r),e.ref=t.ref,e.return=t,t.child=e}function W0(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ts(s,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,Rn(e,t,i)}return Hu(e,t,n,r,i)}function Z0(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(ci,Pt),Pt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(ci,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ne(ci,Pt),Pt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ne(ci,Pt),Pt|=r;return ht(e,t,i,n),t.child}function G0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hu(e,t,n,r,i){var s=kt(n)?Ur:ut.current;return s=Mi(t,s),yi(t,i),n=sd(e,t,n,r,s,i),r=ld(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rn(e,t,i)):(Pe&&r&&Zc(t),t.flags|=1,ht(e,t,n,i),t.child)}function Yf(e,t,n,r,i){if(kt(n)){var s=!0;wa(t)}else s=!1;if(yi(t,i),t.stateNode===null)Jl(e,t),H0(t,n,r),$u(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qt(c):(c=kt(n)?Ur:ut.current,c=Mi(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||u!==c)&&Wf(t,a,r,c),Vn=!1;var p=t.memoizedState;a.state=p,ja(t,r,a,i),u=t.memoizedState,o!==r||p!==u||St.current||Vn?(typeof d=="function"&&(Uu(t,n,d,r),u=t.memoizedState),(o=Vn||Qf(t,n,o,r,p,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,b0(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Kt(t.type,o),a.props=c,f=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Qt(u):(u=kt(n)?Ur:ut.current,u=Mi(t,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==u)&&Wf(t,a,r,u),Vn=!1,p=t.memoizedState,a.state=p,ja(t,r,a,i);var y=t.memoizedState;o!==f||p!==y||St.current||Vn?(typeof v=="function"&&(Uu(t,n,v,r),y=t.memoizedState),(c=Vn||Qf(t,n,c,r,p,y,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Bu(e,t,n,r,s,i)}function Bu(e,t,n,r,i,s){G0(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Ff(t,n,!1),Rn(e,t,s);r=t.stateNode,Ux.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Vi(t,e.child,null,s),t.child=Vi(t,null,o,s)):ht(e,t,o,s),t.memoizedState=r.state,i&&Ff(t,n,!0),t.child}function K0(e){var t=e.stateNode;t.pendingContext?Mf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mf(e,t.context,!1),td(e,t.containerInfo)}function Xf(e,t,n,r,i){return Fi(),Kc(i),t.flags|=256,ht(e,t,n,r),t.child}var Qu={dehydrated:null,treeContext:null,retryLane:0};function Wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function q0(e,t,n){var r=t.pendingProps,i=Ie.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ne(Ie,i&1),e===null)return Vu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=fo(a,r,0,null),e=Vr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Wu(n),t.memoizedState=Qu,e):ud(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return $x(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=or(i,u),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=or(o,s):(s=Vr(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Wu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Qu,r}return s=e.child,e=s.sibling,r=or(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ud(e,t){return t=fo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Al(e,t,n,r){return r!==null&&Kc(r),Vi(t,e.child,null,n),e=ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $x(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=qo(Error(D(422))),Al(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=fo({mode:"visible",children:r.children},i,0,null),s=Vr(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Vi(t,e.child,null,a),t.child.memoizedState=Wu(a),t.memoizedState=Qu,s);if(!(t.mode&1))return Al(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(D(419)),r=qo(s,r,void 0),Al(e,t,a,r)}if(o=(a&e.childLanes)!==0,bt||o){if(r=qe,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,In(e,i),nn(r,e,i,-1))}return md(),r=qo(Error(D(421))),Al(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=e2.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,It=ir(i.nextSibling),Tt=t,Pe=!0,Yt=null,e!==null&&($t[zt++]=Nn,$t[zt++]=En,$t[zt++]=$r,Nn=e.id,En=e.overflow,$r=t),t=ud(t,r.children),t.flags|=4096,t)}function e1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Du(e.return,t,n)}function Jo(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function J0(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ht(e,t,r.children,n),r=Ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&e1(e,n,t);else if(e.tag===19)e1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(Ie,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Na(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Jo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Na(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Jo(t,!0,n,null,s);break;case"together":Jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=or(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=or(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zx(e,t,n){switch(t.tag){case 3:K0(t),Fi();break;case 5:S0(t);break;case 1:kt(t.type)&&wa(t);break;case 4:td(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ne(Sa,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Ie,Ie.current&1),t.flags|=128,null):n&t.child.childLanes?q0(e,t,n):(Ne(Ie,Ie.current&1),e=Rn(e,t,n),e!==null?e.sibling:null);Ne(Ie,Ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return J0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(Ie,Ie.current),r)break;return null;case 22:case 23:return t.lanes=0,Z0(e,t,n)}return Rn(e,t,n)}var Y0,Zu,X0,ep;Y0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zu=function(){};X0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Er(xn.current);var s=null;switch(n){case"input":i=mu(e,i),r=mu(e,r),s=[];break;case"select":i=Ae({},i,{value:void 0}),r=Ae({},r,{value:void 0}),s=[];break;case"textarea":i=yu(e,i),r=yu(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ya)}wu(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Es.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Es.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Le("scroll",e),s||o===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};ep=function(e,t,n,r){n!==r&&(t.flags|=4)};function ss(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hx(e,t,n){var r=t.pendingProps;switch(Gc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return kt(t.type)&&va(),st(t),null;case 3:return r=t.stateNode,Di(),_e(St),_e(ut),rd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(tc(Yt),Yt=null))),Zu(e,t),st(t),null;case 5:nd(t);var i=Er(Ds.current);if(n=t.type,e!==null&&t.stateNode!=null)X0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return st(t),null}if(e=Er(xn.current),Il(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hn]=t,r[Fs]=s,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<fs.length;i++)Le(fs[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":uf(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":df(r,s),Le("invalid",r)}wu(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,o,e),i=["children",""+o]):Es.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Le("scroll",r)}switch(n){case"input":bl(r),cf(r,s,!0);break;case"textarea":bl(r),ff(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ya)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[hn]=t,e[Fs]=r,Y0(e,t,!1,!1),t.stateNode=e;e:{switch(a=Cu(n,r),n){case"dialog":Le("cancel",e),Le("close",e),i=r;break;case"iframe":case"object":case"embed":Le("load",e),i=r;break;case"video":case"audio":for(i=0;i<fs.length;i++)Le(fs[i],e);i=r;break;case"source":Le("error",e),i=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=r;break;case"details":Le("toggle",e),i=r;break;case"input":uf(e,r),i=mu(e,r),Le("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ae({},r,{value:void 0}),Le("invalid",e);break;case"textarea":df(e,r),i=yu(e,r),Le("invalid",e);break;default:i=r}wu(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?Ih(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&_h(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ls(e,u):typeof u=="number"&&Ls(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Es.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Le("scroll",e):u!=null&&Ac(e,s,u,a))}switch(n){case"input":bl(e),cf(e,r,!1);break;case"textarea":bl(e),ff(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?pi(e,!!r.multiple,s,!1):r.defaultValue!=null&&pi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ya)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)ep(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Er(Ds.current),Er(xn.current),Il(t)){if(r=t.stateNode,n=t.memoizedProps,r[hn]=t,(s=r.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:Pl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=t,t.stateNode=r}return st(t),null;case 13:if(_e(Ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&It!==null&&t.mode&1&&!(t.flags&128))y0(),Fi(),t.flags|=98560,s=!1;else if(s=Il(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[hn]=t}else Fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),s=!1}else Yt!==null&&(tc(Yt),Yt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?We===0&&(We=3):md())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Di(),Zu(e,t),e===null&&Os(t.stateNode.containerInfo),st(t),null;case 10:return Yc(t.type._context),st(t),null;case 17:return kt(t.type)&&va(),st(t),null;case 19:if(_e(Ie),s=t.memoizedState,s===null)return st(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)ss(s,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Na(e),a!==null){for(t.flags|=128,ss(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Ie,Ie.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ve()>$i&&(t.flags|=128,r=!0,ss(s,!1),t.lanes=4194304)}else{if(!r)if(e=Na(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ss(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Pe)return st(t),null}else 2*Ve()-s.renderingStartTime>$i&&n!==1073741824&&(t.flags|=128,r=!0,ss(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ve(),t.sibling=null,n=Ie.current,Ne(Ie,r?n&1|2:n&1),t):(st(t),null);case 22:case 23:return pd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Bx(e,t){switch(Gc(t),t.tag){case 1:return kt(t.type)&&va(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Di(),_e(St),_e(ut),rd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nd(t),null;case 13:if(_e(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ie),null;case 4:return Di(),null;case 10:return Yc(t.type._context),null;case 22:case 23:return pd(),null;case 24:return null;default:return null}}var Tl=!1,at=!1,Qx=typeof WeakSet=="function"?WeakSet:Set,J=null;function ui(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var t1=!1;function Wx(e,t){if(Iu=ma,e=s0(),Wc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===e)break t;if(p===n&&++c===i&&(o=a),p===s&&++d===r&&(u=a),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ru={focusedElem:e,selectionRange:n},ma=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,C=y.memoizedState,x=t.stateNode,h=x.getSnapshotBeforeUpdate(t.elementType===t.type?w:Kt(t.type,w),C);x.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(b){Oe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return y=t1,t1=!1,y}function Cs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gu(t,n,s)}i=i.next}while(i!==r)}}function uo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ku(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tp(e){var t=e.alternate;t!==null&&(e.alternate=null,tp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hn],delete t[Fs],delete t[Ou],delete t[Lx],delete t[_x])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function np(e){return e.tag===5||e.tag===3||e.tag===4}function n1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ya));else if(r!==4&&(e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}function Ju(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ju(e,t,n),e=e.sibling;e!==null;)Ju(e,t,n),e=e.sibling}var Xe=null,Jt=!1;function On(e,t,n){for(n=n.child;n!==null;)rp(e,t,n),n=n.sibling}function rp(e,t,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(to,n)}catch{}switch(n.tag){case 5:at||ui(n,t);case 6:var r=Xe,i=Jt;Xe=null,On(e,t,n),Xe=r,Jt=i,Xe!==null&&(Jt?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Jt?(e=Xe,n=n.stateNode,e.nodeType===8?Bo(e.parentNode,n):e.nodeType===1&&Bo(e,n),Rs(e)):Bo(Xe,n.stateNode));break;case 4:r=Xe,i=Jt,Xe=n.stateNode.containerInfo,Jt=!0,On(e,t,n),Xe=r,Jt=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Gu(n,t,a),i=i.next}while(i!==r)}On(e,t,n);break;case 1:if(!at&&(ui(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Oe(n,t,o)}On(e,t,n);break;case 21:On(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,On(e,t,n),at=r):On(e,t,n);break;default:On(e,t,n)}}function r1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qx),t.forEach(function(r){var i=t2.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Xe=o.stateNode,Jt=!1;break e;case 3:Xe=o.stateNode.containerInfo,Jt=!0;break e;case 4:Xe=o.stateNode.containerInfo,Jt=!0;break e}o=o.return}if(Xe===null)throw Error(D(160));rp(s,a,i),Xe=null,Jt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Oe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ip(t,e),t=t.sibling}function ip(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),ln(e),r&4){try{Cs(3,e,e.return),uo(3,e)}catch(w){Oe(e,e.return,w)}try{Cs(5,e,e.return)}catch(w){Oe(e,e.return,w)}}break;case 1:Gt(t,e),ln(e),r&512&&n!==null&&ui(n,n.return);break;case 5:if(Gt(t,e),ln(e),r&512&&n!==null&&ui(n,n.return),e.flags&32){var i=e.stateNode;try{Ls(i,"")}catch(w){Oe(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Nh(i,s),Cu(o,a);var c=Cu(o,s);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?Ih(i,f):d==="dangerouslySetInnerHTML"?_h(i,f):d==="children"?Ls(i,f):Ac(i,d,f,c)}switch(o){case"input":gu(i,s);break;case"textarea":Eh(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?pi(i,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?pi(i,!!s.multiple,s.defaultValue,!0):pi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fs]=s}catch(w){Oe(e,e.return,w)}}break;case 6:if(Gt(t,e),ln(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Oe(e,e.return,w)}}break;case 3:if(Gt(t,e),ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rs(t.containerInfo)}catch(w){Oe(e,e.return,w)}break;case 4:Gt(t,e),ln(e);break;case 13:Gt(t,e),ln(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fd=Ve())),r&4&&r1(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(at=(c=at)||d,Gt(t,e),at=c):Gt(t,e),ln(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(f=J=d;J!==null;){switch(p=J,v=p.child,p.tag){case 0:case 11:case 14:case 15:Cs(4,p,p.return);break;case 1:ui(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){Oe(r,n,w)}}break;case 5:ui(p,p.return);break;case 22:if(p.memoizedState!==null){s1(f);continue}}v!==null?(v.return=p,J=v):s1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Ph("display",a))}catch(w){Oe(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Oe(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gt(t,e),ln(e),r&4&&r1(e);break;case 21:break;default:Gt(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(np(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ls(i,""),r.flags&=-33);var s=n1(e);Ju(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=n1(e);qu(e,o,a);break;default:throw Error(D(161))}}catch(u){Oe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zx(e,t,n){J=e,sp(e)}function sp(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Tl;if(!a){var o=i.alternate,u=o!==null&&o.memoizedState!==null||at;o=Tl;var c=at;if(Tl=a,(at=u)&&!c)for(J=i;J!==null;)a=J,u=a.child,a.tag===22&&a.memoizedState!==null?l1(i):u!==null?(u.return=a,J=u):l1(i);for(;s!==null;)J=s,sp(s),s=s.sibling;J=i,Tl=o,at=c}i1(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):i1(e)}}function i1(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||uo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Kt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&zf(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zf(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Rs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}at||t.flags&512&&Ku(t)}catch(p){Oe(t,t.return,p)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function s1(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function l1(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{uo(4,t)}catch(u){Oe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Oe(t,i,u)}}var s=t.return;try{Ku(t)}catch(u){Oe(t,s,u)}break;case 5:var a=t.return;try{Ku(t)}catch(u){Oe(t,a,u)}}}catch(u){Oe(t,t.return,u)}if(t===e){J=null;break}var o=t.sibling;if(o!==null){o.return=t.return,J=o;break}J=t.return}}var Gx=Math.ceil,_a=Tn.ReactCurrentDispatcher,cd=Tn.ReactCurrentOwner,Bt=Tn.ReactCurrentBatchConfig,ve=0,qe=null,$e=null,nt=0,Pt=0,ci=mr(0),We=0,Hs=null,Hr=0,co=0,dd=0,bs=null,Ct=null,fd=0,$i=1/0,bn=null,Pa=!1,Yu=null,lr=null,Ol=!1,Yn=null,Ia=0,Ss=0,Xu=null,Yl=-1,Xl=0;function mt(){return ve&6?Ve():Yl!==-1?Yl:Yl=Ve()}function ar(e){return e.mode&1?ve&2&&nt!==0?nt&-nt:Ix.transition!==null?(Xl===0&&(Xl=Hh()),Xl):(e=Se,e!==0||(e=window.event,e=e===void 0?16:qh(e.type)),e):1}function nn(e,t,n,r){if(50<Ss)throw Ss=0,Xu=null,Error(D(185));ul(e,n,r),(!(ve&2)||e!==qe)&&(e===qe&&(!(ve&2)&&(co|=n),We===4&&Un(e,nt)),jt(e,r),n===1&&ve===0&&!(t.mode&1)&&($i=Ve()+500,lo&&gr()))}function jt(e,t){var n=e.callbackNode;Ig(e,t);var r=pa(e,e===qe?nt:0);if(r===0)n!==null&&mf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mf(n),t===1)e.tag===0?Px(a1.bind(null,e)):m0(a1.bind(null,e)),Nx(function(){!(ve&6)&&gr()}),n=null;else{switch(Bh(r)){case 1:n=Vc;break;case 4:n=$h;break;case 16:n=ha;break;case 536870912:n=zh;break;default:n=ha}n=hp(n,lp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lp(e,t){if(Yl=-1,Xl=0,ve&6)throw Error(D(327));var n=e.callbackNode;if(vi()&&e.callbackNode!==n)return null;var r=pa(e,e===qe?nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ra(e,r);else{t=r;var i=ve;ve|=2;var s=op();(qe!==e||nt!==t)&&(bn=null,$i=Ve()+500,Fr(e,t));do try{Jx();break}catch(o){ap(e,o)}while(1);Jc(),_a.current=s,ve=i,$e!==null?t=0:(qe=null,nt=0,t=We)}if(t!==0){if(t===2&&(i=Nu(e),i!==0&&(r=i,t=ec(e,i))),t===1)throw n=Hs,Fr(e,0),Un(e,r),jt(e,Ve()),n;if(t===6)Un(e,r);else{if(i=e.current.alternate,!(r&30)&&!Kx(i)&&(t=Ra(e,r),t===2&&(s=Nu(e),s!==0&&(r=s,t=ec(e,s))),t===1))throw n=Hs,Fr(e,0),Un(e,r),jt(e,Ve()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Sr(e,Ct,bn);break;case 3:if(Un(e,r),(r&130023424)===r&&(t=fd+500-Ve(),10<t)){if(pa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Tu(Sr.bind(null,e,Ct,bn),t);break}Sr(e,Ct,bn);break;case 4:if(Un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-tn(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gx(r/1960))-r,10<r){e.timeoutHandle=Tu(Sr.bind(null,e,Ct,bn),r);break}Sr(e,Ct,bn);break;case 5:Sr(e,Ct,bn);break;default:throw Error(D(329))}}}return jt(e,Ve()),e.callbackNode===n?lp.bind(null,e):null}function ec(e,t){var n=bs;return e.current.memoizedState.isDehydrated&&(Fr(e,t).flags|=256),e=Ra(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&tc(t)),e}function tc(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function Kx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!rn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~dd,t&=~co,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tn(t),r=1<<n;e[n]=-1,t&=~r}}function a1(e){if(ve&6)throw Error(D(327));vi();var t=pa(e,0);if(!(t&1))return jt(e,Ve()),null;var n=Ra(e,t);if(e.tag!==0&&n===2){var r=Nu(e);r!==0&&(t=r,n=ec(e,r))}if(n===1)throw n=Hs,Fr(e,0),Un(e,t),jt(e,Ve()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sr(e,Ct,bn),jt(e,Ve()),null}function hd(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&($i=Ve()+500,lo&&gr())}}function Br(e){Yn!==null&&Yn.tag===0&&!(ve&6)&&vi();var t=ve;ve|=1;var n=Bt.transition,r=Se;try{if(Bt.transition=null,Se=1,e)return e()}finally{Se=r,Bt.transition=n,ve=t,!(ve&6)&&gr()}}function pd(){Pt=ci.current,_e(ci)}function Fr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jx(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Gc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&va();break;case 3:Di(),_e(St),_e(ut),rd();break;case 5:nd(r);break;case 4:Di();break;case 13:_e(Ie);break;case 19:_e(Ie);break;case 10:Yc(r.type._context);break;case 22:case 23:pd()}n=n.return}if(qe=e,$e=e=or(e.current,null),nt=Pt=t,We=0,Hs=null,dd=co=Hr=0,Ct=bs=null,Nr!==null){for(t=0;t<Nr.length;t++)if(n=Nr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Nr=null}return e}function ap(e,t){do{var n=$e;try{if(Jc(),Kl.current=La,Ea){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ea=!1}if(zr=0,Ke=Be=Re=null,ws=!1,Us=0,cd.current=null,n===null||n.return===null){We=1,Hs=t,$e=null;break}e:{var s=e,a=n.return,o=n,u=t;if(t=nt,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Gf(a);if(v!==null){v.flags&=-257,Kf(v,a,o,s,t),v.mode&1&&Zf(s,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(u),t.updateQueue=w}else y.add(u);break e}else{if(!(t&1)){Zf(s,c,t),md();break e}u=Error(D(426))}}else if(Pe&&o.mode&1){var C=Gf(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Kf(C,a,o,s,t),Kc(Ui(u,o));break e}}s=u=Ui(u,o),We!==4&&(We=2),bs===null?bs=[s]:bs.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=B0(s,u,t);$f(s,x);break e;case 1:o=u;var h=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(lr===null||!lr.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=Q0(s,o,t);$f(s,b);break e}}s=s.return}while(s!==null)}cp(n)}catch(j){t=j,$e===n&&n!==null&&($e=n=n.return);continue}break}while(1)}function op(){var e=_a.current;return _a.current=La,e===null?La:e}function md(){(We===0||We===3||We===2)&&(We=4),qe===null||!(Hr&268435455)&&!(co&268435455)||Un(qe,nt)}function Ra(e,t){var n=ve;ve|=2;var r=op();(qe!==e||nt!==t)&&(bn=null,Fr(e,t));do try{qx();break}catch(i){ap(e,i)}while(1);if(Jc(),ve=n,_a.current=r,$e!==null)throw Error(D(261));return qe=null,nt=0,We}function qx(){for(;$e!==null;)up($e)}function Jx(){for(;$e!==null&&!bg();)up($e)}function up(e){var t=fp(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?cp(e):$e=t,cd.current=null}function cp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Bx(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,$e=null;return}}else if(n=Hx(n,t,Pt),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);We===0&&(We=5)}function Sr(e,t,n){var r=Se,i=Bt.transition;try{Bt.transition=null,Se=1,Yx(e,t,n,r)}finally{Bt.transition=i,Se=r}return null}function Yx(e,t,n,r){do vi();while(Yn!==null);if(ve&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Rg(e,s),e===qe&&($e=qe=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ol||(Ol=!0,hp(ha,function(){return vi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Bt.transition,Bt.transition=null;var a=Se;Se=1;var o=ve;ve|=4,cd.current=null,Wx(e,n),ip(n,e),yx(Ru),ma=!!Iu,Ru=Iu=null,e.current=n,Zx(n),Sg(),ve=o,Se=a,Bt.transition=s}else e.current=n;if(Ol&&(Ol=!1,Yn=e,Ia=i),s=e.pendingLanes,s===0&&(lr=null),Ng(n.stateNode),jt(e,Ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pa)throw Pa=!1,e=Yu,Yu=null,e;return Ia&1&&e.tag!==0&&vi(),s=e.pendingLanes,s&1?e===Xu?Ss++:(Ss=0,Xu=e):Ss=0,gr(),null}function vi(){if(Yn!==null){var e=Bh(Ia),t=Bt.transition,n=Se;try{if(Bt.transition=null,Se=16>e?16:e,Yn===null)var r=!1;else{if(e=Yn,Yn=null,Ia=0,ve&6)throw Error(D(331));var i=ve;for(ve|=4,J=e.current;J!==null;){var s=J,a=s.child;if(J.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(J=c;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Cs(8,d,s)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var p=d.sibling,v=d.return;if(tp(d),d===c){J=null;break}if(p!==null){p.return=v,J=p;break}J=v}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}J=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,J=a;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cs(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,J=x;break e}J=s.return}}var h=e.current;for(J=h;J!==null;){a=J;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,J=g;else e:for(a=h;J!==null;){if(o=J,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:uo(9,o)}}catch(j){Oe(o,o.return,j)}if(o===a){J=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,J=b;break e}J=o.return}}if(ve=i,gr(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(to,e)}catch{}r=!0}return r}finally{Se=n,Bt.transition=t}}return!1}function o1(e,t,n){t=Ui(n,t),t=B0(e,t,1),e=sr(e,t,1),t=mt(),e!==null&&(ul(e,1,t),jt(e,t))}function Oe(e,t,n){if(e.tag===3)o1(e,e,n);else for(;t!==null;){if(t.tag===3){o1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lr===null||!lr.has(r))){e=Ui(n,e),e=Q0(t,e,1),t=sr(t,e,1),e=mt(),t!==null&&(ul(t,1,e),jt(t,e));break}}t=t.return}}function Xx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,qe===e&&(nt&n)===n&&(We===4||We===3&&(nt&130023424)===nt&&500>Ve()-fd?Fr(e,0):dd|=n),jt(e,t)}function dp(e,t){t===0&&(e.mode&1?(t=jl,jl<<=1,!(jl&130023424)&&(jl=4194304)):t=1);var n=mt();e=In(e,t),e!==null&&(ul(e,t,n),jt(e,n))}function e2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dp(e,n)}function t2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),dp(e,n)}var fp;fp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bt=!1,zx(e,t,n);bt=!!(e.flags&131072)}else bt=!1,Pe&&t.flags&1048576&&g0(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jl(e,t),e=t.pendingProps;var i=Mi(t,ut.current);yi(t,n),i=sd(null,t,r,e,i,n);var s=ld();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(r)?(s=!0,wa(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ed(t),i.updater=oo,t.stateNode=i,i._reactInternals=t,$u(t,r,e,n),t=Bu(null,t,r,!0,s,n)):(t.tag=0,Pe&&s&&Zc(t),ht(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=r2(r),e=Kt(r,e),i){case 0:t=Hu(null,t,r,e,n);break e;case 1:t=Yf(null,t,r,e,n);break e;case 11:t=qf(null,t,r,e,n);break e;case 14:t=Jf(null,t,r,Kt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),Hu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),Yf(e,t,r,i,n);case 3:e:{if(K0(t),e===null)throw Error(D(387));r=t.pendingProps,s=t.memoizedState,i=s.element,b0(e,t),ja(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ui(Error(D(423)),t),t=Xf(e,t,r,n,i);break e}else if(r!==i){i=Ui(Error(D(424)),t),t=Xf(e,t,r,n,i);break e}else for(It=ir(t.stateNode.containerInfo.firstChild),Tt=t,Pe=!0,Yt=null,n=w0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fi(),r===i){t=Rn(e,t,n);break e}ht(e,t,r,n)}t=t.child}return t;case 5:return S0(t),e===null&&Vu(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Au(r,i)?a=null:s!==null&&Au(r,s)&&(t.flags|=32),G0(e,t),ht(e,t,a,n),t.child;case 6:return e===null&&Vu(t),null;case 13:return q0(e,t,n);case 4:return td(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vi(t,null,r,n):ht(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),qf(e,t,r,i,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ne(Sa,r._currentValue),r._currentValue=a,s!==null)if(rn(s.value,a)){if(s.children===i.children&&!St.current){t=Rn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ln(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Du(s.return,n,t),o.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(D(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Du(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ht(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,yi(t,n),i=Qt(i),r=r(i),t.flags|=1,ht(e,t,r,n),t.child;case 14:return r=t.type,i=Kt(r,t.pendingProps),i=Kt(r.type,i),Jf(e,t,r,i,n);case 15:return W0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),Jl(e,t),t.tag=1,kt(r)?(e=!0,wa(t)):e=!1,yi(t,n),H0(t,r,i),$u(t,r,i,n),Bu(null,t,r,!0,e,n);case 19:return J0(e,t,n);case 22:return Z0(e,t,n)}throw Error(D(156,t.tag))};function hp(e,t){return Uh(e,t)}function n2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,r){return new n2(e,t,n,r)}function gd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r2(e){if(typeof e=="function")return gd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oc)return 11;if(e===Mc)return 14}return 2}function or(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ea(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")gd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ei:return Vr(n.children,i,s,t);case Tc:a=8,i|=8;break;case du:return e=Ht(12,n,t,i|2),e.elementType=du,e.lanes=s,e;case fu:return e=Ht(13,n,t,i),e.elementType=fu,e.lanes=s,e;case hu:return e=Ht(19,n,t,i),e.elementType=hu,e.lanes=s,e;case Sh:return fo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ch:a=10;break e;case bh:a=9;break e;case Oc:a=11;break e;case Mc:a=14;break e;case Fn:a=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Ht(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Vr(e,t,n,r){return e=Ht(7,e,r,t),e.lanes=n,e}function fo(e,t,n,r){return e=Ht(22,e,r,t),e.elementType=Sh,e.lanes=n,e.stateNode={isHidden:!1},e}function Yo(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function Xo(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i2(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xd(e,t,n,r,i,s,a,o,u){return e=new i2(e,t,n,o,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ht(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ed(s),e}function s2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pp(e){if(!e)return fr;e=e._reactInternals;e:{if(Zr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(kt(n))return p0(e,n,t)}return t}function mp(e,t,n,r,i,s,a,o,u){return e=xd(n,r,!0,e,i,s,a,o,u),e.context=pp(null),n=e.current,r=mt(),i=ar(n),s=Ln(r,i),s.callback=t??null,sr(n,s,i),e.current.lanes=i,ul(e,i,r),jt(e,r),e}function ho(e,t,n,r){var i=t.current,s=mt(),a=ar(i);return n=pp(n),t.context===null?t.context=n:t.pendingContext=n,t=Ln(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sr(i,t,a),e!==null&&(nn(e,i,a,s),Gl(e,i,a)),a}function Aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function u1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yd(e,t){u1(e,t),(e=e.alternate)&&u1(e,t)}function l2(){return null}var gp=typeof reportError=="function"?reportError:function(e){console.error(e)};function vd(e){this._internalRoot=e}po.prototype.render=vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));ho(e,t,null,null)};po.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Br(function(){ho(null,e,null,null)}),t[Pn]=null}};function po(e){this._internalRoot=e}po.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&t!==0&&t<Dn[n].priority;n++);Dn.splice(n,0,e),n===0&&Kh(e)}};function wd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function c1(){}function a2(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Aa(a);s.call(c)}}var a=mp(t,r,e,0,null,!1,!1,"",c1);return e._reactRootContainer=a,e[Pn]=a.current,Os(e.nodeType===8?e.parentNode:e),Br(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Aa(u);o.call(c)}}var u=xd(e,0,!1,null,null,!1,!1,"",c1);return e._reactRootContainer=u,e[Pn]=u.current,Os(e.nodeType===8?e.parentNode:e),Br(function(){ho(t,u,n,r)}),u}function go(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var u=Aa(a);o.call(u)}}ho(t,a,e,i)}else a=a2(n,t,e,i,r);return Aa(a)}Qh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ds(t.pendingLanes);n!==0&&(Dc(t,n|1),jt(t,Ve()),!(ve&6)&&($i=Ve()+500,gr()))}break;case 13:Br(function(){var r=In(e,1);if(r!==null){var i=mt();nn(r,e,1,i)}}),yd(e,1)}};Uc=function(e){if(e.tag===13){var t=In(e,134217728);if(t!==null){var n=mt();nn(t,e,134217728,n)}yd(e,134217728)}};Wh=function(e){if(e.tag===13){var t=ar(e),n=In(e,t);if(n!==null){var r=mt();nn(n,e,t,r)}yd(e,t)}};Zh=function(){return Se};Gh=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};Su=function(e,t,n){switch(t){case"input":if(gu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=so(r);if(!i)throw Error(D(90));jh(r),gu(r,i)}}}break;case"textarea":Eh(e,n);break;case"select":t=n.value,t!=null&&pi(e,!!n.multiple,t,!1)}};Th=hd;Oh=Br;var o2={usingClientEntryPoint:!1,Events:[dl,ii,so,Rh,Ah,hd]},ls={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u2={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vh(e),e===null?null:e.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||l2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{to=Ml.inject(u2),gn=Ml}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o2;Mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wd(t))throw Error(D(200));return s2(e,t,null,n)};Mt.createRoot=function(e,t){if(!wd(e))throw Error(D(299));var n=!1,r="",i=gp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=xd(e,1,!1,null,null,n,!1,r,i),e[Pn]=t.current,Os(e.nodeType===8?e.parentNode:e),new vd(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Vh(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return Br(e)};Mt.hydrate=function(e,t,n){if(!mo(t))throw Error(D(200));return go(null,e,t,!0,n)};Mt.hydrateRoot=function(e,t,n){if(!wd(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=gp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=mp(t,null,e,1,n??null,i,!1,s,a),e[Pn]=t.current,Os(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new po(t)};Mt.render=function(e,t,n){if(!mo(t))throw Error(D(200));return go(null,e,t,!1,n)};Mt.unmountComponentAtNode=function(e){if(!mo(e))throw Error(D(40));return e._reactRootContainer?(Br(function(){go(null,null,e,!1,function(){e._reactRootContainer=null,e[Pn]=null})}),!0):!1};Mt.unstable_batchedUpdates=hd;Mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mo(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return go(e,t,n,!1,r)};Mt.version="18.3.1-next-f1338f8080-20240426";function xp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xp)}catch(e){console.error(e)}}xp(),xh.exports=Mt;var c2=xh.exports,d1=c2;uu.createRoot=d1.createRoot,uu.hydrateRoot=d1.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(this,arguments)}var Xn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xn||(Xn={}));const f1="popstate";function d2(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return nc("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ta(i)}return h2(t,n,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function f2(){return Math.random().toString(36).substr(2,8)}function h1(e,t){return{usr:e.state,key:e.key,idx:t}}function nc(e,t,n,r){return n===void 0&&(n=null),Bs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gi(t):t,{state:n,key:t&&t.key||r||f2()})}function Ta(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Gi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h2(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Xn.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(Bs({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Xn.Pop;let C=d(),x=C==null?null:C-c;c=C,u&&u({action:o,location:w.location,delta:x})}function p(C,x){o=Xn.Push;let h=nc(w.location,C,x);n&&n(h,C),c=d()+1;let g=h1(h,c),b=w.createHref(h);try{a.pushState(g,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(b)}s&&u&&u({action:o,location:w.location,delta:1})}function v(C,x){o=Xn.Replace;let h=nc(w.location,C,x);n&&n(h,C),c=d();let g=h1(h,c),b=w.createHref(h);a.replaceState(g,"",b),s&&u&&u({action:o,location:w.location,delta:0})}function y(C){let x=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof C=="string"?C:Ta(C);return h=h.replace(/ $/,"%20"),De(x,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,x)}let w={get action(){return o},get location(){return e(i,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(f1,f),u=C,()=>{i.removeEventListener(f1,f),u=null}},createHref(C){return t(i,C)},createURL:y,encodeLocation(C){let x=y(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:v,go(C){return a.go(C)}};return w}var p1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(p1||(p1={}));function p2(e,t,n){return n===void 0&&(n="/"),m2(e,t,n,!1)}function m2(e,t,n,r){let i=typeof t=="string"?Gi(t):t,s=Cd(i.pathname||"/",n);if(s==null)return null;let a=vp(e);g2(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=E2(s);o=j2(a[u],c,r)}return o}function vp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(De(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ur([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(De(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),vp(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:S2(c,s.index),routesMeta:d})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let u of wp(s.path))i(s,a,u)}),t}function wp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=wp(r.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function g2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:k2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const x2=/^:[\w-]+$/,y2=3,v2=2,w2=1,C2=10,b2=-2,m1=e=>e==="*";function S2(e,t){let n=e.split("/"),r=n.length;return n.some(m1)&&(r+=b2),t&&(r+=v2),n.filter(i=>!m1(i)).reduce((i,s)=>i+(x2.test(s)?y2:s===""?w2:C2),r)}function k2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function j2(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=g1({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=g1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:ur([s,f.pathname]),pathnameBase:I2(ur([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ur([s,f.pathnameBase]))}return a}function g1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=N2(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:v}=d;if(p==="*"){let w=o[f]||"";a=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[f];return v&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function N2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),yp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function E2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function L2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Gi(e):e;return{pathname:n?n.startsWith("/")?n:_2(n,t):t,search:R2(r),hash:A2(i)}}function _2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function eu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bd(e,t){let n=P2(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sd(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Gi(e):(i=Bs({},e),De(!i.pathname||!i.pathname.includes("?"),eu("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),eu("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),eu("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?t[f]:"/"}let u=L2(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ur=e=>e.join("/").replace(/\/\/+/g,"/"),I2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function T2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cp=["post","put","patch","delete"];new Set(Cp);const O2=["get",...Cp];new Set(O2);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qs.apply(this,arguments)}const kd=m.createContext(null),M2=m.createContext(null),xr=m.createContext(null),xo=m.createContext(null),yn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),bp=m.createContext(null);function F2(e,t){let{relative:n}=t===void 0?{}:t;Ki()||De(!1);let{basename:r,navigator:i}=m.useContext(xr),{hash:s,pathname:a,search:o}=kp(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:ur([r,a])),i.createHref({pathname:u,search:o,hash:s})}function Ki(){return m.useContext(xo)!=null}function qi(){return Ki()||De(!1),m.useContext(xo).location}function Sp(e){m.useContext(xr).static||m.useLayoutEffect(e)}function Zt(){let{isDataRoute:e}=m.useContext(yn);return e?Y2():V2()}function V2(){Ki()||De(!1);let e=m.useContext(kd),{basename:t,future:n,navigator:r}=m.useContext(xr),{matches:i}=m.useContext(yn),{pathname:s}=qi(),a=JSON.stringify(bd(i,n.v7_relativeSplatPath)),o=m.useRef(!1);return Sp(()=>{o.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=Sd(c,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ur([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,s,e])}const D2=m.createContext(null);function U2(e){let t=m.useContext(yn).outlet;return t&&m.createElement(D2.Provider,{value:e},t)}function hl(){let{matches:e}=m.useContext(yn),t=e[e.length-1];return t?t.params:{}}function kp(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(xr),{matches:i}=m.useContext(yn),{pathname:s}=qi(),a=JSON.stringify(bd(i,r.v7_relativeSplatPath));return m.useMemo(()=>Sd(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function $2(e,t){return z2(e,t)}function z2(e,t,n,r){Ki()||De(!1);let{navigator:i}=m.useContext(xr),{matches:s}=m.useContext(yn),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=qi(),d;if(t){var f;let C=typeof t=="string"?Gi(t):t;u==="/"||(f=C.pathname)!=null&&f.startsWith(u)||De(!1),d=C}else d=c;let p=d.pathname||"/",v=p;if(u!=="/"){let C=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let y=p2(e,{pathname:v}),w=Z2(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:ur([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:ur([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return t&&w?m.createElement(xo.Provider,{value:{location:Qs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xn.Pop}},w):w}function H2(){let e=J2(),t=T2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,s)}const B2=m.createElement(H2,null);class Q2 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(yn.Provider,{value:this.props.routeContext},m.createElement(bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W2(e){let{routeContext:t,match:n,children:r}=e,i=m.useContext(kd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(yn.Provider,{value:t},r)}function Z2(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||De(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:v}=n,y=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||y){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let v,y=!1,w=null,C=null;n&&(v=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||B2,u&&(c<0&&p===0?(X2("route-fallback",!1),y=!0,C=null):c===p&&(y=!0,C=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,p+1)),h=()=>{let g;return v?g=w:y?g=C:f.route.Component?g=m.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,m.createElement(W2,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(Q2,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:h(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):h()},null)}var jp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jp||{}),Oa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Oa||{});function G2(e){let t=m.useContext(kd);return t||De(!1),t}function K2(e){let t=m.useContext(M2);return t||De(!1),t}function q2(e){let t=m.useContext(yn);return t||De(!1),t}function Np(e){let t=q2(),n=t.matches[t.matches.length-1];return n.route.id||De(!1),n.route.id}function J2(){var e;let t=m.useContext(bp),n=K2(Oa.UseRouteError),r=Np(Oa.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Y2(){let{router:e}=G2(jp.UseNavigateStable),t=Np(Oa.UseNavigateStable),n=m.useRef(!1);return Sp(()=>{n.current=!0}),m.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Qs({fromRouteId:t},s)))},[e,t])}const x1={};function X2(e,t,n){!t&&!x1[e]&&(x1[e]=!0)}function ey(e){let{to:t,replace:n,state:r,relative:i}=e;Ki()||De(!1);let{future:s,static:a}=m.useContext(xr),{matches:o}=m.useContext(yn),{pathname:u}=qi(),c=Zt(),d=Sd(t,bd(o,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function ty(e){return U2(e.context)}function Vt(e){De(!1)}function ny(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Xn.Pop,navigator:s,static:a=!1,future:o}=e;Ki()&&De(!1);let u=t.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:u,navigator:s,static:a,future:Qs({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof r=="string"&&(r=Gi(r));let{pathname:d="/",search:f="",hash:p="",state:v=null,key:y="default"}=r,w=m.useMemo(()=>{let C=Cd(d,u);return C==null?null:{location:{pathname:C,search:f,hash:p,state:v,key:y},navigationType:i}},[u,d,f,p,v,y,i]);return w==null?null:m.createElement(xr.Provider,{value:c},m.createElement(xo.Provider,{children:n,value:w}))}function ry(e){let{children:t,location:n}=e;return $2(rc(t),n)}new Promise(()=>{});function rc(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,i)=>{if(!m.isValidElement(r))return;let s=[...t,i];if(r.type===m.Fragment){n.push.apply(n,rc(r.props.children,s));return}r.type!==Vt&&De(!1),!r.props.index||!r.props.children||De(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=rc(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ic.apply(this,arguments)}function iy(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function sy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ly(e,t){return e.button===0&&(!t||t==="_self")&&!sy(e)}const ay=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],oy="6";try{window.__reactRouterVersion=oy}catch{}const uy="startTransition",y1=Xm[uy];function cy(e){let{basename:t,children:n,future:r,window:i}=e,s=m.useRef();s.current==null&&(s.current=d2({window:i,v5Compat:!0}));let a=s.current,[o,u]=m.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=m.useCallback(f=>{c&&y1?y1(()=>u(f)):u(f)},[u,c]);return m.useLayoutEffect(()=>a.listen(d),[a,d]),m.createElement(ny,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const dy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ws=m.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:u,to:c,preventScrollReset:d,unstable_viewTransition:f}=t,p=iy(t,ay),{basename:v}=m.useContext(xr),y,w=!1;if(typeof c=="string"&&fy.test(c)&&(y=c,dy))try{let g=new URL(window.location.href),b=c.startsWith("//")?new URL(g.protocol+c):new URL(c),j=Cd(b.pathname,v);b.origin===g.origin&&j!=null?c=j+b.search+b.hash:w=!0}catch{}let C=F2(c,{relative:i}),x=hy(c,{replace:a,state:o,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:f});function h(g){r&&r(g),g.defaultPrevented||x(g)}return m.createElement("a",ic({},p,{href:y||C,onClick:w||s?r:h,ref:n,target:u}))});var v1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v1||(v1={}));var w1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(w1||(w1={}));function hy(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}=t===void 0?{}:t,u=Zt(),c=qi(),d=kp(e,{relative:a});return m.useCallback(f=>{if(ly(f,n)){f.preventDefault();let p=r!==void 0?r:Ta(c)===Ta(d);u(e,{replace:p,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o})}},[c,u,d,r,i,n,e,s,a,o])}const zi="BarsikChat",py="v1.0.0",Fl="dark",my="light",tu="theme",gy=140,xy=70,Ma=3,Fa=20,Va=8,yy=2,vy=10,wy=25,jd=/^.+$/,Cy=/^(?!.*\s{2})[a-zA-Z0-9 ]+$/,by="image/jpeg,image/png,image/webp",Ep=m.createContext(),Lp={isSidebarOpen:!1,isAccountViewOpen:!1,isSearchViewOpen:!1,isDarkMode:!0,isFriendsSidebarOpen:!1,isMenuOpen:!1,searchQuery:""};function Sy(e,t){switch(t.type){case"OPEN_SIDEBAR":return{...e,isSidebarOpen:!0};case"CLOSE_SIDEBAR":return{...e,isSidebarOpen:!1};case"OPEN_ACCOUNT_VIEW":return{...e,isAccountViewOpen:!0,isMenuOpen:!1};case"CLOSE_ACCOUNT_VIEW":return{...e,isAccountViewOpen:!1};case"OPEN_SEARCH_VIEW":return{...e,isSearchViewOpen:!0};case"CLOSE_SEARCH_VIEW":return{...e,isSearchViewOpen:!1,searchQuery:""};case"UPDATE_DARK_MODE":return{...e,isDarkMode:t.payload};case"CLOSE_FRIEND_SIDEBAR":return{...e,isFriendsSidebarOpen:!1};case"OPEN_FRIEND_SIDEBAR":return{...e,isFriendsSidebarOpen:!0};case"TOGGLE_MENU":return{...e,isMenuOpen:!e.isMenuOpen};case"UPDATE_SEARCH_QUERY":return{...e,searchQuery:t.payload};case"RESET":return{...Lp,isDarkMode:e.isDarkMode};default:return e}}function ky({children:e}){const[{isSidebarOpen:t,isAccountViewOpen:n,isSearchViewOpen:r,isDarkMode:i,isFriendsSidebarOpen:s,isMenuOpen:a,searchQuery:o},u]=m.useReducer(Sy,Lp);function c(){u({type:"OPEN_SIDEBAR"})}function d(){u({type:"CLOSE_SIDEBAR"})}function f(){u({type:"CLOSE_ACCOUNT_VIEW"}),window.removeEventListener("popstate",f)}function p(){u({type:"OPEN_ACCOUNT_VIEW"}),window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",f)}function v(){u({type:"CLOSE_ACCOUNT_VIEW"}),window.history.back(),window.removeEventListener("popstate",f)}function y(){u({type:"CLOSE_SEARCH_VIEW"}),window.removeEventListener("popstate",y)}function w(){u({type:"OPEN_SEARCH_VIEW"}),!r&&window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",y)}function C({back:I=!0}={}){I&&window.history.back(),u({type:"CLOSE_SEARCH_VIEW"}),window.removeEventListener("popstate",y)}function x(){u({type:"CLOSE_FRIEND_SIDEBAR"}),window.removeEventListener("popstate",x)}function h(){u({type:"OPEN_FRIEND_SIDEBAR"}),window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",x)}function g(){u({type:"CLOSE_FRIEND_SIDEBAR"}),window.history.back(),window.removeEventListener("popstate",x)}function b(){u({type:"TOGGLE_MENU"})}function j(I){u({type:"UPDATE_SEARCH_QUERY",payload:I})}function _(){u({type:"RESET"})}function E(I){u({type:"UPDATE_DARK_MODE",payload:I}),I?(document.documentElement.classList.add(Fl),localStorage.setItem(tu,Fl)):(document.documentElement.classList.remove(Fl),localStorage.setItem(tu,my))}m.useEffect(()=>{const I=localStorage.getItem(tu),Y=window.matchMedia("(prefers-color-scheme: dark)").matches;let V;I?V=I===Fl:Y?V=Y:V=!1,E(V)},[]);const M={dispatch:u,isAccountViewOpen:n,openAccountView:p,closeAccountView:v,isSidebarOpen:t,openSidebar:c,closeSidebar:d,isSearchViewOpen:r,openSearchView:w,closeSearchView:C,isDarkMode:i,toggleDarkMode:()=>{E(!i)},isFriendsSidebarOpen:s,closeFriendSidebar:g,openFriendSidebar:h,isMenuOpen:a,toggleMenu:b,searchQuery:o,updateSearchQuery:j,resetUi:_};return l.jsx(Ep.Provider,{value:M,children:e})}function Nt(){const e=m.useContext(Ep);if(e===void 0)throw new Error("UiContext was used outside the UiProvider");return e}function Nd({children:e,isOpen:t,toggle:n,withOverlay:r=!0}){return l.jsxs(l.Fragment,{children:[t&&l.jsx("div",{tabIndex:-1,onClick:()=>n(),className:`${r?"opacity-100":"opacity-0"} fixed inset-0 z-20 bg-black/10`}),e]})}var _p={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},C1=xe.createContext&&xe.createContext(_p),cr=globalThis&&globalThis.__assign||function(){return cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},cr.apply(this,arguments)},jy=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Pp(e){return e&&e.map(function(t,n){return xe.createElement(t.tag,cr({key:n},t.attr),Pp(t.child))})}function re(e){return function(t){return xe.createElement(Ny,cr({attr:cr({},e.attr)},t),Pp(e.child))}}function Ny(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,a=jy(e,["attr","size","title"]),o=i||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),xe.createElement("svg",cr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:cr(cr({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&xe.createElement("title",null,s),e.children)};return C1!==void 0?xe.createElement(C1.Consumer,null,function(n){return t(n)}):t(_p)}function Ey(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"}},{tag:"line",attr:{x1:"16",x2:"22",y1:"5",y2:"5"}},{tag:"line",attr:{x1:"19",x2:"19",y1:"2",y2:"8"}},{tag:"circle",attr:{cx:"9",cy:"9",r:"2"}},{tag:"path",attr:{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}}]})(e)}var Ji=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hi=typeof window>"u"||"Deno"in globalThis;function Ut(){}function Ly(e,t){return typeof e=="function"?e(t):e}function sc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ip(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wi(e,t){return typeof e=="function"?e(t):e}function Xt(e,t){return typeof e=="function"?e(t):e}function b1(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==Ed(a,t.options))return!1}else if(!Zs(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function S1(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Qr(t.options.mutationKey)!==Qr(s))return!1}else if(!Zs(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Ed(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qr)(e)}function Qr(e){return JSON.stringify(e,(t,n)=>lc(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Zs(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Zs(e[n],t[n])):!1}function Rp(e,t){if(e===t)return e;const n=k1(e)&&k1(t);if(n||lc(e)&&lc(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{};let u=0;for(let c=0;c<a;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,u++):(o[d]=Rp(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&u++)}return i===a&&u===i?e:o}return t}function Da(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function k1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lc(e){if(!j1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!j1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function j1(e){return Object.prototype.toString.call(e)==="[object Object]"}function _y(e){return new Promise(t=>{setTimeout(t,e)})}function ac(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Rp(e,t):t}function Py(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Iy(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ap=Symbol();function Tp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ap?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var _r,Hn,Ci,q1,Ry=(q1=class extends Ji{constructor(){super();ne(this,_r,void 0);ne(this,Hn,void 0);ne(this,Ci,void 0);q(this,Ci,t=>{if(!Hi&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,Hn)||this.setEventListener(S(this,Ci))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Hn))==null||t.call(this),q(this,Hn,void 0))}setEventListener(t){var n;q(this,Ci,t),(n=S(this,Hn))==null||n.call(this),q(this,Hn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){S(this,_r)!==t&&(q(this,_r,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof S(this,_r)=="boolean"?S(this,_r):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_r=new WeakMap,Hn=new WeakMap,Ci=new WeakMap,q1),Ld=new Ry,bi,Bn,Si,J1,Ay=(J1=class extends Ji{constructor(){super();ne(this,bi,!0);ne(this,Bn,void 0);ne(this,Si,void 0);q(this,Si,t=>{if(!Hi&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,Bn)||this.setEventListener(S(this,Si))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Bn))==null||t.call(this),q(this,Bn,void 0))}setEventListener(t){var n;q(this,Si,t),(n=S(this,Bn))==null||n.call(this),q(this,Bn,t(this.setOnline.bind(this)))}setOnline(t){S(this,bi)!==t&&(q(this,bi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return S(this,bi)}},bi=new WeakMap,Bn=new WeakMap,Si=new WeakMap,J1),Ua=new Ay;function Ty(e){return Math.min(1e3*2**e,3e4)}function Op(e){return(e??"online")==="online"?Ua.isOnline():!0}var Mp=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function nu(e){return e instanceof Mp}function Fp(e){let t=!1,n=0,r=!1,i,s,a;const o=new Promise((x,h)=>{s=x,a=h}),u=x=>{var h;r||(y(new Mp(x)),(h=e.abort)==null||h.call(e))},c=()=>{t=!0},d=()=>{t=!1},f=()=>Ld.isFocused()&&(e.networkMode==="always"||Ua.isOnline())&&e.canRun(),p=()=>Op(e.networkMode)&&e.canRun(),v=x=>{var h;r||(r=!0,(h=e.onSuccess)==null||h.call(e,x),i==null||i(),s(x))},y=x=>{var h;r||(r=!0,(h=e.onError)==null||h.call(e,x),i==null||i(),a(x))},w=()=>new Promise(x=>{var h;i=g=>{(r||f())&&x(g)},(h=e.onPause)==null||h.call(e)}).then(()=>{var x;i=void 0,r||(x=e.onContinue)==null||x.call(e)}),C=()=>{if(r)return;let x;const h=n===0?e.initialPromise:void 0;try{x=h??e.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(v).catch(g=>{var N;if(r)return;const b=e.retry??(Hi?0:3),j=e.retryDelay??Ty,_=typeof j=="function"?j(n,g):j,E=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,g);if(t||!E){y(g);return}n++,(N=e.onFail)==null||N.call(e,n,g),_y(_).then(()=>f()?void 0:w()).then(()=>{t?y(g):C()})})};return{promise:o,cancel:u,continue:()=>(i==null||i(),o),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?C():w().then(C),o)}}function Oy(){let e=[],t=0,n=p=>{p()},r=p=>{p()},i=p=>setTimeout(p,0);const s=p=>{i=p},a=p=>{let v;t++;try{v=p()}finally{t--,t||c()}return v},o=p=>{t?e.push(p):i(()=>{n(p)})},u=p=>(...v)=>{o(()=>{p(...v)})},c=()=>{const p=e;e=[],p.length&&i(()=>{r(()=>{p.forEach(v=>{n(v)})})})};return{batch:a,batchCalls:u,schedule:o,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:s}}var Qe=Oy(),Pr,Y1,Vp=(Y1=class{constructor(){ne(this,Pr,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sc(this.gcTime)&&q(this,Pr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hi?1/0:5*60*1e3))}clearGcTimeout(){S(this,Pr)&&(clearTimeout(S(this,Pr)),q(this,Pr,void 0))}},Pr=new WeakMap,Y1),ki,ji,Dt,lt,qs,Ir,qt,Cn,X1,My=(X1=class extends Vp{constructor(t){super();ne(this,qt);ne(this,ki,void 0);ne(this,ji,void 0);ne(this,Dt,void 0);ne(this,lt,void 0);ne(this,qs,void 0);ne(this,Ir,void 0);q(this,Ir,!1),q(this,qs,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,Dt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,ki,t.state||Fy(this.options)),this.state=S(this,ki),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,lt))==null?void 0:t.promise}setOptions(t){this.options={...S(this,qs),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Dt).remove(this)}setData(t,n){const r=ac(this.state.data,t,this.options);return fe(this,qt,Cn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){fe(this,qt,Cn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=S(this,lt))==null?void 0:r.promise;return(i=S(this,lt))==null||i.cancel(t),n?n.then(Ut).catch(Ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,ki))}isActive(){return this.observers.some(t=>Xt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Ip(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,lt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,lt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,Dt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(S(this,lt)&&(S(this,Ir)?S(this,lt).cancel({revert:!0}):S(this,lt).cancelRetry()),this.scheduleGc()),S(this,Dt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fe(this,qt,Cn).call(this,{type:"invalidate"})}fetch(t,n){var u,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,lt))return S(this,lt).continueRetry(),S(this,lt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(q(this,Ir,!0),r.signal)})},s=()=>{const f=Tp(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return i(p),q(this,Ir,!1),this.options.persister?this.options.persister(f,p,this):f(p)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),q(this,ji,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&fe(this,qt,Cn).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=f=>{var p,v,y,w;nu(f)&&f.silent||fe(this,qt,Cn).call(this,{type:"error",error:f}),nu(f)||((v=(p=S(this,Dt).config).onError)==null||v.call(p,f,this),(w=(y=S(this,Dt).config).onSettled)==null||w.call(y,this.state.data,f,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return q(this,lt,Fp({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,v,y,w;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}this.setData(f),(v=(p=S(this,Dt).config).onSuccess)==null||v.call(p,f,this),(w=(y=S(this,Dt).config).onSettled)==null||w.call(y,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:o,onFail:(f,p)=>{fe(this,qt,Cn).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{fe(this,qt,Cn).call(this,{type:"pause"})},onContinue:()=>{fe(this,qt,Cn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),S(this,lt).start()}},ki=new WeakMap,ji=new WeakMap,Dt=new WeakMap,lt=new WeakMap,qs=new WeakMap,Ir=new WeakMap,qt=new WeakSet,Cn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Dp(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return nu(i)&&i.revert&&S(this,ji)?{...S(this,ji),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Qe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,Dt).notify({query:this,type:"updated",action:t})})},X1);function Dp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Op(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Fy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var un,eh,Vy=(eh=class extends Ji{constructor(t={}){super();ne(this,un,void 0);this.config=t,q(this,un,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??Ed(i,n);let a=this.get(s);return a||(a=new My({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){S(this,un).has(t.queryHash)||(S(this,un).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=S(this,un).get(t.queryHash);n&&(t.destroy(),n===t&&S(this,un).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,un).get(t)}getAll(){return[...S(this,un).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>b1(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>b1(t,r)):n}notify(t){Qe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Qe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},un=new WeakMap,eh),cn,dt,Rr,dn,Mn,th,Dy=(th=class extends Vp{constructor(t){super();ne(this,dn);ne(this,cn,void 0);ne(this,dt,void 0);ne(this,Rr,void 0);this.mutationId=t.mutationId,q(this,dt,t.mutationCache),q(this,cn,[]),this.state=t.state||Up(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,cn).includes(t)||(S(this,cn).push(t),this.clearGcTimeout(),S(this,dt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,cn,S(this,cn).filter(n=>n!==t)),this.scheduleGc(),S(this,dt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,cn).length||(this.state.status==="pending"?this.scheduleGc():S(this,dt).remove(this))}continue(){var t;return((t=S(this,Rr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,a,o,u,c,d,f,p,v,y,w,C,x,h,g,b,j,_,E;q(this,Rr,Fp({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,M)=>{fe(this,dn,Mn).call(this,{type:"failed",failureCount:N,error:M})},onPause:()=>{fe(this,dn,Mn).call(this,{type:"pause"})},onContinue:()=>{fe(this,dn,Mn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,dt).canRun(this)}));const n=this.state.status==="pending",r=!S(this,Rr).canStart();try{if(!n){fe(this,dn,Mn).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(i=S(this,dt).config).onMutate)==null?void 0:s.call(i,t,this));const M=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t));M!==this.state.context&&fe(this,dn,Mn).call(this,{type:"pending",context:M,variables:t,isPaused:r})}const N=await S(this,Rr).start();return await((c=(u=S(this,dt).config).onSuccess)==null?void 0:c.call(u,N,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,N,t,this.state.context)),await((v=(p=S(this,dt).config).onSettled)==null?void 0:v.call(p,N,null,this.state.variables,this.state.context,this)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,N,null,t,this.state.context)),fe(this,dn,Mn).call(this,{type:"success",data:N}),N}catch(N){try{throw await((x=(C=S(this,dt).config).onError)==null?void 0:x.call(C,N,t,this.state.context,this)),await((g=(h=this.options).onError)==null?void 0:g.call(h,N,t,this.state.context)),await((j=(b=S(this,dt).config).onSettled)==null?void 0:j.call(b,void 0,N,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,void 0,N,t,this.state.context)),N}finally{fe(this,dn,Mn).call(this,{type:"error",error:N})}}finally{S(this,dt).runNext(this)}}},cn=new WeakMap,dt=new WeakMap,Rr=new WeakMap,dn=new WeakSet,Mn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qe.batch(()=>{S(this,cn).forEach(r=>{r.onMutationUpdate(t)}),S(this,dt).notify({mutation:this,type:"updated",action:t})})},th);function Up(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lt,Js,nh,Uy=(nh=class extends Ji{constructor(t={}){super();ne(this,Lt,void 0);ne(this,Js,void 0);this.config=t,q(this,Lt,new Map),q(this,Js,Date.now())}build(t,n,r){const i=new Dy({mutationCache:this,mutationId:++vl(this,Js)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Vl(t),r=S(this,Lt).get(n)??[];r.push(t),S(this,Lt).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Vl(t);if(S(this,Lt).has(n)){const i=(r=S(this,Lt).get(n))==null?void 0:r.filter(s=>s!==t);i&&(i.length===0?S(this,Lt).delete(n):S(this,Lt).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=S(this,Lt).get(Vl(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=S(this,Lt).get(Vl(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Qe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...S(this,Lt).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>S1(n,r))}findAll(t={}){return this.getAll().filter(n=>S1(t,n))}notify(t){Qe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Qe.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ut))))}},Lt=new WeakMap,Js=new WeakMap,nh);function Vl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function oc(e){return{onFetch:(t,n)=>{const r=async()=>{var y,w,C,x,h;const i=t.options,s=(C=(w=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:w.fetchMore)==null?void 0:C.direction,a=((x=t.state.data)==null?void 0:x.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[],u={pages:[],pageParams:[]};let c=!1;const d=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?c=!0:t.signal.addEventListener("abort",()=>{c=!0}),t.signal)})},f=Tp(t.options,t.fetchOptions),p=async(g,b,j)=>{if(c)return Promise.reject();if(b==null&&g.pages.length)return Promise.resolve(g);const _={queryKey:t.queryKey,pageParam:b,direction:j?"backward":"forward",meta:t.options.meta};d(_);const E=await f(_),{maxPages:N}=t.options,M=j?Iy:Py;return{pages:M(g.pages,E,N),pageParams:M(g.pageParams,b,N)}};let v;if(s&&a.length){const g=s==="backward",b=g?$p:uc,j={pages:a,pageParams:o},_=b(i,j);v=await p(j,_,g)}else{v=await p(u,o[0]??i.initialPageParam);const g=e??a.length;for(let b=1;b<g;b++){const j=uc(i,v);if(j==null)break;v=await p(v,j)}}return v};t.options.persister?t.fetchFn=()=>{var i,s;return(s=(i=t.options).persister)==null?void 0:s.call(i,r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=r}}}function uc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function $p(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}function $y(e,t){return t?uc(e,t)!=null:!1}function zy(e,t){return!t||!e.getPreviousPageParam?!1:$p(e,t)!=null}var Te,Qn,Wn,Ni,Ei,Zn,Li,_i,rh,Hy=(rh=class{constructor(e={}){ne(this,Te,void 0);ne(this,Qn,void 0);ne(this,Wn,void 0);ne(this,Ni,void 0);ne(this,Ei,void 0);ne(this,Zn,void 0);ne(this,Li,void 0);ne(this,_i,void 0);q(this,Te,e.queryCache||new Vy),q(this,Qn,e.mutationCache||new Uy),q(this,Wn,e.defaultOptions||{}),q(this,Ni,new Map),q(this,Ei,new Map),q(this,Zn,0)}mount(){vl(this,Zn)._++,S(this,Zn)===1&&(q(this,Li,Ld.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Te).onFocus())})),q(this,_i,Ua.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Te).onOnline())})))}unmount(){var e,t;vl(this,Zn)._--,S(this,Zn)===0&&((e=S(this,Li))==null||e.call(this),q(this,Li,void 0),(t=S(this,_i))==null||t.call(this),q(this,_i,void 0))}isFetching(e){return S(this,Te).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,Qn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,Te).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=S(this,Te).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(wi(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return S(this,Te).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=S(this,Te).get(r.queryHash),s=i==null?void 0:i.state.data,a=Ly(t,s);if(a!==void 0)return S(this,Te).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Qe.batch(()=>S(this,Te).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,Te).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=S(this,Te);Qe.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=S(this,Te),r={type:"active",...e};return Qe.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Qe.batch(()=>S(this,Te).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ut).catch(Ut)}invalidateQueries(e={},t={}){return Qe.batch(()=>{if(S(this,Te).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Qe.batch(()=>S(this,Te).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ut)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ut)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=S(this,Te).build(this,t);return n.isStaleByTime(wi(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ut).catch(Ut)}fetchInfiniteQuery(e){return e.behavior=oc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ut).catch(Ut)}resumePausedMutations(){return Ua.isOnline()?S(this,Qn).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,Te)}getMutationCache(){return S(this,Qn)}getDefaultOptions(){return S(this,Wn)}setDefaultOptions(e){q(this,Wn,e)}setQueryDefaults(e,t){S(this,Ni).set(Qr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,Ni).values()];let n={};return t.forEach(r=>{Zs(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){S(this,Ei).set(Qr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,Ei).values()];let n={};return t.forEach(r=>{Zs(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,Wn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ed(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Ap&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,Wn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,Te).clear(),S(this,Qn).clear()}},Te=new WeakMap,Qn=new WeakMap,Wn=new WeakMap,Ni=new WeakMap,Ei=new WeakMap,Zn=new WeakMap,Li=new WeakMap,_i=new WeakMap,rh),vt,ge,Ys,ft,Ar,Pi,fn,Xs,Ii,Ri,Tr,Or,Gn,Ai,Mr,hs,el,cc,tl,dc,nl,fc,rl,hc,il,pc,sl,mc,ll,gc,Xa,Hp,ih,zp=(ih=class extends Ji{constructor(t,n){super();ne(this,Mr);ne(this,el);ne(this,tl);ne(this,nl);ne(this,rl);ne(this,il);ne(this,sl);ne(this,ll);ne(this,Xa);ne(this,vt,void 0);ne(this,ge,void 0);ne(this,Ys,void 0);ne(this,ft,void 0);ne(this,Ar,void 0);ne(this,Pi,void 0);ne(this,fn,void 0);ne(this,Xs,void 0);ne(this,Ii,void 0);ne(this,Ri,void 0);ne(this,Tr,void 0);ne(this,Or,void 0);ne(this,Gn,void 0);ne(this,Ai,new Set);this.options=n,q(this,vt,t),q(this,fn,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,ge).addObserver(this),N1(S(this,ge),this.options)?fe(this,Mr,hs).call(this):this.updateResult(),fe(this,rl,hc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xc(S(this,ge),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xc(S(this,ge),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,fe(this,il,pc).call(this),fe(this,sl,mc).call(this),S(this,ge).removeObserver(this)}setOptions(t,n){const r=this.options,i=S(this,ge);if(this.options=S(this,vt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xt(this.options.enabled,S(this,ge))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");fe(this,ll,gc).call(this),S(this,ge).setOptions(this.options),r._defaulted&&!Da(this.options,r)&&S(this,vt).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,ge),observer:this});const s=this.hasListeners();s&&E1(S(this,ge),i,this.options,r)&&fe(this,Mr,hs).call(this),this.updateResult(n),s&&(S(this,ge)!==i||Xt(this.options.enabled,S(this,ge))!==Xt(r.enabled,S(this,ge))||wi(this.options.staleTime,S(this,ge))!==wi(r.staleTime,S(this,ge)))&&fe(this,el,cc).call(this);const a=fe(this,tl,dc).call(this);s&&(S(this,ge)!==i||Xt(this.options.enabled,S(this,ge))!==Xt(r.enabled,S(this,ge))||a!==S(this,Gn))&&fe(this,nl,fc).call(this,a)}getOptimisticResult(t){const n=S(this,vt).getQueryCache().build(S(this,vt),t),r=this.createResult(n,t);return Qy(this,r)&&(q(this,ft,r),q(this,Pi,this.options),q(this,Ar,S(this,ge).state)),r}getCurrentResult(){return S(this,ft)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){S(this,Ai).add(t)}getCurrentQuery(){return S(this,ge)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=S(this,vt).defaultQueryOptions(t),r=S(this,vt).getQueryCache().build(S(this,vt),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return fe(this,Mr,hs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,ft)))}createResult(t,n){var E;const r=S(this,ge),i=this.options,s=S(this,ft),a=S(this,Ar),o=S(this,Pi),c=t!==r?t.state:S(this,Ys),{state:d}=t;let f={...d},p=!1,v;if(n._optimisticResults){const N=this.hasListeners(),M=!N&&N1(t,n),I=N&&E1(t,r,n,i);(M||I)&&(f={...f,...Dp(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:w,status:C}=f;if(n.select&&f.data!==void 0)if(s&&f.data===(a==null?void 0:a.data)&&n.select===S(this,Xs))v=S(this,Ii);else try{q(this,Xs,n.select),v=n.select(f.data),v=ac(s==null?void 0:s.data,v,n),q(this,Ii,v),q(this,fn,null)}catch(N){q(this,fn,N)}else v=f.data;if(n.placeholderData!==void 0&&v===void 0&&C==="pending"){let N;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData))N=s.data;else if(N=typeof n.placeholderData=="function"?n.placeholderData((E=S(this,Ri))==null?void 0:E.state.data,S(this,Ri)):n.placeholderData,n.select&&N!==void 0)try{N=n.select(N),q(this,fn,null)}catch(M){q(this,fn,M)}N!==void 0&&(C="success",v=ac(s==null?void 0:s.data,N,n),p=!0)}S(this,fn)&&(y=S(this,fn),v=S(this,Ii),w=Date.now(),C="error");const x=f.fetchStatus==="fetching",h=C==="pending",g=C==="error",b=h&&x,j=v!==void 0;return{status:C,fetchStatus:f.fetchStatus,isPending:h,isSuccess:C==="success",isError:g,isInitialLoading:b,isLoading:b,data:v,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!h,isLoadingError:g&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:g&&j,isStale:_d(t,n),refetch:this.refetch}}updateResult(t){const n=S(this,ft),r=this.createResult(S(this,ge),this.options);if(q(this,Ar,S(this,ge).state),q(this,Pi,this.options),S(this,Ar).data!==void 0&&q(this,Ri,S(this,ge)),Da(r,n))return;q(this,ft,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!S(this,Ai).size)return!0;const u=new Set(o??S(this,Ai));return this.options.throwOnError&&u.add("error"),Object.keys(S(this,ft)).some(c=>{const d=c;return S(this,ft)[d]!==n[d]&&u.has(d)})};(t==null?void 0:t.listeners)!==!1&&s()&&(i.listeners=!0),fe(this,Xa,Hp).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&fe(this,rl,hc).call(this)}},vt=new WeakMap,ge=new WeakMap,Ys=new WeakMap,ft=new WeakMap,Ar=new WeakMap,Pi=new WeakMap,fn=new WeakMap,Xs=new WeakMap,Ii=new WeakMap,Ri=new WeakMap,Tr=new WeakMap,Or=new WeakMap,Gn=new WeakMap,Ai=new WeakMap,Mr=new WeakSet,hs=function(t){fe(this,ll,gc).call(this);let n=S(this,ge).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ut)),n},el=new WeakSet,cc=function(){fe(this,il,pc).call(this);const t=wi(this.options.staleTime,S(this,ge));if(Hi||S(this,ft).isStale||!sc(t))return;const r=Ip(S(this,ft).dataUpdatedAt,t)+1;q(this,Tr,setTimeout(()=>{S(this,ft).isStale||this.updateResult()},r))},tl=new WeakSet,dc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,ge)):this.options.refetchInterval)??!1},nl=new WeakSet,fc=function(t){fe(this,sl,mc).call(this),q(this,Gn,t),!(Hi||Xt(this.options.enabled,S(this,ge))===!1||!sc(S(this,Gn))||S(this,Gn)===0)&&q(this,Or,setInterval(()=>{(this.options.refetchIntervalInBackground||Ld.isFocused())&&fe(this,Mr,hs).call(this)},S(this,Gn)))},rl=new WeakSet,hc=function(){fe(this,el,cc).call(this),fe(this,nl,fc).call(this,fe(this,tl,dc).call(this))},il=new WeakSet,pc=function(){S(this,Tr)&&(clearTimeout(S(this,Tr)),q(this,Tr,void 0))},sl=new WeakSet,mc=function(){S(this,Or)&&(clearInterval(S(this,Or)),q(this,Or,void 0))},ll=new WeakSet,gc=function(){const t=S(this,vt).getQueryCache().build(S(this,vt),this.options);if(t===S(this,ge))return;const n=S(this,ge);q(this,ge,t),q(this,Ys,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Xa=new WeakSet,Hp=function(t){Qe.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(S(this,ft))}),S(this,vt).getQueryCache().notify({query:S(this,ge),type:"observerResultsUpdated"})})},ih);function By(e,t){return Xt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function N1(e,t){return By(e,t)||e.state.data!==void 0&&xc(e,t,t.refetchOnMount)}function xc(e,t,n){if(Xt(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&_d(e,t)}return!1}function E1(e,t,n,r){return(e!==t||Xt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&_d(e,n)}function _d(e,t){return Xt(t.enabled,e)!==!1&&e.isStaleByTime(wi(t.staleTime,e))}function Qy(e,t){return!Da(e.getCurrentResult(),t)}var Wy=class extends zp{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:oc()},t)}getOptimisticResult(e){return e.behavior=oc(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var y,w;const{state:n}=e,r=super.createResult(e,t),{isFetching:i,isRefetching:s,isError:a,isRefetchError:o}=r,u=(w=(y=n.fetchMeta)==null?void 0:y.fetchMore)==null?void 0:w.direction,c=a&&u==="forward",d=i&&u==="forward",f=a&&u==="backward",p=i&&u==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:$y(t,n.data),hasPreviousPage:zy(t,n.data),isFetchNextPageError:c,isFetchingNextPage:d,isFetchPreviousPageError:f,isFetchingPreviousPage:p,isRefetchError:o&&!c&&!f,isRefetching:s&&!d&&!p}}},Kn,qn,wt,jn,Ti,ta,al,yc,sh,Zy=(sh=class extends Ji{constructor(n,r){super();ne(this,Ti);ne(this,al);ne(this,Kn,void 0);ne(this,qn,void 0);ne(this,wt,void 0);ne(this,jn,void 0);q(this,Kn,n),this.setOptions(r),this.bindMethods(),fe(this,Ti,ta).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=S(this,Kn).defaultMutationOptions(n),Da(this.options,r)||S(this,Kn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,wt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Qr(r.mutationKey)!==Qr(this.options.mutationKey)?this.reset():((i=S(this,wt))==null?void 0:i.state.status)==="pending"&&S(this,wt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=S(this,wt))==null||n.removeObserver(this)}onMutationUpdate(n){fe(this,Ti,ta).call(this),fe(this,al,yc).call(this,n)}getCurrentResult(){return S(this,qn)}reset(){var n;(n=S(this,wt))==null||n.removeObserver(this),q(this,wt,void 0),fe(this,Ti,ta).call(this),fe(this,al,yc).call(this)}mutate(n,r){var i;return q(this,jn,r),(i=S(this,wt))==null||i.removeObserver(this),q(this,wt,S(this,Kn).getMutationCache().build(S(this,Kn),this.options)),S(this,wt).addObserver(this),S(this,wt).execute(n)}},Kn=new WeakMap,qn=new WeakMap,wt=new WeakMap,jn=new WeakMap,Ti=new WeakSet,ta=function(){var r;const n=((r=S(this,wt))==null?void 0:r.state)??Up();q(this,qn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},al=new WeakSet,yc=function(n){Qe.batch(()=>{var r,i,s,a,o,u,c,d;if(S(this,jn)&&this.hasListeners()){const f=S(this,qn).variables,p=S(this,qn).context;(n==null?void 0:n.type)==="success"?((i=(r=S(this,jn)).onSuccess)==null||i.call(r,n.data,f,p),(a=(s=S(this,jn)).onSettled)==null||a.call(s,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((u=(o=S(this,jn)).onError)==null||u.call(o,n.error,f,p),(d=(c=S(this,jn)).onSettled)==null||d.call(c,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(S(this,qn))})})},sh),Bp=m.createContext(void 0),Je=e=>{const t=m.useContext(Bp);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Gy=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Bp.Provider,{value:e,children:t})),Qp=m.createContext(!1),Ky=()=>m.useContext(Qp);Qp.Provider;function qy(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Jy=m.createContext(qy()),Yy=()=>m.useContext(Jy);function Wp(e,t){return typeof e=="function"?e(...t):!!e}function Xy(){}var ev=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},tv=e=>{m.useEffect(()=>{e.clearReset()},[e])},nv=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Wp(n,[e.error,r]),rv=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},iv=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,sv=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Zp(e,t,n){var c,d,f,p;const r=Je(n),i=Ky(),s=Yy(),a=r.defaultQueryOptions(e);(d=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||d.call(c,a),a._optimisticResults=i?"isRestoring":"optimistic",rv(a),ev(a,s),tv(s);const[o]=m.useState(()=>new t(r,a)),u=o.getOptimisticResult(a);if(m.useSyncExternalStore(m.useCallback(v=>{const y=i?()=>{}:o.subscribe(Qe.batchCalls(v));return o.updateResult(),y},[o,i]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),m.useEffect(()=>{o.setOptions(a,{listeners:!1})},[a,o]),iv(a,u))throw sv(a,o,s);if(nv({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw u.error;return(p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,a,u),a.notifyOnChangeProps?u:o.trackResult(u)}function Yi(e,t){return Zp(e,zp,t)}function pl(e,t){const n=Je(t),[r]=m.useState(()=>new Zy(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const i=m.useSyncExternalStore(m.useCallback(a=>r.subscribe(Qe.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=m.useCallback((a,o)=>{r.mutate(a,o).catch(Xy)},[r]);if(i.error&&Wp(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function lv(e,t){return Zp(e,Wy,t)}let L1=!1;async function ce(e,t={}){const n=localStorage.getItem("token"),r={...t.headers};n&&(r.Authorization=`Bearer ${n}`),t.body instanceof FormData||(r["Content-Type"]=r["Content-Type"]||"application/json");const i=await fetch(e,{...t,headers:r});if(i.status===401)throw L1||(L1=!0,localStorage.removeItem("token"),localStorage.removeItem("username"),window.location.href="/signin"),new Error(" ,  ");if(!i.ok){let a=` ${i.status}`;try{const o=await i.json();a=o.error||o.message||a}catch{}throw new Error(a)}const s=await i.text();if(!s)return null;try{return JSON.parse(s)}catch{return s}}async function av({password:e,fullname:t,username:n,bio:r,avatar:i,previousAvatar:s}){if(i){const o=new FormData;o.append("file",i);const u=await ce("/api/profile/avatar",{method:"POST",body:o});return u!=null&&u.avatarUrl&&localStorage.setItem("avatarUrl",u.avatarUrl),{user:{user_metadata:{avatar_url:(u==null?void 0:u.avatarUrl)||""}}}}const a={};if(t!==void 0&&(a.firstName=t),n!==void 0&&(a.username=n),r!==void 0&&(a.bio=r),Object.keys(a).length>0){const o=await ce("/api/profile",{method:"PUT",body:JSON.stringify(a)});return o!=null&&o.username&&localStorage.setItem("username",o.username),{user:{user_metadata:o}}}return e?(await ce("/api/auth/change-password",{method:"POST",body:JSON.stringify({newPassword:e})}),{user:{}}):null}let ov={data:""},uv=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ov,cv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,dv=/\/\*[^]*?\*\/|  +/g,_1=/\n+/g,$n=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?$n(a,s):s+"{"+$n(a,s[1]=="k"?"":t)+"}":typeof a=="object"?r+=$n(a,t?t.replace(/([^,])+/g,o=>s.replace(/(^:.*)|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,o):o?o+" "+u:u)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=$n.p?$n.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},vn={},Gp=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Gp(e[n]);return t}return e},fv=(e,t,n,r,i)=>{let s=Gp(e),a=vn[s]||(vn[s]=(u=>{let c=0,d=11;for(;c<u.length;)d=101*d+u.charCodeAt(c++)>>>0;return"go"+d})(s));if(!vn[a]){let u=s!==e?e:(c=>{let d,f,p=[{}];for(;d=cv.exec(c.replace(dv,""));)d[4]?p.shift():d[3]?(f=d[3].replace(_1," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][d[1]]=d[2].replace(_1," ").trim();return p[0]})(e);vn[a]=$n(i?{["@keyframes "+a]:u}:u,n?"":"."+a)}let o=n&&vn.g?vn.g:null;return n&&(vn.g=vn[a]),((u,c,d,f)=>{f?c.data=c.data.replace(f,u):c.data.indexOf(u)===-1&&(c.data=d?u+c.data:c.data+u)})(vn[a],t,r,o),a},hv=(e,t,n)=>e.reduce((r,i,s)=>{let a=t[s];if(a&&a.call){let o=a(n),u=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=u?"."+u:o&&typeof o=="object"?o.props?"":$n(o,""):o===!1?"":o}return r+i+(a??"")},"");function yo(e){let t=this||{},n=e.call?e(t.p):e;return fv(n.unshift?n.raw?hv(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,uv(t.target),t.g,t.o,t.k)}let Kp,vc,wc;yo.bind({g:1});let An=yo.bind({k:1});function pv(e,t,n,r){$n.p=t,Kp=e,vc=n,wc=r}function yr(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),u=o.className||i.className;n.p=Object.assign({theme:vc&&vc()},o),n.o=/ *go\d+/.test(u),o.className=yo.apply(n,r)+(u?" "+u:""),t&&(o.ref=a);let c=e;return e[0]&&(c=o.as||e,delete o.as),wc&&c[0]&&wc(o),Kp(c,o)}return t?t(i):i}}var mv=e=>typeof e=="function",$a=(e,t)=>mv(e)?e(t):e,gv=(()=>{let e=0;return()=>(++e).toString()})(),qp=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),xv=20,na=new Map,yv=1e3,P1=e=>{if(na.has(e))return;let t=setTimeout(()=>{na.delete(e),Gr({type:4,toastId:e})},yv);na.set(e,t)},vv=e=>{let t=na.get(e);t&&clearTimeout(t)},Cc=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,xv)};case 1:return t.toast.id&&vv(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return e.toasts.find(s=>s.id===n.id)?Cc(e,{type:1,toast:n}):Cc(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?P1(r):e.toasts.forEach(s=>{P1(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},ra=[],ia={toasts:[],pausedAt:void 0},Gr=e=>{ia=Cc(ia,e),ra.forEach(t=>{t(ia)})},wv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Cv=(e={})=>{let[t,n]=m.useState(ia);m.useEffect(()=>(ra.push(n),()=>{let i=ra.indexOf(n);i>-1&&ra.splice(i,1)}),[t]);let r=t.toasts.map(i=>{var s,a;return{...e,...e[i.type],...i,duration:i.duration||((s=e[i.type])==null?void 0:s.duration)||(e==null?void 0:e.duration)||wv[i.type],style:{...e.style,...(a=e[i.type])==null?void 0:a.style,...i.style}}});return{...t,toasts:r}},bv=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||gv()}),ml=e=>(t,n)=>{let r=bv(t,e,n);return Gr({type:2,toast:r}),r.id},Rt=(e,t)=>ml("blank")(e,t);Rt.error=ml("error");Rt.success=ml("success");Rt.loading=ml("loading");Rt.custom=ml("custom");Rt.dismiss=e=>{Gr({type:3,toastId:e})};Rt.remove=e=>Gr({type:4,toastId:e});Rt.promise=(e,t,n)=>{let r=Rt.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(i=>(Rt.success($a(t.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Rt.error($a(t.error,i),{id:r,...n,...n==null?void 0:n.error})}),e};var Sv=(e,t)=>{Gr({type:1,toast:{id:e,height:t}})},kv=()=>{Gr({type:5,time:Date.now()})},jv=e=>{let{toasts:t,pausedAt:n}=Cv(e);m.useEffect(()=>{if(n)return;let s=Date.now(),a=t.map(o=>{if(o.duration===1/0)return;let u=(o.duration||0)+o.pauseDuration-(s-o.createdAt);if(u<0){o.visible&&Rt.dismiss(o.id);return}return setTimeout(()=>Rt.dismiss(o.id),u)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[t,n]);let r=m.useCallback(()=>{n&&Gr({type:6,time:Date.now()})},[n]),i=m.useCallback((s,a)=>{let{reverseOrder:o=!1,gutter:u=8,defaultPosition:c}=a||{},d=t.filter(v=>(v.position||c)===(s.position||c)&&v.height),f=d.findIndex(v=>v.id===s.id),p=d.filter((v,y)=>y<f&&v.visible).length;return d.filter(v=>v.visible).slice(...o?[p+1]:[0,p]).reduce((v,y)=>v+(y.height||0)+u,0)},[t]);return{toasts:t,handlers:{updateHeight:Sv,startPause:kv,endPause:r,calculateOffset:i}}},Nv=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ev=An`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Lv=An`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_v=yr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ev} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Lv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Pv=An`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Iv=yr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Pv} 1s linear infinite;
`,Rv=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Av=An`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Tv=yr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Av} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ov=yr("div")`
  position: absolute;
`,Mv=yr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Fv=An`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vv=yr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Fv} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Dv=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?m.createElement(Vv,null,t):t:n==="blank"?null:m.createElement(Mv,null,m.createElement(Iv,{...r}),n!=="loading"&&m.createElement(Ov,null,n==="error"?m.createElement(_v,{...r}):m.createElement(Tv,{...r})))},Uv=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$v=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,zv="0%{opacity:0;} 100%{opacity:1;}",Hv="0%{opacity:1;} 100%{opacity:0;}",Bv=yr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Qv=yr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Wv=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=qp()?[zv,Hv]:[Uv(n),$v(n)];return{animation:t?`${An(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${An(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Zv=m.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?Wv(e.position||t||"top-center",e.visible):{opacity:0},s=m.createElement(Dv,{toast:e}),a=m.createElement(Qv,{...e.ariaProps},$a(e.message,e));return m.createElement(Bv,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:s,message:a}):m.createElement(m.Fragment,null,s,a))});pv(m.createElement);var Gv=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let s=m.useCallback(a=>{if(a){let o=()=>{let u=a.getBoundingClientRect().height;r(e,u)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return m.createElement("div",{ref:s,className:t,style:n},i)},Kv=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qp()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},qv=yo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Dl=16,Jv=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:o,handlers:u}=jv(n);return m.createElement("div",{style:{position:"fixed",zIndex:9999,top:Dl,left:Dl,right:Dl,bottom:Dl,pointerEvents:"none",...s},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},o.map(c=>{let d=c.position||t,f=u.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),p=Kv(d,f);return m.createElement(Gv,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?qv:"",style:p},c.type==="custom"?$a(c.message,c):i?i(c):m.createElement(Zv,{toast:c,position:d}))}))},Q=Rt;function Pd(){const e=Je(),{mutate:t,isPending:n}=pl({mutationFn:av,onMutate:()=>{Q.loading("...")},onSuccess:r=>{var i,s;(s=(i=r==null?void 0:r.user)==null?void 0:i.user_metadata)!=null&&s.avatar_url&&e.setQueryData(["user"],a=>{var o;return(o=a==null?void 0:a.session)!=null&&o.user?{...a,session:{...a.session,user:{...a.session.user,user_metadata:{...a.session.user.user_metadata,avatar_url:r.user.user_metadata.avatar_url}}}}:a}),e.invalidateQueries({queryKey:["user"]})},onError:r=>{Q.dismiss(),Q.error(r.message)}});return{updateUser:t,isUpdating:n}}function Id(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.9997 13.1714L16.9495 8.22168L18.3637 9.63589L11.9997 15.9999L5.63574 9.63589L7.04996 8.22168L11.9997 13.1714Z"}}]})(e)}function Yv(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"}}]})(e)}function Xv(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.9997 10.8284L7.04996 15.7782L5.63574 14.364L11.9997 8L18.3637 14.364L16.9495 15.7782L11.9997 10.8284Z"}}]})(e)}function e4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14 13.5V8C14 5.79086 12.2091 4 10 4C7.79086 4 6 5.79086 6 8V13.5C6 17.0899 8.91015 20 12.5 20C16.0899 20 19 17.0899 19 13.5V4H21V13.5C21 18.1944 17.1944 22 12.5 22C7.80558 22 4 18.1944 4 13.5V8C4 4.68629 6.68629 2 10 2C13.3137 2 16 4.68629 16 8V13.5C16 15.433 14.433 17 12.5 17C10.567 17 9 15.433 9 13.5V8H11V13.5C11 14.3284 11.6716 15 12.5 15C13.3284 15 14 14.3284 14 13.5Z"}}]})(e)}function t4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM4 5V19H20V5H4ZM7 13H9V17H7V13ZM11 7H13V17H11V7ZM15 10H17V17H15V10Z"}}]})(e)}function n4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 2H19C19.5523 2 20 2.44772 20 3V22.1433C20 22.4194 19.7761 22.6434 19.5 22.6434C19.4061 22.6434 19.314 22.6168 19.2344 22.5669L12 18.0313L4.76559 22.5669C4.53163 22.7136 4.22306 22.6429 4.07637 22.4089C4.02647 22.3293 4 22.2373 4 22.1433V3C4 2.44772 4.44772 2 5 2ZM18 4H6V19.4324L12 15.6707L18 19.4324V4Z"}}]})(e)}function Jp(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 20L1 12L11 4V9C16.5228 9 21 13.4772 21 19C21 19.2727 20.9891 19.5428 20.9677 19.81C19.5055 17.0364 16.6381 15.119 13.313 15.0053L13 15H10.9999L11 20ZM8.99986 13H10.9999L13.0341 13.0003L13.3814 13.0065C14.6657 13.0504 15.9053 13.3165 17.0568 13.7734C15.5898 12.0749 13.4204 11 11 11H9V8.16125L4.20156 12L8.99992 15.8387L8.99986 13Z"}}]})(e)}function r4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.94631 9.31555C1.42377 9.14137 1.41965 8.86034 1.95706 8.6812L21.0433 2.31913C21.5717 2.14297 21.8748 2.43878 21.7268 2.95706L16.2736 22.0433C16.1226 22.5718 15.8179 22.5901 15.5946 22.0877L12.0002 14.0002L18.0002 6.00017L10.0002 12.0002L1.94631 9.31555Z"}}]})(e)}function i4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455ZM14 10.25V8H7V14H14V11.75L17 14V8L14 10.25Z"}}]})(e)}function bc(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14 10.25L17 8V14L14 11.75V14H7V8H14V10.25ZM5.76282 17H20V5H4V18.3851L5.76282 17ZM6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455Z"}}]})(e)}function s4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 18.89H6.41421L15.7279 9.57629L14.3137 8.16207L5 17.4758V18.89ZM21 20.89H3V16.6474L16.435 3.21233C16.8256 2.8218 17.4587 2.8218 17.8492 3.21233L20.6777 6.04075C21.0682 6.43128 21.0682 7.06444 20.6777 7.45497L9.24264 18.89H21V20.89ZM15.7279 6.74786L17.1421 8.16207L18.5563 6.74786L17.1421 5.33365L15.7279 6.74786Z"}}]})(e)}function l4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 19.9C15.2822 19.4367 17 17.419 17 15V12C17 11.299 16.8564 10.6219 16.5846 10H7.41538C7.14358 10.6219 7 11.299 7 12V15C7 17.419 8.71776 19.4367 11 19.9V14H13V19.9ZM5.5358 17.6907C5.19061 16.8623 5 15.9534 5 15H2V13H5V12C5 11.3573 5.08661 10.7348 5.2488 10.1436L3.0359 8.86602L4.0359 7.13397L6.05636 8.30049C6.11995 8.19854 6.18609 8.09835 6.25469 8H17.7453C17.8139 8.09835 17.88 8.19854 17.9436 8.30049L19.9641 7.13397L20.9641 8.86602L18.7512 10.1436C18.9134 10.7348 19 11.3573 19 12V13H22V15H19C19 15.9534 18.8094 16.8623 18.4642 17.6907L20.9641 19.134L19.9641 20.866L17.4383 19.4077C16.1549 20.9893 14.1955 22 12 22C9.80453 22 7.84512 20.9893 6.56171 19.4077L4.0359 20.866L3.0359 19.134L5.5358 17.6907ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6H8Z"}}]})(e)}function I1(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 16.42V19.9561C21 20.4811 20.5941 20.9167 20.0705 20.9537C19.6331 20.9846 19.2763 21 19 21C10.1634 21 3 13.8366 3 5C3 4.72371 3.01545 4.36687 3.04635 3.9295C3.08337 3.40588 3.51894 3 4.04386 3H7.5801C7.83678 3 8.05176 3.19442 8.07753 3.4498C8.10067 3.67907 8.12218 3.86314 8.14207 4.00202C8.34435 5.41472 8.75753 6.75936 9.3487 8.00303C9.44359 8.20265 9.38171 8.44159 9.20185 8.57006L7.04355 10.1118C8.35752 13.1811 10.8189 15.6425 13.8882 16.9565L15.4271 14.8019C15.5572 14.6199 15.799 14.5573 16.001 14.6532C17.2446 15.2439 18.5891 15.6566 20.0016 15.8584C20.1396 15.8782 20.3225 15.8995 20.5502 15.9225C20.8056 15.9483 21 16.1633 21 16.42Z"}}]})(e)}function R1(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.36556 10.6821C10.302 12.3288 11.6712 13.698 13.3179 14.6344L14.2024 13.3961C14.4965 12.9845 15.0516 12.8573 15.4956 13.0998C16.9024 13.8683 18.4571 14.3353 20.0789 14.4637C20.599 14.5049 21 14.9389 21 15.4606V19.9234C21 20.4361 20.6122 20.8657 20.1022 20.9181C19.5723 20.9726 19.0377 21 18.5 21C9.93959 21 3 14.0604 3 5.5C3 4.96227 3.02742 4.42771 3.08189 3.89776C3.1343 3.38775 3.56394 3 4.07665 3H8.53942C9.0611 3 9.49513 3.40104 9.5363 3.92109C9.66467 5.54288 10.1317 7.09764 10.9002 8.50444C11.1427 8.9484 11.0155 9.50354 10.6039 9.79757L9.36556 10.6821ZM6.84425 10.0252L8.7442 8.66809C8.20547 7.50514 7.83628 6.27183 7.64727 5H5.00907C5.00303 5.16632 5 5.333 5 5.5C5 12.9558 11.0442 19 18.5 19C18.667 19 18.8337 18.997 19 18.9909V16.3527C17.7282 16.1637 16.4949 15.7945 15.3319 15.2558L13.9748 17.1558C13.4258 16.9425 12.8956 16.6915 12.3874 16.4061L12.3293 16.373C10.3697 15.2587 8.74134 13.6303 7.627 11.6707L7.59394 11.6126C7.30849 11.1044 7.05754 10.5742 6.84425 10.0252Z"}}]})(e)}function a4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 2H19.0049C20.1068 2 21 2.89821 21 3.9908V20.0092C21 21.1087 20.1074 22 19.0049 22H3V2ZM7 4H5V20H7V4ZM9 20H19V4H9V20ZM11 16C11 14.3431 12.3431 13 14 13C15.6569 13 17 14.3431 17 16H11ZM14 12C12.8954 12 12 11.1046 12 10C12 8.89543 12.8954 8 14 8C15.1046 8 16 8.89543 16 10C16 11.1046 15.1046 12 14 12ZM22 6H24V10H22V6ZM22 12H24V16H22V12Z"}}]})(e)}function Yp(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z"}}]})(e)}function A1(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.6572 14.8282L16.2429 13.414L17.6572 11.9998C19.2193 10.4377 19.2193 7.90506 17.6572 6.34296C16.0951 4.78086 13.5624 4.78086 12.0003 6.34296L10.5861 7.75717L9.17188 6.34296L10.5861 4.92875C12.9292 2.5856 16.7282 2.5856 19.0714 4.92875C21.4145 7.27189 21.4145 11.0709 19.0714 13.414L17.6572 14.8282ZM14.8287 17.6567L13.4145 19.0709C11.0714 21.414 7.27238 21.414 4.92923 19.0709C2.58609 16.7277 2.58609 12.9287 4.92923 10.5856L6.34345 9.17139L7.75766 10.5856L6.34345 11.9998C4.78135 13.5619 4.78135 16.0946 6.34345 17.6567C7.90555 19.2188 10.4382 19.2188 12.0003 17.6567L13.4145 16.2425L14.8287 17.6567ZM14.8287 7.75717L16.2429 9.17139L9.17188 16.2425L7.75766 14.8282L14.8287 7.75717Z"}}]})(e)}function Sc(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.3126 10.1752L20.8984 11.5894L20.1913 10.8823L15.9486 15.125L15.2415 18.6605L13.8273 20.0747L9.58466 15.8321L4.63492 20.7818L3.2207 19.3676L8.17045 14.4179L3.92781 10.1752L5.34202 8.76101L8.87756 8.0539L13.1202 3.81126L12.4131 3.10416L13.8273 1.68994L22.3126 10.1752Z"}}]})(e)}function Gs(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.8273 1.68994L22.3126 10.1752L20.8984 11.5894L20.1913 10.8823L15.9486 15.125L15.2415 18.6605L13.8273 20.0747L9.58466 15.8321L4.63492 20.7818L3.2207 19.3676L8.17045 14.4179L3.92781 10.1752L5.34202 8.76101L8.87756 8.0539L13.1202 3.81126L12.4131 3.10416L13.8273 1.68994ZM14.5344 5.22548L9.86358 9.89631L7.0417 10.4607L13.5418 16.9608L14.1062 14.1389L18.7771 9.46812L14.5344 5.22548Z"}}]})(e)}function Rd(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.9701 17.1715 19.5559 18.5858 16.0214 15.0513 15.9476 15.125 15.2405 18.6605 13.8263 20.0747 9.58369 15.8321 4.63394 20.7818 3.21973 19.3676 8.16947 14.4179 3.92683 10.1752 5.34105 8.76101 8.87658 8.0539 8.95029 7.98019 5.41373 4.44362 6.82794 3.02941 20.9701 17.1715ZM10.3645 9.3944 9.86261 9.89631 7.04072 10.4607 13.5409 16.9608 14.1052 14.1389 14.6071 13.637 10.3645 9.3944ZM18.7761 9.46812 17.4356 10.8086 18.8498 12.2228 20.1903 10.8823 20.8974 11.5894 22.3116 10.1752 13.8263 1.68994 12.4121 3.10416 13.1192 3.81126 11.7787 5.15176 13.1929 6.56597 14.5334 5.22548 18.7761 9.46812Z"}}]})(e)}function za(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.82843 5L7.82843 7H4V19H20V7H16.1716L14.1716 5H9.82843ZM9 3H15L17 5H21C21.5523 5 22 5.44772 22 6V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V6C2 5.44772 2.44772 5 3 5H7L9 3ZM12 18C8.96243 18 6.5 15.5376 6.5 12.5C6.5 9.46243 8.96243 7 12 7C15.0376 7 17.5 9.46243 17.5 12.5C17.5 15.5376 15.0376 18 12 18ZM12 16C13.933 16 15.5 14.433 15.5 12.5C15.5 10.567 13.933 9 12 9C10.067 9 8.5 10.567 8.5 12.5C8.5 14.433 10.067 16 12 16Z"}}]})(e)}function Ha(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.5869 21.0002H3.00113C2.44885 21.0002 2.00113 20.5524 2.00113 20.0002V6.00016C2.00113 5.44787 2.44885 5.00016 3.00113 5.00016H3.58692L1.39453 2.80777L2.80874 1.39355L22.6077 21.1925L21.1935 22.6068L19.5869 21.0002ZM5.58692 7.00016H4.00113V19.0002H17.5869L15.4063 16.8196C14.4698 17.5589 13.287 18.0002 12.0011 18.0002C8.96357 18.0002 6.50113 15.5377 6.50113 12.5002C6.50113 11.2143 6.94239 10.0315 7.68173 9.09497L5.58692 7.00016ZM9.11149 10.5247C8.72641 11.0869 8.50113 11.7672 8.50113 12.5002C8.50113 14.4332 10.0681 16.0002 12.0011 16.0002C12.734 16.0002 13.4143 15.7749 13.9766 15.3898L9.11149 10.5247ZM22.0011 17.786L20.0011 15.786V7.00016H16.1727L14.1727 5.00016H9.82956L9.52245 5.30727L8.10823 3.89306L9.00113 3.00016H15.0011L17.0011 5.00016H21.0011C21.5534 5.00016 22.0011 5.44787 22.0011 6.00016V17.786ZM11.2643 7.04909C11.5053 7.01682 11.7513 7.00016 12.0011 7.00016C15.0387 7.00016 17.5011 9.46259 17.5011 12.5002C17.5011 12.75 17.4845 12.996 17.4522 13.237L15.1143 10.8991C14.7804 10.2512 14.2501 9.72089 13.6022 9.38698L11.2643 7.04909Z"}}]})(e)}function Xp(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8 3V5H4V9H2V3H8ZM2 21V15H4V19H8V21H2ZM22 21H16V19H20V15H22V21ZM22 9H20V5H16V3H22V9Z"}}]})(e)}function Ks(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.9998 3C10.3429 3 8.99976 4.34315 8.99976 6V10C8.99976 11.6569 10.3429 13 11.9998 13C13.6566 13 14.9998 11.6569 14.9998 10V6C14.9998 4.34315 13.6566 3 11.9998 3ZM11.9998 1C14.7612 1 16.9998 3.23858 16.9998 6V10C16.9998 12.7614 14.7612 15 11.9998 15C9.23833 15 6.99976 12.7614 6.99976 10V6C6.99976 3.23858 9.23833 1 11.9998 1ZM3.05469 11H5.07065C5.55588 14.3923 8.47329 17 11.9998 17C15.5262 17 18.4436 14.3923 18.9289 11H20.9448C20.4837 15.1716 17.1714 18.4839 12.9998 18.9451V23H10.9998V18.9451C6.82814 18.4839 3.51584 15.1716 3.05469 11Z"}}]})(e)}function Ba(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.4259 17.839L21.1935 22.6066L22.6077 21.1924L2.80874 1.3934L1.39453 2.80761L7.00113 8.41421V10C7.00113 12.7614 9.23971 15 12.0011 15C12.4835 15 12.9499 14.9317 13.3912 14.8042L14.9413 16.3544C14.0474 16.7688 13.0513 17 12.0011 17C8.47466 17 5.55725 14.3923 5.07202 11H3.05606C3.51721 15.1716 6.82952 18.4839 11.0011 18.9451V23H13.0011V18.9451C14.2351 18.8087 15.3939 18.4228 16.4259 17.839ZM11.5538 12.9669C10.2551 12.7727 9.22843 11.7461 9.03426 10.4473L11.5538 12.9669ZM19.3757 15.1604L17.9333 13.7179C18.4417 12.9084 18.789 11.9874 18.9302 11H20.9462C20.7763 12.5366 20.2197 13.9565 19.3757 15.1604ZM16.4668 12.2514L14.9183 10.703C14.9725 10.4775 15.0011 10.2421 15.0011 10V6C15.0011 4.34315 13.658 3 12.0011 3C10.7069 3 9.60408 3.81956 9.18335 4.96802L7.68672 3.47139C8.55524 1.99268 10.1623 1 12.0011 1C14.7626 1 17.0011 3.23858 17.0011 6V10C17.0011 10.8099 16.8086 11.5748 16.4668 12.2514Z"}}]})(e)}function o4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 5H8V19H6V5ZM16 5H18V19H16V5Z"}}]})(e)}function em(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.376 12.4158L8.77735 19.4816C8.54759 19.6348 8.23715 19.5727 8.08397 19.3429C8.02922 19.2608 8 19.1643 8 19.0656V4.93408C8 4.65794 8.22386 4.43408 8.5 4.43408C8.59871 4.43408 8.69522 4.4633 8.77735 4.51806L19.376 11.5838C19.6057 11.737 19.6678 12.0474 19.5146 12.2772C19.478 12.3321 19.4309 12.3792 19.376 12.4158Z"}}]})(e)}function T1(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 5H18C18.5523 5 19 5.44772 19 6V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18V6C5 5.44772 5.44772 5 6 5Z"}}]})(e)}function tm(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 7.22056L6.60282 10.0001H3V14.0001H6.60282L10 16.7796V7.22056ZM5.88889 16.0001H2C1.44772 16.0001 1 15.5524 1 15.0001V9.00007C1 8.44778 1.44772 8.00007 2 8.00007H5.88889L11.1834 3.66821C11.3971 3.49335 11.7121 3.52485 11.887 3.73857C11.9601 3.8279 12 3.93977 12 4.05519V19.9449C12 20.2211 11.7761 20.4449 11.5 20.4449C11.3846 20.4449 11.2727 20.405 11.1834 20.3319L5.88889 16.0001ZM20.4142 12.0001L23.9497 15.5356L22.5355 16.9498L19 13.4143L15.4645 16.9498L14.0503 15.5356L17.5858 12.0001L14.0503 8.46454L15.4645 7.05032L19 10.5859L22.5355 7.05032L23.9497 8.46454L20.4142 12.0001Z"}}]})(e)}function u4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.60282 10.0001L10 7.22056V16.7796L6.60282 14.0001H3V10.0001H6.60282ZM2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"}}]})(e)}function Ad(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"}}]})(e)}function c4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z"}}]})(e)}function d4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z"}}]})(e)}function nm(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z"}}]})(e)}function rm(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"}}]})(e)}function f4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.99979 7V3C6.99979 2.44772 7.4475 2 7.99979 2H20.9998C21.5521 2 21.9998 2.44772 21.9998 3V16C21.9998 16.5523 21.5521 17 20.9998 17H17V20.9925C17 21.5489 16.551 22 15.9925 22H3.00728C2.45086 22 2 21.5511 2 20.9925L2.00276 8.00748C2.00288 7.45107 2.4518 7 3.01025 7H6.99979ZM8.99979 7H15.9927C16.549 7 17 7.44892 17 8.00748V15H19.9998V4H8.99979V7ZM15 9H4.00255L4.00021 20H15V9ZM8.50242 18L4.96689 14.4645L6.3811 13.0503L8.50242 15.1716L12.7451 10.9289L14.1593 12.3431L8.50242 18Z"}}]})(e)}function vo(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z"}}]})(e)}function Bi(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z"}}]})(e)}function h4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM13.4142 13.9997L15.182 15.7675L13.7678 17.1817L12 15.4139L10.2322 17.1817L8.81802 15.7675L10.5858 13.9997L8.81802 12.232L10.2322 10.8178L12 12.5855L13.7678 10.8178L15.182 12.232L13.4142 13.9997ZM9 4V6H15V4H9Z"}}]})(e)}function Td(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 11H11V17H9V11ZM13 11H15V17H13V11ZM9 4V6H15V4H9Z"}}]})(e)}function p4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 19H21V21H3V19ZM13 13.1716L19.0711 7.1005L20.4853 8.51472L12 17L3.51472 8.51472L4.92893 7.1005L11 13.1716V2H13V13.1716Z"}}]})(e)}function m4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"}}]})(e)}function g4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.364 5.63604L16.9497 7.05025C15.683 5.7835 13.933 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12H21C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C14.4853 3 16.7353 4.00736 18.364 5.63604Z"}}]})(e)}function im(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 11H13V13H5V16L0 12L5 8V11ZM3.99927 18H6.70835C8.11862 19.2447 9.97111 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C9.97111 4 8.11862 4.75527 6.70835 6H3.99927C5.82368 3.57111 8.72836 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C8.72836 22 5.82368 20.4289 3.99927 18Z"}}]})(e)}function x4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 11H21V13H3V11ZM3 18H21V20H3V18Z"}}]})(e)}function Qa(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"}}]})(e)}function y4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8.68735 4.00008L11.294 1.39348C11.6845 1.00295 12.3176 1.00295 12.7082 1.39348L15.3148 4.00008H19.0011C19.5533 4.00008 20.0011 4.4478 20.0011 5.00008V8.68637L22.6077 11.293C22.9982 11.6835 22.9982 12.3167 22.6077 12.7072L20.0011 15.3138V19.0001C20.0011 19.5524 19.5533 20.0001 19.0011 20.0001H15.3148L12.7082 22.6067C12.3176 22.9972 11.6845 22.9972 11.294 22.6067L8.68735 20.0001H5.00106C4.44877 20.0001 4.00106 19.5524 4.00106 19.0001V15.3138L1.39446 12.7072C1.00393 12.3167 1.00393 11.6835 1.39446 11.293L4.00106 8.68637V5.00008C4.00106 4.4478 4.44877 4.00008 5.00106 4.00008H8.68735ZM6.00106 6.00008V9.5148L3.51578 12.0001L6.00106 14.4854V18.0001H9.51578L12.0011 20.4854L14.4863 18.0001H18.0011V14.4854L20.4863 12.0001L18.0011 9.5148V6.00008H14.4863L12.0011 3.5148L9.51578 6.00008H6.00106ZM12.0011 16.0001C9.79192 16.0001 8.00106 14.2092 8.00106 12.0001C8.00106 9.79094 9.79192 8.00008 12.0011 8.00008C14.2102 8.00008 16.0011 9.79094 16.0011 12.0001C16.0011 14.2092 14.2102 16.0001 12.0011 16.0001ZM12.0011 14.0001C13.1056 14.0001 14.0011 13.1047 14.0011 12.0001C14.0011 10.8955 13.1056 10.0001 12.0011 10.0001C10.8965 10.0001 10.0011 10.8955 10.0011 12.0001C10.0011 13.1047 10.8965 14.0001 12.0011 14.0001Z"}}]})(e)}function Wa(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 14H11C7.54202 14 4.53953 15.9502 3.03239 18.8107C3.01093 18.5433 3 18.2729 3 18C3 12.4772 7.47715 8 13 8V2.5L23.5 11L13 19.5V14ZM11 12H15V15.3078L20.3214 11L15 6.69224V10H13C10.5795 10 8.41011 11.0749 6.94312 12.7735C8.20873 12.2714 9.58041 12 11 12Z"}}]})(e)}function sm(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.6177 5.9681L19.0711 4.51472L20.4853 5.92893L19.0319 7.38231C20.2635 8.92199 21 10.875 21 13C21 17.9706 16.9706 22 12 22C7.02944 22 3 17.9706 3 13C3 8.02944 7.02944 4 12 4C14.125 4 16.078 4.73647 17.6177 5.9681ZM12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20ZM11 8H13V14H11V8ZM8 1H16V3H8V1Z"}}]})(e)}function Za(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 22C2 17.5817 5.58172 14 10 14C14.4183 14 18 17.5817 18 22H16C16 18.6863 13.3137 16 10 16C6.68629 16 4 18.6863 4 22H2ZM10 13C6.685 13 4 10.315 4 7C4 3.685 6.685 1 10 1C13.315 1 16 3.685 16 7C16 10.315 13.315 13 10 13ZM10 11C12.21 11 14 9.21 14 7C14 4.79 12.21 3 10 3C7.79 3 6 4.79 6 7C6 9.21 7.79 11 10 11ZM18.2837 14.7028C21.0644 15.9561 23 18.752 23 22H21C21 19.564 19.5483 17.4671 17.4628 16.5271L18.2837 14.7028ZM17.5962 3.41321C19.5944 4.23703 21 6.20361 21 8.5C21 11.3702 18.8042 13.7252 16 13.9776V11.9646C17.6967 11.7222 19 10.264 19 8.5C19 7.11935 18.2016 5.92603 17.041 5.35635L17.5962 3.41321Z"}}]})(e)}function v4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 11C14.7614 11 17 13.2386 17 16V22H15V16C15 14.4023 13.7511 13.0963 12.1763 13.0051L12 13C10.4023 13 9.09634 14.2489 9.00509 15.8237L9 16V22H7V16C7 13.2386 9.23858 11 12 11ZM5.5 14C5.77885 14 6.05009 14.0326 6.3101 14.0942C6.14202 14.594 6.03873 15.122 6.00896 15.6693L6 16L6.0007 16.0856C5.88757 16.0456 5.76821 16.0187 5.64446 16.0069L5.5 16C4.7203 16 4.07955 16.5949 4.00687 17.3555L4 17.5V22H2V17.5C2 15.567 3.567 14 5.5 14ZM18.5 14C20.433 14 22 15.567 22 17.5V22H20V17.5C20 16.7203 19.4051 16.0796 18.6445 16.0069L18.5 16C18.3248 16 18.1566 16.03 18.0003 16.0852L18 16C18 15.3343 17.8916 14.694 17.6915 14.0956C17.9499 14.0326 18.2211 14 18.5 14ZM5.5 8C6.88071 8 8 9.11929 8 10.5C8 11.8807 6.88071 13 5.5 13C4.11929 13 3 11.8807 3 10.5C3 9.11929 4.11929 8 5.5 8ZM18.5 8C19.8807 8 21 9.11929 21 10.5C21 11.8807 19.8807 13 18.5 13C17.1193 13 16 11.8807 16 10.5C16 9.11929 17.1193 8 18.5 8ZM5.5 10C5.22386 10 5 10.2239 5 10.5C5 10.7761 5.22386 11 5.5 11C5.77614 11 6 10.7761 6 10.5C6 10.2239 5.77614 10 5.5 10ZM18.5 10C18.2239 10 18 10.2239 18 10.5C18 10.7761 18.2239 11 18.5 11C18.7761 11 19 10.7761 19 10.5C19 10.2239 18.7761 10 18.5 10ZM12 2C14.2091 2 16 3.79086 16 6C16 8.20914 14.2091 10 12 10C9.79086 10 8 8.20914 8 6C8 3.79086 9.79086 2 12 2ZM12 4C10.8954 4 10 4.89543 10 6C10 7.10457 10.8954 8 12 8C13.1046 8 14 7.10457 14 6C14 4.89543 13.1046 4 12 4Z"}}]})(e)}function kc(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14 14.252V16.3414C13.3744 16.1203 12.7013 16 12 16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14C12.6906 14 13.3608 14.0875 14 14.252ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM18 17V14H20V17H23V19H20V22H18V19H15V17H18Z"}}]})(e)}function w4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z"}}]})(e)}function C4(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 6C10 10.4183 13.5817 14 18 14C19.4386 14 20.7885 13.6203 21.9549 12.9556C21.4738 18.0302 17.2005 22 12 22C6.47715 22 2 17.5228 2 12C2 6.79948 5.9698 2.52616 11.0444 2.04507C10.3797 3.21152 10 4.56142 10 6ZM4 12C4 16.4183 7.58172 20 12 20C14.9654 20 17.5757 18.3788 18.9571 15.9546C18.6407 15.9848 18.3214 16 18 16C12.4772 16 8 11.5228 8 6C8 5.67863 8.01524 5.35933 8.04536 5.04293C5.62119 6.42426 4 9.03458 4 12ZM18.1642 2.29104L19 2.5V3.5L18.1642 3.70896C17.4476 3.8881 16.8881 4.4476 16.709 5.16417L16.5 6H15.5L15.291 5.16417C15.1119 4.4476 14.5524 3.8881 13.8358 3.70896L13 3.5V2.5L13.8358 2.29104C14.5524 2.1119 15.1119 1.5524 15.291 0.835829L15.5 0H16.5L16.709 0.835829C16.8881 1.5524 17.4476 2.1119 18.1642 2.29104ZM23.1642 7.29104L24 7.5V8.5L23.1642 8.70896C22.4476 8.8881 21.8881 9.4476 21.709 10.1642L21.5 11H20.5L20.291 10.1642C20.1119 9.4476 19.5524 8.8881 18.8358 8.70896L18 8.5V7.5L18.8358 7.29104C19.5524 7.1119 20.1119 6.5524 20.291 5.83583L20.5 5H21.5L21.709 5.83583C21.8881 6.5524 22.4476 7.1119 23.1642 7.29104Z"}}]})(e)}function ze({size:e="small",text:t="",customClasses:n=""}){const r={small:"text-[1rem]",medium:"text-[1.5rem]",large:"text-[2rem]"};return l.jsxs("span",{className:`flex items-center justify-center ${n}`,children:[l.jsx(g4,{className:`${r[e]} animate-spin`}),t&&l.jsxs("span",{className:"ml-2",children:[t,"..."]})]})}function hr(e){return`https://api.dicebear.com/7.x/thumbs/svg?seed=${encodeURIComponent((e||"user").trim())}&backgroundColor=b6e3f4,c0aede,d1d4f9,ffd5dc,ffdfbf`}function b4({avatar:e}){const t=e,{updateUser:n,isUpdating:r}=Pd();function i(s){n({avatar:s,previousAvatar:t},{onSuccess:()=>{Q.dismiss(),Q.success(" !")}})}return l.jsxs("div",{className:"relative mx-auto mt-4 h-52 w-52",children:[l.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full border-2 border-bgAccent dark:border-bgAccent-dark",children:l.jsx("img",{className:"h-full w-full object-cover object-center",src:t||hr(localStorage.getItem("username")),alt:"avatar"})}),l.jsx("label",{className:"absolute bottom-1 right-1 z-10 flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-bgAccent p-1 text-xl text-textPrimary-dark shadow-lg hover:bg-bgAccentDim dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",htmlFor:"uploadPhoto",role:"button",tabIndex:0,children:r?l.jsx(ze,{}):l.jsx(Ey,{"aria-label":"upload photo"})}),l.jsx("input",{onChange:s=>i(s.target.files[0]),disabled:r,className:"hidden",accept:by,type:"file",name:"Profile picture",id:"uploadPhoto"})]})}function S4(){const[e,t]=m.useState(!1),[n,r]=m.useState(""),[i,s]=m.useState(""),{updateUser:a,isUpdating:o}=Pd();function u(c){if(c.preventDefault(),!n||n.length<Va){Q.error(` ${Va} `);return}if(n!==i){Q.error("  ");return}a({password:n},{onSuccess:()=>{Q.dismiss(),Q.success(" !"),t(!1),r(""),s("")}})}return e?l.jsxs("form",{onSubmit:u,className:"mt-8 flex flex-col gap-3",children:[l.jsx("p",{className:"text-sm font-bold opacity-70",children:" "}),l.jsx("input",{type:"password",placeholder:" ",value:n,onChange:c=>r(c.target.value),className:"rounded-md border border-LightShade/30 bg-transparent px-3 py-2 text-sm outline-none focus:border-bgAccent dark:focus:border-bgAccent-dark",disabled:o}),l.jsx("input",{type:"password",placeholder:" ",value:i,onChange:c=>s(c.target.value),className:"rounded-md border border-LightShade/30 bg-transparent px-3 py-2 text-sm outline-none focus:border-bgAccent dark:focus:border-bgAccent-dark",disabled:o}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"submit",disabled:o,className:"flex h-10 items-center gap-2 rounded-md bg-bgAccent px-4 text-textPrimary-dark hover:bg-bgAccentDim disabled:opacity-50 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",children:o?l.jsx(ze,{}):""}),l.jsx("button",{type:"button",onClick:()=>{t(!1),r(""),s("")},className:"flex h-10 items-center rounded-md border border-LightShade/30 px-4 text-sm opacity-70 hover:opacity-100",children:""})]})]}):l.jsx("button",{onClick:()=>t(!0),className:"mt-8 flex h-10 items-center gap-2 rounded-md bg-bgAccent px-4 text-textPrimary-dark hover:bg-bgAccentDim dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",children:" "})}let tt=null,on=null,kn=null,sa=[],O1=[],Yr=!1,la=[],aa=[];const k4=new Set(["CALL_OFFER","CALL_ANSWER","CALL_REJECT","CALL_END","CALL_BUSY","ICE_CANDIDATE","CALL_LOG","CALL_REOFFER","CALL_REANSWER"]),j4=new Set(["CONF_JOIN","CONF_LEAVE","CONF_PEERS","CONF_OFFER","CONF_ANSWER","CONF_ICE","CONF_INVITE"]);function N4(){const e=localStorage.getItem("token");return e?`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/chat?token=${e}`:null}function gl(){if(tt&&(tt.readyState===WebSocket.OPEN||tt.readyState===WebSocket.CONNECTING)||Yr)return;const e=N4();if(!e)return;on&&(clearTimeout(on),on=null),Yr=!0;const t=new WebSocket(e);tt=t,t.onopen=()=>{tt===t&&(Yr=!1,console.log("[WS] Connected"),O1.forEach(n=>n(!0)),on&&(clearTimeout(on),on=null),kn&&clearInterval(kn),kn=setInterval(()=>{if(tt===t&&t.readyState===WebSocket.OPEN)try{t.send(JSON.stringify({type:"PING"}))}catch{}},3e4))},t.onmessage=n=>{try{const r=JSON.parse(n.data);k4.has(r.type)?la.forEach(i=>i(r)):j4.has(r.type)&&aa.forEach(i=>i(r)),sa.forEach(i=>i(r))}catch{console.warn("[WS] Failed to parse message:",n.data)}},t.onclose=n=>{if(tt!==t){console.debug("[WS] Stale connection closed (replaced), ignoring");return}if(Yr=!1,kn&&(clearInterval(kn),kn=null),console.log("[WS] Disconnected",n.code,n.reason),O1.forEach(r=>r(!1)),tt=null,n.code===4001){console.warn("[WS] Session replaced by another connection. Not reconnecting.");return}localStorage.getItem("token")&&(on=setTimeout(()=>{console.log("[WS] Reconnecting..."),gl()},3e3))},t.onerror=n=>{tt===t&&(Yr=!1,console.error("[WS] Error:",n))}}function E4(){if(Yr=!1,kn&&(clearInterval(kn),kn=null),on&&(clearTimeout(on),on=null),tt){const e=tt;tt=null,e.close()}}function we(e){return tt&&tt.readyState===WebSocket.OPEN?(tt.send(JSON.stringify(e)),!0):(console.warn("[WS] Cannot send  not connected"),!1)}function Od(e){return sa.push(e),()=>{sa=sa.filter(t=>t!==e)}}function ks(){return tt&&tt.readyState===WebSocket.OPEN}function L4(e){return la.push(e),()=>{la=la.filter(t=>t!==e)}}function _4(e){return aa.push(e),()=>{aa=aa.filter(t=>t!==e)}}function Md(e,t,n,r,i,s){return{session:{access_token:e,user:{id:t,email:s||"",role:"authenticated",user_metadata:{username:t,fullname:t,avatar_url:r||"",tag:i||"",bio:"!   BarsikChat!"}}}}}async function P4({username:e,password:t,rememberMe:n=!1}){const r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.trim(),password:t})});if(!r.ok){let s="    ";try{const a=await r.json();s=a.error||a.message||s}catch{}throw new Error(s)}const i=await r.json();return localStorage.setItem("token",i.token),localStorage.setItem("username",i.username),localStorage.setItem("role",i.role||"USER"),localStorage.setItem("avatarUrl",i.avatarUrl||""),localStorage.setItem("tag",i.tag||""),localStorage.setItem("email",i.email||""),n?(localStorage.setItem("rememberMe","true"),localStorage.setItem("savedUsername",e.trim()),localStorage.setItem("savedPassword",btoa(t))):(localStorage.removeItem("rememberMe"),localStorage.removeItem("savedUsername"),localStorage.removeItem("savedPassword")),gl(),Md(i.token,i.username,i.role,i.avatarUrl,i.tag,i.email)}async function I4({username:e,password:t,tag:n,fullname:r}){const i=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.trim(),password:t,tag:n==null?void 0:n.trim(),fullname:r==null?void 0:r.trim()})});if(!i.ok){let a=" ";try{const o=await i.json();a=o.error||o.message||a}catch{}throw new Error(a)}const s=await i.json();return localStorage.setItem("token",s.token),localStorage.setItem("username",s.username),localStorage.setItem("role",s.role||"USER"),localStorage.setItem("avatarUrl",s.avatarUrl||""),localStorage.setItem("tag",s.tag||""),localStorage.setItem("email",s.email||""),gl(),Md(s.token,s.username,s.role,s.avatarUrl,s.tag,s.email)}async function R4(){await unsubscribePush(),E4(),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("role"),localStorage.removeItem("avatarUrl"),localStorage.removeItem("tag"),localStorage.removeItem("email"),localStorage.removeItem("rememberMe"),localStorage.removeItem("savedUsername"),localStorage.removeItem("savedPassword")}async function A4(){const e=localStorage.getItem("token"),t=localStorage.getItem("username");if(!e||!t)return{session:null};gl(),initPushNotifications();try{const n=await ce("/api/profile"),r=n.avatarUrl||localStorage.getItem("avatarUrl")||"",i=n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`.trim():n.firstName||n.username||t;return n.avatarUrl&&localStorage.setItem("avatarUrl",n.avatarUrl),{session:{access_token:e,user:{id:t,email:n.email||localStorage.getItem("email")||"",role:"authenticated",user_metadata:{username:n.username||t,fullname:i,avatar_url:r,tag:n.tag||localStorage.getItem("tag")||"",bio:n.bio||""}}}}}catch{return Md(e,t,localStorage.getItem("role"),localStorage.getItem("avatarUrl"),localStorage.getItem("tag"),localStorage.getItem("email"))}}async function T4(e){if(!e||e==="undefined")return null;try{const t=await ce(`/api/profile/${e}`);return{id:t.username,fullname:t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`.trim():t.username,username:t.username,avatar_url:t.avatarUrl||"",bio:t.bio||"",tag:t.tag||"",online:!1,lastSeen:t.lastSeen||null}}catch{return{id:e,fullname:e,username:e,avatar_url:"",bio:"",tag:""}}}function sn(){var s;const e=Je(),{isLoading:t,data:n}=Yi({queryKey:["user"],queryFn:A4}),r=(s=n==null?void 0:n.session)==null?void 0:s.user,i=()=>{e.invalidateQueries({queryKey:["user"]})};return{isLoading:t,session:n==null?void 0:n.session,user:r,isAuthenticated:(r==null?void 0:r.role)==="authenticated",invalidateUser:i}}function At({children:e,onClick:t,addClass:n=""}){return l.jsx("button",{onClick:t,className:`${n} relative z-50 flex flex-shrink-0 items-center justify-center rounded-full text-lg hover:bg-LightShade/20`,children:e})}function O4(){return l.jsx(Yv,{className:"h-11 w-11 p-3","aria-label":"Back"})}function M4(){return l.jsx(x4,{className:"h-11 w-11 p-3","aria-label":"Menu"})}function F4(){return l.jsx(vo,{className:"h-11 w-11 p-3","aria-label":"Close"})}At.Back=O4;At.Menu=M4;At.Close=F4;var xl=e=>e.type==="checkbox",di=e=>e instanceof Date,pt=e=>e==null;const lm=e=>typeof e=="object";var Ze=e=>!pt(e)&&!Array.isArray(e)&&lm(e)&&!di(e),am=e=>Ze(e)&&e.target?xl(e.target)?e.target.checked:e.target.value:e,V4=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,om=(e,t)=>e.has(V4(t)),D4=e=>{const t=e.constructor&&e.constructor.prototype;return Ze(t)&&t.hasOwnProperty("isPrototypeOf")},Fd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yt(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Fd&&(e instanceof Blob||e instanceof FileList))&&(n||Ze(e)))if(t=n?[]:{},!n&&!D4(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=yt(e[r]));else return e;return t}var wo=e=>Array.isArray(e)?e.filter(Boolean):[],Me=e=>e===void 0,z=(e,t,n)=>{if(!t||!Ze(e))return n;const r=wo(t.split(/[,[\].]+?/)).reduce((i,s)=>pt(i)?i:i[s],e);return Me(r)||r===e?Me(e[t])?n:e[t]:r},pn=e=>typeof e=="boolean",Vd=e=>/^\w*$/.test(e),um=e=>wo(e.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(e,t,n)=>{let r=-1;const i=Vd(t)?[t]:um(t),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let u=n;if(r!==a){const c=e[o];u=Ze(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(o==="__proto__")return;e[o]=u,e=e[o]}return e};const Ga={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},en={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},U4=xe.createContext(null),Dd=()=>xe.useContext(U4);var cm=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const a=s;return t._proxyFormState[a]!==en.all&&(t._proxyFormState[a]=!r||en.all),n&&(n[a]=!0),e[a]}});return i},_t=e=>Ze(e)&&!Object.keys(e).length,dm=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return _t(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(a=>t[a]===(!r||en.all))},js=e=>Array.isArray(e)?e:[e],fm=(e,t,n)=>!e||!t||e===t||js(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function Ud(e){const t=xe.useRef(e);t.current=e,xe.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function $4(e){const t=Dd(),{control:n=t.control,disabled:r,name:i,exact:s}=e||{},[a,o]=xe.useState(n._formState),u=xe.useRef(!0),c=xe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=xe.useRef(i);return d.current=i,Ud({disabled:r,next:f=>u.current&&fm(d.current,f.name,s)&&dm(f,c.current,n._updateFormState)&&o({...n._formState,...f}),subject:n._subjects.state}),xe.useEffect(()=>(u.current=!0,c.current.isValid&&n._updateValid(!0),()=>{u.current=!1}),[n]),cm(a,n,c.current,!1)}var mn=e=>typeof e=="string",hm=(e,t,n,r,i)=>mn(e)?(r&&t.watch.add(e),z(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),z(n,s))):(r&&(t.watchAll=!0),n);function z4(e){const t=Dd(),{control:n=t.control,name:r,defaultValue:i,disabled:s,exact:a}=e||{},o=xe.useRef(r);o.current=r,Ud({disabled:s,subject:n._subjects.values,next:d=>{fm(o.current,d.name,a)&&c(yt(hm(o.current,n._names,d.values||n._formValues,!1,i)))}});const[u,c]=xe.useState(n._getWatch(r,i));return xe.useEffect(()=>n._removeUnmounted()),u}function H4(e){const t=Dd(),{name:n,disabled:r,control:i=t.control,shouldUnregister:s}=e,a=om(i._names.array,n),o=z4({control:i,name:n,defaultValue:z(i._formValues,n,z(i._defaultValues,n,e.defaultValue)),exact:!0}),u=$4({control:i,name:n}),c=xe.useRef(i.register(n,{...e.rules,value:o,...pn(e.disabled)?{disabled:e.disabled}:{}}));return xe.useEffect(()=>{const d=i._options.shouldUnregister||s,f=(p,v)=>{const y=z(i._fields,p);y&&y._f&&(y._f.mount=v)};if(f(n,!0),d){const p=yt(z(i._options.defaultValues,n));je(i._defaultValues,n,p),Me(z(i._formValues,n))&&je(i._formValues,n,p)}return()=>{(a?d&&!i._state.action:d)?i.unregister(n):f(n,!1)}},[n,i,a,s]),xe.useEffect(()=>{z(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:z(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:o,...pn(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:xe.useCallback(d=>c.current.onChange({target:{value:am(d),name:n},type:Ga.CHANGE}),[n]),onBlur:xe.useCallback(()=>c.current.onBlur({target:{value:z(i._formValues,n),name:n},type:Ga.BLUR}),[n,i]),ref:d=>{const f=z(i._fields,n);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:p=>d.setCustomValidity(p),reportValidity:()=>d.reportValidity()})}},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!z(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!z(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!z(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!z(u.validatingFields,n)},error:{enumerable:!0,get:()=>z(u.errors,n)}})}}const zn=e=>e.render(H4(e));var B4=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},M1=e=>({isOnSubmit:!e||e===en.onSubmit,isOnBlur:e===en.onBlur,isOnChange:e===en.onChange,isOnAll:e===en.all,isOnTouch:e===en.onTouched}),F1=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ns=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=z(e,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!r)break;if(a.ref&&t(a.ref,a.name)&&!r)break;Ns(o,t)}else Ze(o)&&Ns(o,t)}}};var Q4=(e,t,n)=>{const r=js(z(e,n));return je(r,"root",t[n]),je(e,n,r),e},$d=e=>e.type==="file",er=e=>typeof e=="function",Ka=e=>{if(!Fd)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},oa=e=>mn(e),zd=e=>e.type==="radio",qa=e=>e instanceof RegExp;const V1={value:!1,isValid:!1},D1={value:!0,isValid:!0};var pm=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Me(e[0].attributes.value)?Me(e[0].value)||e[0].value===""?D1:{value:e[0].value,isValid:!0}:D1:V1}return V1};const U1={isValid:!1,value:null};var mm=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,U1):U1;function $1(e,t,n="validate"){if(oa(e)||Array.isArray(e)&&e.every(oa)||pn(e)&&!e)return{type:n,message:oa(e)?e:"",ref:t}}var Jr=e=>Ze(e)&&!qa(e)?e:{value:e,message:""},z1=async(e,t,n,r,i)=>{const{ref:s,refs:a,required:o,maxLength:u,minLength:c,min:d,max:f,pattern:p,validate:v,name:y,valueAsNumber:w,mount:C,disabled:x}=e._f,h=z(t,y);if(!C||x)return{};const g=a?a[0]:s,b=V=>{r&&g.reportValidity&&(g.setCustomValidity(pn(V)?"":V||""),g.reportValidity())},j={},_=zd(s),E=xl(s),N=_||E,M=(w||$d(s))&&Me(s.value)&&Me(h)||Ka(s)&&s.value===""||h===""||Array.isArray(h)&&!h.length,I=B4.bind(null,y,n,j),Y=(V,X,ee,de=wn.maxLength,W=wn.minLength)=>{const T=V?X:ee;j[y]={type:V?de:W,message:T,ref:s,...I(V?de:W,T)}};if(i?!Array.isArray(h)||!h.length:o&&(!N&&(M||pt(h))||pn(h)&&!h||E&&!pm(a).isValid||_&&!mm(a).isValid)){const{value:V,message:X}=oa(o)?{value:!!o,message:o}:Jr(o);if(V&&(j[y]={type:wn.required,message:X,ref:g,...I(wn.required,X)},!n))return b(X),j}if(!M&&(!pt(d)||!pt(f))){let V,X;const ee=Jr(f),de=Jr(d);if(!pt(h)&&!isNaN(h)){const W=s.valueAsNumber||h&&+h;pt(ee.value)||(V=W>ee.value),pt(de.value)||(X=W<de.value)}else{const W=s.valueAsDate||new Date(h),T=F=>new Date(new Date().toDateString()+" "+F),P=s.type=="time",O=s.type=="week";mn(ee.value)&&h&&(V=P?T(h)>T(ee.value):O?h>ee.value:W>new Date(ee.value)),mn(de.value)&&h&&(X=P?T(h)<T(de.value):O?h<de.value:W<new Date(de.value))}if((V||X)&&(Y(!!V,ee.message,de.message,wn.max,wn.min),!n))return b(j[y].message),j}if((u||c)&&!M&&(mn(h)||i&&Array.isArray(h))){const V=Jr(u),X=Jr(c),ee=!pt(V.value)&&h.length>+V.value,de=!pt(X.value)&&h.length<+X.value;if((ee||de)&&(Y(ee,V.message,X.message),!n))return b(j[y].message),j}if(p&&!M&&mn(h)){const{value:V,message:X}=Jr(p);if(qa(V)&&!h.match(V)&&(j[y]={type:wn.pattern,message:X,ref:s,...I(wn.pattern,X)},!n))return b(X),j}if(v){if(er(v)){const V=await v(h,t),X=$1(V,g);if(X&&(j[y]={...X,...I(wn.validate,X.message)},!n))return b(X.message),j}else if(Ze(v)){let V={};for(const X in v){if(!_t(V)&&!n)break;const ee=$1(await v[X](h,t),g,X);ee&&(V={...ee,...I(X,ee.message)},b(ee.message),n&&(j[y]=V))}if(!_t(V)&&(j[y]={ref:g,...V},!n))return j}}return b(!0),j};function W4(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Me(e)?r++:e[t[r++]];return e}function Z4(e){for(const t in e)if(e.hasOwnProperty(t)&&!Me(e[t]))return!1;return!0}function He(e,t){const n=Array.isArray(t)?t:Vd(t)?[t]:um(t),r=n.length===1?e:W4(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ze(r)&&_t(r)||Array.isArray(r)&&Z4(r))&&He(e,n.slice(0,-1)),e}var ru=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},Ja=e=>pt(e)||!lm(e);function Lr(e,t){if(Ja(e)||Ja(t))return e===t;if(di(e)&&di(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=t[i];if(di(s)&&di(a)||Ze(s)&&Ze(a)||Array.isArray(s)&&Array.isArray(a)?!Lr(s,a):s!==a)return!1}}return!0}var gm=e=>e.type==="select-multiple",G4=e=>zd(e)||xl(e),iu=e=>Ka(e)&&e.isConnected,xm=e=>{for(const t in e)if(er(e[t]))return!0;return!1};function Ya(e,t={}){const n=Array.isArray(e);if(Ze(e)||n)for(const r in e)Array.isArray(e[r])||Ze(e[r])&&!xm(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Ya(e[r],t[r])):pt(e[r])||(t[r]=!0);return t}function ym(e,t,n){const r=Array.isArray(e);if(Ze(e)||r)for(const i in e)Array.isArray(e[i])||Ze(e[i])&&!xm(e[i])?Me(t)||Ja(n[i])?n[i]=Array.isArray(e[i])?Ya(e[i],[]):{...Ya(e[i])}:ym(e[i],pt(t)?{}:t[i],n[i]):n[i]=!Lr(e[i],t[i]);return n}var Ul=(e,t)=>ym(e,t,Ya(t)),vm=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Me(e)?e:t?e===""?NaN:e&&+e:n&&mn(e)?new Date(e):r?r(e):e;function su(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return $d(t)?t.files:zd(t)?mm(e.refs).value:gm(t)?[...t.selectedOptions].map(({value:n})=>n):xl(t)?pm(e.refs).value:vm(Me(t.value)?e.ref.value:t.value,e)}var K4=(e,t,n,r)=>{const i={};for(const s of e){const a=z(t,s);a&&je(i,s,a._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},as=e=>Me(e)?e:qa(e)?e.source:Ze(e)?qa(e.value)?e.value.source:e.value:e,q4=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function H1(e,t,n){const r=z(e,n);if(r||Vd(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=z(t,s),o=z(e,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:n}}var J4=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,Y4=(e,t)=>!wo(z(e,t)).length&&He(e,t);const X4={mode:en.onSubmit,reValidateMode:en.onChange,shouldFocusError:!0};function e5(e={}){let t={...X4,...e},n={submitCount:0,isDirty:!1,isLoading:er(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Ze(t.defaultValues)||Ze(t.values)?yt(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:yt(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:ru(),array:ru(),state:ru()},p=M1(t.mode),v=M1(t.reValidateMode),y=t.criteriaMode===en.all,w=k=>L=>{clearTimeout(c),c=setTimeout(k,L)},C=async k=>{if(d.isValid||k){const L=t.resolver?_t((await N()).errors):await I(r,!0);L!==n.isValid&&f.state.next({isValid:L})}},x=(k,L)=>{(d.isValidating||d.validatingFields)&&((k||Array.from(o.mount)).forEach(A=>{A&&(L?je(n.validatingFields,A,L):He(n.validatingFields,A))}),f.state.next({validatingFields:n.validatingFields,isValidating:!_t(n.validatingFields)}))},h=(k,L=[],A,Z,B=!0,U=!0)=>{if(Z&&A){if(a.action=!0,U&&Array.isArray(z(r,k))){const se=A(z(r,k),Z.argA,Z.argB);B&&je(r,k,se)}if(U&&Array.isArray(z(n.errors,k))){const se=A(z(n.errors,k),Z.argA,Z.argB);B&&je(n.errors,k,se),Y4(n.errors,k)}if(d.touchedFields&&U&&Array.isArray(z(n.touchedFields,k))){const se=A(z(n.touchedFields,k),Z.argA,Z.argB);B&&je(n.touchedFields,k,se)}d.dirtyFields&&(n.dirtyFields=Ul(i,s)),f.state.next({name:k,isDirty:V(k,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else je(s,k,L)},g=(k,L)=>{je(n.errors,k,L),f.state.next({errors:n.errors})},b=k=>{n.errors=k,f.state.next({errors:n.errors,isValid:!1})},j=(k,L,A,Z)=>{const B=z(r,k);if(B){const U=z(s,k,Me(A)?z(i,k):A);Me(U)||Z&&Z.defaultChecked||L?je(s,k,L?U:su(B._f)):de(k,U),a.mount&&C()}},_=(k,L,A,Z,B)=>{let U=!1,se=!1;const Ce={name:k},Ue=!!(z(r,k)&&z(r,k)._f&&z(r,k)._f.disabled);if(!A||Z){d.isDirty&&(se=n.isDirty,n.isDirty=Ce.isDirty=V(),U=se!==Ce.isDirty);const Et=Ue||Lr(z(i,k),L);se=!!(!Ue&&z(n.dirtyFields,k)),Et||Ue?He(n.dirtyFields,k):je(n.dirtyFields,k,!0),Ce.dirtyFields=n.dirtyFields,U=U||d.dirtyFields&&se!==!Et}if(A){const Et=z(n.touchedFields,k);Et||(je(n.touchedFields,k,A),Ce.touchedFields=n.touchedFields,U=U||d.touchedFields&&Et!==A)}return U&&B&&f.state.next(Ce),U?Ce:{}},E=(k,L,A,Z)=>{const B=z(n.errors,k),U=d.isValid&&pn(L)&&n.isValid!==L;if(e.delayError&&A?(u=w(()=>g(k,A)),u(e.delayError)):(clearTimeout(c),u=null,A?je(n.errors,k,A):He(n.errors,k)),(A?!Lr(B,A):B)||!_t(Z)||U){const se={...Z,...U&&pn(L)?{isValid:L}:{},errors:n.errors,name:k};n={...n,...se},f.state.next(se)}},N=async k=>{x(k,!0);const L=await t.resolver(s,t.context,K4(k||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return x(k),L},M=async k=>{const{errors:L}=await N(k);if(k)for(const A of k){const Z=z(L,A);Z?je(n.errors,A,Z):He(n.errors,A)}else n.errors=L;return L},I=async(k,L,A={valid:!0})=>{for(const Z in k){const B=k[Z];if(B){const{_f:U,...se}=B;if(U){const Ce=o.array.has(U.name);x([Z],!0);const Ue=await z1(B,s,y,t.shouldUseNativeValidation&&!L,Ce);if(x([Z]),Ue[U.name]&&(A.valid=!1,L))break;!L&&(z(Ue,U.name)?Ce?Q4(n.errors,Ue,U.name):je(n.errors,U.name,Ue[U.name]):He(n.errors,U.name))}se&&await I(se,L,A)}}return A.valid},Y=()=>{for(const k of o.unMount){const L=z(r,k);L&&(L._f.refs?L._f.refs.every(A=>!iu(A)):!iu(L._f.ref))&&te(k)}o.unMount=new Set},V=(k,L)=>(k&&L&&je(s,k,L),!Lr(R(),i)),X=(k,L,A)=>hm(k,o,{...a.mount?s:Me(L)?i:mn(k)?{[k]:L}:L},A,L),ee=k=>wo(z(a.mount?s:i,k,e.shouldUnregister?z(i,k,[]):[])),de=(k,L,A={})=>{const Z=z(r,k);let B=L;if(Z){const U=Z._f;U&&(!U.disabled&&je(s,k,vm(L,U)),B=Ka(U.ref)&&pt(L)?"":L,gm(U.ref)?[...U.ref.options].forEach(se=>se.selected=B.includes(se.value)):U.refs?xl(U.ref)?U.refs.length>1?U.refs.forEach(se=>(!se.defaultChecked||!se.disabled)&&(se.checked=Array.isArray(B)?!!B.find(Ce=>Ce===se.value):B===se.value)):U.refs[0]&&(U.refs[0].checked=!!B):U.refs.forEach(se=>se.checked=se.value===B):$d(U.ref)?U.ref.value="":(U.ref.value=B,U.ref.type||f.values.next({name:k,values:{...s}})))}(A.shouldDirty||A.shouldTouch)&&_(k,B,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&F(k)},W=(k,L,A)=>{for(const Z in L){const B=L[Z],U=`${k}.${Z}`,se=z(r,U);(o.array.has(k)||!Ja(B)||se&&!se._f)&&!di(B)?W(U,B,A):de(U,B,A)}},T=(k,L,A={})=>{const Z=z(r,k),B=o.array.has(k),U=yt(L);je(s,k,U),B?(f.array.next({name:k,values:{...s}}),(d.isDirty||d.dirtyFields)&&A.shouldDirty&&f.state.next({name:k,dirtyFields:Ul(i,s),isDirty:V(k,U)})):Z&&!Z._f&&!pt(U)?W(k,U,A):de(k,U,A),F1(k,o)&&f.state.next({...n}),f.values.next({name:a.mount?k:void 0,values:{...s}})},P=async k=>{a.mount=!0;const L=k.target;let A=L.name,Z=!0;const B=z(r,A),U=()=>L.type?su(B._f):am(k),se=Ce=>{Z=Number.isNaN(Ce)||Ce===z(s,A,Ce)};if(B){let Ce,Ue;const Et=U(),Kr=k.type===Ga.BLUR||k.type===Ga.FOCUS_OUT,Am=!q4(B._f)&&!t.resolver&&!z(n.errors,A)&&!B._f.deps||J4(Kr,z(n.touchedFields,A),n.isSubmitted,v,p),jo=F1(A,o,Kr);je(s,A,Et),Kr?(B._f.onBlur&&B._f.onBlur(k),u&&u(0)):B._f.onChange&&B._f.onChange(k);const No=_(A,Et,Kr,!1),Tm=!_t(No)||jo;if(!Kr&&f.values.next({name:A,type:k.type,values:{...s}}),Am)return d.isValid&&C(),Tm&&f.state.next({name:A,...jo?{}:No});if(!Kr&&jo&&f.state.next({...n}),t.resolver){const{errors:ef}=await N([A]);if(se(Et),Z){const Om=H1(n.errors,r,A),tf=H1(ef,r,Om.name||A);Ce=tf.error,A=tf.name,Ue=_t(ef)}}else x([A],!0),Ce=(await z1(B,s,y,t.shouldUseNativeValidation))[A],x([A]),se(Et),Z&&(Ce?Ue=!1:d.isValid&&(Ue=await I(r,!0)));Z&&(B._f.deps&&F(B._f.deps),E(A,Ue,Ce,No))}},O=(k,L)=>{if(z(n.errors,L)&&k.focus)return k.focus(),1},F=async(k,L={})=>{let A,Z;const B=js(k);if(t.resolver){const U=await M(Me(k)?k:B);A=_t(U),Z=k?!B.some(se=>z(U,se)):A}else k?(Z=(await Promise.all(B.map(async U=>{const se=z(r,U);return await I(se&&se._f?{[U]:se}:se)}))).every(Boolean),!(!Z&&!n.isValid)&&C()):Z=A=await I(r);return f.state.next({...!mn(k)||d.isValid&&A!==n.isValid?{}:{name:k},...t.resolver||!k?{isValid:A}:{},errors:n.errors}),L.shouldFocus&&!Z&&Ns(r,O,k?B:o.mount),Z},R=k=>{const L={...a.mount?s:i};return Me(k)?L:mn(k)?z(L,k):k.map(A=>z(L,A))},$=(k,L)=>({invalid:!!z((L||n).errors,k),isDirty:!!z((L||n).dirtyFields,k),error:z((L||n).errors,k),isValidating:!!z(n.validatingFields,k),isTouched:!!z((L||n).touchedFields,k)}),le=k=>{k&&js(k).forEach(L=>He(n.errors,L)),f.state.next({errors:k?n.errors:{}})},G=(k,L,A)=>{const Z=(z(r,k,{_f:{}})._f||{}).ref,B=z(n.errors,k)||{},{ref:U,message:se,type:Ce,...Ue}=B;je(n.errors,k,{...Ue,...L,ref:Z}),f.state.next({name:k,errors:n.errors,isValid:!1}),A&&A.shouldFocus&&Z&&Z.focus&&Z.focus()},K=(k,L)=>er(k)?f.values.subscribe({next:A=>k(X(void 0,L),A)}):X(k,L,!0),te=(k,L={})=>{for(const A of k?js(k):o.mount)o.mount.delete(A),o.array.delete(A),L.keepValue||(He(r,A),He(s,A)),!L.keepError&&He(n.errors,A),!L.keepDirty&&He(n.dirtyFields,A),!L.keepTouched&&He(n.touchedFields,A),!L.keepIsValidating&&He(n.validatingFields,A),!t.shouldUnregister&&!L.keepDefaultValue&&He(i,A);f.values.next({values:{...s}}),f.state.next({...n,...L.keepDirty?{isDirty:V()}:{}}),!L.keepIsValid&&C()},oe=({disabled:k,name:L,field:A,fields:Z,value:B})=>{if(pn(k)&&a.mount||k){const U=k?void 0:Me(B)?su(A?A._f:z(Z,L)._f):B;je(s,L,U),_(L,U,!1,!1,!0)}},H=(k,L={})=>{let A=z(r,k);const Z=pn(L.disabled);return je(r,k,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:k}},name:k,mount:!0,...L}}),o.mount.add(k),A?oe({field:A,disabled:L.disabled,name:k,value:L.value}):j(k,!0,L.value),{...Z?{disabled:L.disabled}:{},...t.progressive?{required:!!L.required,min:as(L.min),max:as(L.max),minLength:as(L.minLength),maxLength:as(L.maxLength),pattern:as(L.pattern)}:{},name:k,onChange:P,onBlur:P,ref:B=>{if(B){H(k,L),A=z(r,k);const U=Me(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,se=G4(U),Ce=A._f.refs||[];if(se?Ce.find(Ue=>Ue===U):U===A._f.ref)return;je(r,k,{_f:{...A._f,...se?{refs:[...Ce.filter(iu),U,...Array.isArray(z(i,k))?[{}]:[]],ref:{type:U.type,name:k}}:{ref:U}}}),j(k,!1,void 0,U)}else A=z(r,k,{}),A._f&&(A._f.mount=!1),(t.shouldUnregister||L.shouldUnregister)&&!(om(o.array,k)&&a.action)&&o.unMount.add(k)}}},ae=()=>t.shouldFocusError&&Ns(r,O,o.mount),he=k=>{pn(k)&&(f.state.next({disabled:k}),Ns(r,(L,A)=>{const Z=z(r,A);Z&&(L.disabled=Z._f.disabled||k,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(B=>{B.disabled=Z._f.disabled||k}))},0,!1))},ye=(k,L)=>async A=>{let Z;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let B=yt(s);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:U,values:se}=await N();n.errors=U,B=se}else await I(r);if(He(n.errors,"root"),_t(n.errors)){f.state.next({errors:{}});try{await k(B,A)}catch(U){Z=U}}else L&&await L({...n.errors},A),ae(),setTimeout(ae);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_t(n.errors)&&!Z,submitCount:n.submitCount+1,errors:n.errors}),Z)throw Z},ie=(k,L={})=>{z(r,k)&&(Me(L.defaultValue)?T(k,yt(z(i,k))):(T(k,L.defaultValue),je(i,k,yt(L.defaultValue))),L.keepTouched||He(n.touchedFields,k),L.keepDirty||(He(n.dirtyFields,k),n.isDirty=L.defaultValue?V(k,yt(z(i,k))):V()),L.keepError||(He(n.errors,k),d.isValid&&C()),f.state.next({...n}))},ue=(k,L={})=>{const A=k?yt(k):i,Z=yt(A),B=_t(k),U=B?i:Z;if(L.keepDefaultValues||(i=A),!L.keepValues){if(L.keepDirtyValues)for(const se of o.mount)z(n.dirtyFields,se)?je(U,se,z(s,se)):T(se,z(U,se));else{if(Fd&&Me(k))for(const se of o.mount){const Ce=z(r,se);if(Ce&&Ce._f){const Ue=Array.isArray(Ce._f.refs)?Ce._f.refs[0]:Ce._f.ref;if(Ka(Ue)){const Et=Ue.closest("form");if(Et){Et.reset();break}}}}r={}}s=e.shouldUnregister?L.keepDefaultValues?yt(i):{}:yt(U),f.array.next({values:{...U}}),f.values.next({values:{...U}})}o={mount:L.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,a.watch=!!e.shouldUnregister,f.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:B?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!Lr(k,i)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:B?{}:L.keepDirtyValues?L.keepDefaultValues&&s?Ul(i,s):n.dirtyFields:L.keepDefaultValues&&k?Ul(i,k):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},pe=(k,L)=>ue(er(k)?k(s):k,L);return{control:{register:H,unregister:te,getFieldState:$,handleSubmit:ye,setError:G,_executeSchema:N,_getWatch:X,_getDirty:V,_updateValid:C,_removeUnmounted:Y,_updateFieldArray:h,_updateDisabledField:oe,_getFieldArray:ee,_reset:ue,_resetDefaultValues:()=>er(t.defaultValues)&&t.defaultValues().then(k=>{pe(k,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:k=>{n={...n,...k}},_disableForm:he,_subjects:f,_proxyFormState:d,_setErrors:b,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(k){a=k},get _defaultValues(){return i},get _names(){return o},set _names(k){o=k},get _formState(){return n},set _formState(k){n=k},get _options(){return t},set _options(k){t={...t,...k}}},trigger:F,register:H,handleSubmit:ye,watch:K,setValue:T,getValues:R,reset:pe,resetField:ie,clearErrors:le,unregister:te,setError:G,setFocus:(k,L={})=>{const A=z(r,k),Z=A&&A._f;if(Z){const B=Z.refs?Z.refs[0]:Z.ref;B.focus&&(B.focus(),L.shouldSelect&&B.select())}},getFieldState:$}}function Hd(e={}){const t=xe.useRef(),n=xe.useRef(),[r,i]=xe.useState({isDirty:!1,isValidating:!1,isLoading:er(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:er(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e5(e),formState:r});const s=t.current.control;return s._options=e,Ud({subject:s._subjects.state,next:a=>{dm(a,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),xe.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),xe.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),xe.useEffect(()=>{e.values&&!Lr(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,i(a=>({...a}))):s._resetDefaultValues()},[e.values,s]),xe.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),xe.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),xe.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=cm(r,s),t.current}function lu({minLength:e=1,maxLength:t,label:n,oldValue:r="",updateKey:i="none",regex:s,patternMessage:a,checkUsername:o,isChecking:u,isTaken:c,isBusy:d,reset:f}){const{handleSubmit:p,watch:v,setError:y,clearErrors:w,control:C,formState:{errors:x}}=Hd({defaultValues:{[i]:r}}),h=v(i),g=t-h.length,{updateUser:b,isUpdating:j}=Pd(),[_,E]=m.useState(!1),N=m.useRef(null);m.useEffect(()=>{_&&N.current.focus()},[_]),m.useEffect(()=>{i==="username"&&(u?y(i,{type:"checking",message:"Checking..."}):c?y(i,{type:"server",message:"Username is already taken."}):w(i))},[u,c,y,w,i]);function M(I){if(!_){E(!0);return}const Y=I[i].trim();if(Y===r){E(!1),f&&f();return}!j&&!d&&!c&&b({[i]:Y},{onSuccess:()=>{Q.dismiss(),Q.success(`Updated ${n.toLowerCase()} successfully!`),E(!1),f&&f()},onError:V=>{y(i,{type:"server",message:V.message})}})}return l.jsxs("form",{onSubmit:p(M),className:"mt-5",children:[l.jsxs("div",{className:"flex h-11 items-center justify-between",children:[l.jsx("label",{htmlFor:i,className:"select-none text-sm font-bold tracking-wider text-textAccent opacity-80 dark:text-textAccent-dark",children:n}),i!=="none"&&l.jsx("button",{disabled:j||d||c,type:"submit",className:"flex h-11 w-11 items-center justify-center rounded-full text-xl text-textAccent hover:bg-LightShade/20 dark:text-textAccent-dark",children:j?l.jsx(ze,{}):_?l.jsx(c4,{"aria-label":"Update"}):l.jsx(s4,{"aria-label":"Edit"})})]}),_?l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx(zn,{name:i,control:C,rules:{required:`Enter your ${n}`,pattern:{value:s,message:a||"Invalid input."},maxLength:{value:t,message:`Maximum ${t} characters allowed.`},minLength:{value:e,message:`Minimum ${e} characters required.`},validate:I=>i==="username"?o(I,r):!0},render:({field:I})=>l.jsx("input",{...I,autoComplete:"off",autoCapitalize:"none",onBlur:()=>I.onBlur(),id:i,type:"text",ref:Y=>{I.ref(Y),N.current=Y},maxLength:t,className:`${x[i]&&x[i].type!=="checking"?"border-RedColor":"border-textAccent dark:border-textAccent-dark"} h-10 w-full rounded-md border-b-2 bg-bgSecondary px-2 text-base text-textPrimary outline-none dark:bg-LightShade/20 dark:text-textPrimary-dark`})}),l.jsx("span",{className:"mt-3 flex w-11 select-none items-start justify-center text-xs text-textAccent dark:text-textAccent-dark",children:g})]}),x[i]&&x[i].message&&l.jsx("p",{className:`mt-1 text-xs ${x[i].type==="checking"?"text-textAccent-dark":"text-RedColor"}`,children:x[i].message})]}):l.jsxs("p",{className:"self-center text-base",children:[n==="Username"?"@":"",h]})]})}async function t5(e){if(e)try{const t=await ce(`/api/profile/${e}`);return t!=null&&t.username?{username:t.username}:null}catch{return null}}function n5(){const[e,t]=m.useState(""),[n,r]=m.useState(""),[i,s]=m.useState(!1),[a,o]=m.useState(!1),[u,c]=m.useState(!1);m.useEffect(()=>{if(!n||n.length<Ma||n.length>Fa||!jd.test(n)){s(!1);return}const p=setTimeout(()=>{o(!0),t5(n).then(v=>{if((v==null?void 0:v.username)===n)if(e===n){c(!1);return}else c(!0);else{c(!1);return}}).catch(v=>{console.error(v)}).finally(()=>{o(!1),s(!1)})},500);return()=>clearTimeout(p)},[n,e]);const d=(p,v)=>{s(!0),r(p.trim()),v&&t(v.trim())};function f(){r(""),t(""),s(!1),o(!1),c(!1)}return{isBusy:i,isChecking:a,isTaken:u,checkUsername:d,reset:f}}function wm(){const{resetUi:e}=Nt(),t=Zt(),n=Je(),{mutate:r,isPending:i}=pl({mutationFn:R4,onSuccess:()=>{n.removeQueries(),e(),t("/signin")},onError:s=>{Q.error(s.message)}});return{signout:r,isPending:i}}function r5(){var v,y,w,C;const{isBusy:e,isChecking:t,isTaken:n,checkUsername:r,reset:i}=n5(),{signout:s,isPending:a}=wm(),{user:o}=sn(),u=((v=o==null?void 0:o.user_metadata)==null?void 0:v.fullname)||"",c=((y=o==null?void 0:o.user_metadata)==null?void 0:y.username)||"",d=((w=o==null?void 0:o.user_metadata)==null?void 0:w.bio)||"",f=((C=o==null?void 0:o.user_metadata)==null?void 0:C.avatar_url)||"",{closeAccountView:p}=Nt();return l.jsxs("div",{className:"fadeIn grid h-screen-safe grid-rows-[auto_1fr] bg-bgPrimary dark:bg-bgPrimary-dark",children:[l.jsxs("div",{className:"flex h-16 items-center justify-start gap-4 bg-LightShade/10 p-2",children:[l.jsx(At,{onClick:p,children:l.jsx(At.Back,{})}),l.jsx("p",{className:"select-none font-bold tracking-wider",children:""})]}),l.jsxs("div",{tabIndex:-1,className:"h-full overflow-scroll p-10",children:[l.jsx(b4,{avatar:f}),l.jsx(lu,{label:"",oldValue:u,updateKey:"fullname",maxLength:xy,regex:Cy,patternMessage:" ,    ."}),l.jsx(lu,{label:"",oldValue:c,updateKey:"username",minLength:Ma,maxLength:Fa,regex:jd,patternMessage:"    .",checkUsername:r,isChecking:t,isTaken:n,isBusy:e,reset:i}),l.jsx(lu,{label:" ",oldValue:d,updateKey:"bio",maxLength:gy}),l.jsx(S4,{}),l.jsxs("button",{onClick:s,disabled:a,className:"mt-6 flex w-full items-center justify-center gap-2 rounded-xl border border-red-300 bg-red-50 px-4 py-3 font-semibold text-red-600 transition hover:bg-red-100 active:scale-[0.98] dark:border-red-500/30 dark:bg-red-500/10 dark:text-red-400 dark:hover:bg-red-500/20",children:[a?l.jsx(ze,{}):l.jsx(im,{className:"text-xl"}),"  "]})]})]})}function i5(){return l.jsx("div",{className:"bg-LightShade/20 p-2 text-xs",children:l.jsxs("p",{className:"text-center opacity-80",children:[" ",new Date().getFullYear()," BarsikChat"]})})}async function s5(e){if(!e||e.length<2)return[];const t=await ce(`/api/chat/users?search=${encodeURIComponent(e)}`);if(!t||!Array.isArray(t))return[];const n=localStorage.getItem("username");return t.filter(r=>r.username!==n).map(r=>({id:r.username,fullname:r.username,username:r.username,avatar_url:r.avatarUrl||"",bio:"",tag:r.tag||"",online:r.online||!1}))}async function l5(e){if(!e||e.length<2)return[];const t=await ce("/api/rooms");if(!t||!Array.isArray(t))return[];const n=e.toLowerCase();return t.filter(r=>{var i,s;return r.type==="ROOM"&&(((i=r.name)==null?void 0:i.toLowerCase().includes(n))||((s=r.description)==null?void 0:s.toLowerCase().includes(n)))}).map(r=>({id:r.id,name:r.name||"",description:r.description||"",avatarUrl:r.avatarUrl||"",members:r.members||[],type:"group"}))}function a5(){const{searchQuery:e}=Nt(),t=e.trim(),{user:{id:n}}=sn(),[r,i]=m.useState([]),[s,a]=m.useState([]),[o,u]=m.useState(!0),[c,d]=m.useState(!1),[f,p]=m.useState("");return m.useEffect(function(){const y=new AbortController;let w;async function C(){try{d(!0),p("");const[x,h]=await Promise.all([s5(t),l5(t)]);i(x),a(h),p(""),u(!1)}catch(x){x.name!=="AbortError"&&(p(x.message),Q.error(x.message))}finally{d(!1)}}if(t.length<yy){u(!0),p(""),d(!1);return}else u(!1);return d(!0),clearTimeout(w),w=setTimeout(()=>{C()},1e3),function(){y.abort(),clearTimeout(w)}},[t]),{users:r==null?void 0:r.filter(y=>y.id!==n),groups:s,isShortQuery:o,isLoading:c,error:f}}function Bd(e){return m.useCallback(n=>{n.key==="Enter"&&e(n)},[e])}const Qd="barsik_pinned_chats";function Co(){try{const e=localStorage.getItem(Qd);return e?JSON.parse(e):[]}catch{return[]}}function Wd(e){return Co().includes(e)}function o5(e){const t=Co();t.includes(e)||(t.unshift(e),localStorage.setItem(Qd,JSON.stringify(t)))}function u5(e){const t=Co().filter(n=>n!==e);localStorage.setItem(Qd,JSON.stringify(t))}function Cm(e){return Wd(e)?(u5(e),!1):(o5(e),!0)}function Zd({id:e,name:t,avatar:n,subtext:r,handler:i,shouldReplace:s=!1,roomId:a,online:o,muted:u}){const{userId:c}=hl(),d=c===e,f=Je(),p=Zt(),[v,y]=m.useState(null),w=m.useRef(null),C=a||e,x=Wd(C);function h(){if(v){y(null);return}i(),p(`/chat/${e}`,{replace:s})}function g(N){N.preventDefault(),a&&y({x:N.clientX,y:N.clientY})}function b(N){a&&(w.current=setTimeout(()=>{const M=N.touches[0];y({x:M.clientX,y:M.clientY})},500))}function j(){w.current&&(clearTimeout(w.current),w.current=null)}function _(){Cm(C),y(null),f.invalidateQueries({queryKey:["conversations"]})}const E=Bd(h);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`${d?"pointer-events-none bg-gradient-to-r text-textPrimary-dark sm:from-bgAccentDim sm:to-bgAccent dark:sm:from-bgAccentDim-dark dark:sm:to-bgAccent-dark":"hover:bg-LightShade/20"} relative flex cursor-pointer select-none items-center gap-2 rounded-lg p-2`,onClick:h,onContextMenu:g,onTouchStart:b,onTouchEnd:j,onTouchCancel:j,onKeyDown:E,role:"button",tabIndex:0,children:[l.jsxs("span",{className:"relative flex h-12 w-12 flex-shrink-0 items-center justify-center",children:[l.jsx("img",{src:n||hr(t||e),alt:t,className:"pointer-events-none h-full w-full rounded-full object-cover"}),o&&l.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-3.5 w-3.5 rounded-full border-2 border-bgPrimary bg-green-500 dark:border-bgPrimary-dark"})]}),l.jsxs("span",{className:"flex flex-1 flex-col overflow-hidden",children:[l.jsxs("span",{className:"flex items-center gap-1 truncate font-bold",children:[x&&l.jsx(Gs,{className:"flex-shrink-0 text-xs text-bgAccent dark:text-bgAccent-dark"}),t,u&&l.jsx(tm,{className:"flex-shrink-0 text-xs opacity-40",title:""})]}),l.jsx("span",{className:"truncate text-sm opacity-70",children:r})]})]}),v&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-[8000]",onClick:()=>y(null)}),l.jsx("div",{className:"fixed z-[8001] min-w-[180px] rounded-xl border border-LightShade/20 bg-bgPrimary p-1 shadow-2xl dark:bg-bgPrimary-dark",style:{top:v.y,left:v.x},children:l.jsxs("button",{onClick:_,className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm hover:bg-LightShade/20",children:[x?l.jsx(Rd,{className:"text-base"}):l.jsx(Gs,{className:"text-base"}),x?" ":" "]})})]})]})}function Gd({group:e,handler:t}){var x,h,g;const{roomId:n}=hl(),r=n===e.id,i=Je(),s=Zt(),[a,o]=m.useState(null),u=m.useRef(null),c=Wd(e.id);function d(){if(a){o(null);return}t(),s(`/chat/room/${encodeURIComponent(e.id)}`)}function f(b){b.preventDefault(),o({x:b.clientX,y:b.clientY})}function p(b){u.current=setTimeout(()=>{const j=b.touches[0];o({x:j.clientX,y:j.clientY})},500)}function v(){u.current&&(clearTimeout(u.current),u.current=null)}function y(){Cm(e.id),o(null),i.invalidateQueries({queryKey:["conversations"]}),i.invalidateQueries({queryKey:["groups"]})}const w=Bd(d),C=`${((x=e.members)==null?void 0:x.length)||0} ${(((h=e.members)==null?void 0:h.length)||0)===1?"":(((g=e.members)==null?void 0:g.length)||0)<5?"":""}`;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`${r?"pointer-events-none bg-gradient-to-r text-textPrimary-dark sm:from-bgAccentDim sm:to-bgAccent dark:sm:from-bgAccentDim-dark dark:sm:to-bgAccent-dark":"hover:bg-LightShade/20"} flex cursor-pointer select-none items-center gap-2 rounded-lg p-2`,onClick:d,onContextMenu:f,onTouchStart:p,onTouchEnd:v,onTouchCancel:v,onKeyDown:w,role:"button",tabIndex:0,children:[l.jsx("span",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center overflow-hidden rounded-full",children:l.jsx("img",{src:e.avatarUrl||hr(e.name||e.id),alt:e.name,className:"pointer-events-none h-full w-full object-cover"})}),l.jsxs("span",{className:"flex flex-1 flex-col overflow-hidden",children:[l.jsxs("span",{className:"flex items-center gap-1 truncate font-bold",children:[c&&l.jsx(Gs,{className:"flex-shrink-0 text-xs text-bgAccent dark:text-bgAccent-dark"}),e.name]}),l.jsx("span",{className:"truncate text-sm opacity-70",children:e.description||C})]})]}),a&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-[8000]",onClick:()=>o(null)}),l.jsx("div",{className:"fixed z-[8001] min-w-[180px] rounded-xl border border-LightShade/20 bg-bgPrimary p-1 shadow-2xl dark:bg-bgPrimary-dark",style:{top:a.y,left:a.x},children:l.jsxs("button",{onClick:y,className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm hover:bg-LightShade/20",children:[c?l.jsx(Rd,{className:"text-base"}):l.jsx(Gs,{className:"text-base"}),c?" ":" "]})})]})]})}function ot({children:e,opacity:t=60}){return l.jsx("span",{className:`slideUpMessage my-4 flex select-none items-center justify-center opacity-${t}`,children:e})}function c5(){const{users:e,groups:t,isShortQuery:n,isLoading:r,error:i}=a5(),{closeSearchView:s,closeSidebar:a}=Nt();if(n)return l.jsx(ot,{children:"   "});if(r)return l.jsx(ot,{opacity:100,children:l.jsx(ze,{text:"...",size:"medium"})});if(i)return l.jsx(ot,{children:" -   !"});const o=(e==null?void 0:e.length)>0,u=(t==null?void 0:t.length)>0;return!o&&!u?l.jsx(ot,{children:"  "}):l.jsxs("div",{className:"fadeIn p-2",children:[o&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"mb-1 px-2 text-xs font-semibold uppercase tracking-wider text-textPrimary/40 dark:text-textPrimary-dark/40",children:""}),e.map(({id:c,avatar_url:d,fullname:f,username:p})=>l.jsx(Zd,{id:c,avatar:d,name:f,subtext:p,handler:()=>s({back:!1}),shouldReplace:!0},c))]}),u&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"mb-1 mt-3 px-2 text-xs font-semibold uppercase tracking-wider text-textPrimary/40 dark:text-textPrimary-dark/40",children:""}),t.map(c=>l.jsx(Gd,{group:c,handler:()=>{s({back:!1}),a()}},c.id))]})]})}function bm({onClick:e,userData:t,online:n}){const r=t==null?void 0:t.fullname,i=t==null?void 0:t.username,s=(t==null?void 0:t.avatar_url)||hr(i||r),a=Bd(e);return t?l.jsxs("div",{className:"mr-auto grid cursor-pointer grid-cols-[2.5rem_1fr] gap-4 truncate rounded-lg border border-LightShade/20 bg-LightShade/5 p-2 hover:bg-LightShade/20",onClick:e,onKeyDown:a,role:"button",tabIndex:0,children:[l.jsxs("div",{className:"relative flex h-10 w-10 flex-shrink-0 items-center justify-center",children:[l.jsx("img",{src:s,alt:r,className:"pointer-events-none h-full w-full rounded-full object-cover"}),n&&l.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-3.5 w-3.5 rounded-full border-2 border-bgPrimary bg-green-500 dark:border-bgPrimary-dark"})]}),l.jsxs("div",{className:"truncate text-left",children:[l.jsx("p",{className:"truncate",children:r}),l.jsx("p",{className:"truncate text-sm opacity-70",children:n?l.jsx("span",{className:"text-green-500",children:" "}):l.jsxs(l.Fragment,{children:["@",i]})})]})]}):l.jsx("span",{children:""})}function et({children:e}){return l.jsx("div",{className:"fadeIn absolute left-4 top-12 z-50 w-60 divide-y divide-LightShade/20 rounded-lg bg-bgPrimary p-2 shadow-[0_10px_60px_rgba(0,0,0,0.3)] dark:divide-LightShade/50  dark:bg-bgTertiary",children:e})}function Kd({children:e}){return l.jsx("div",{className:"px-4 py-3 text-lg",children:e})}function d5({children:e}){return l.jsx("div",{className:"truncate",children:e})}function f5({children:e}){return l.jsx("div",{className:"truncate text-sm opacity-70",children:e})}function h5({children:e}){return l.jsx("ul",{className:"py-2","aria-labelledby":"dropdownInformationButton",children:e})}const bo="focus:outline-none cursor-pointer flex w-full items-center gap-2 rounded-md px-4 py-2 text-base hover:bg-LightShade/10 dark:hover:text-textPrimary-dark focus:ring-2 focus:ring-bgAccent";function p5({children:e,href:t}){return l.jsx("li",{children:l.jsx("a",{className:bo,href:t,target:"_blank",rel:"noopener noreferrer",children:e})})}function m5({children:e,to:t}){return l.jsx("li",{children:l.jsx(Ws,{to:t,className:bo,children:e})})}function g5({children:e,onClick:t}){return l.jsx("li",{children:l.jsx("button",{className:bo,onClick:()=>t(),children:e})})}function x5({children:e,toggler:t,isChecked:n}){return l.jsx("li",{children:l.jsxs("label",{onChange:()=>t(),onKeyDown:r=>{r.key==="Enter"&&t()},className:bo+" justify-between",tabIndex:0,children:[l.jsx("span",{className:"flex items-center gap-2",children:e}),l.jsxs("div",{className:"relative flex",children:[l.jsx("input",{checked:n,type:"checkbox",onChange:()=>t(),tabIndex:-1,className:"peer sr-only"}),l.jsx("div",{className:"peer h-5 w-9 rounded-full bg-LightShade/20 shadow-sm after:absolute after:start-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:bg-bgPrimary after:shadow-md after:transition-all after:content-[''] peer-checked:bg-bgAccent peer-checked:after:translate-x-full rtl:peer-checked:after:translate-x-[-100%]"})]})]})})}function y5(){return l.jsx("div",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center justify-center gap-2 truncate text-center text-xs",children:[l.jsx("img",{className:"h-6 rounded-full border-2 border-LightShade/20",src:"/images/barsik-logo.svg",alt:"BarsikChat"}),l.jsxs("span",{className:" opacity-60",children:[zi," ",py]})]})})}et.Header=Kd;Kd.Name=d5;Kd.Email=f5;et.List=h5;et.LinkItem=p5;et.RouteItem=m5;et.ButtonItem=g5;et.TogglerItem=x5;et.Footer=y5;function v5(){var d;const{user:e}=sn(),t=((d=e==null?void 0:e.user_metadata)==null?void 0:d.fullname)||(e==null?void 0:e.id)||"",n=(e==null?void 0:e.email)||"",{openAccountView:r,isDarkMode:i,toggleDarkMode:s,isMenuOpen:a,toggleMenu:o}=Nt(),{signout:u,isPending:c}=wm();return l.jsx(Nd,{isOpen:a,toggle:o,withOverlay:!1,children:l.jsxs(et,{children:[l.jsxs(et.Header,{children:[l.jsx(et.Header.Name,{children:t}),n&&l.jsx(et.Header.Email,{children:n})]}),l.jsxs(et.List,{children:[l.jsxs(et.ButtonItem,{onClick:r,children:[l.jsx(y4,{}),l.jsx("div",{children:" "})]}),l.jsxs(et.TogglerItem,{isChecked:i,toggler:s,children:[l.jsx(C4,{}),l.jsx("div",{children:" "})]}),l.jsxs(et.LinkItem,{href:"#",children:[l.jsx(l4,{}),l.jsx("div",{children:"  "})]}),l.jsxs(et.ButtonItem,{onClick:u,children:[c?l.jsx(ze,{}):l.jsx(im,{}),l.jsx("div",{children:""})]})]}),l.jsx(et.Footer,{})]})})}function w5(){const{user:e}=sn(),t=e==null?void 0:e.user_metadata,{openAccountView:n,isSearchViewOpen:r,closeSearchView:i,isMenuOpen:s,toggleMenu:a}=Nt();function o(){r?i():a()}return l.jsxs("div",{className:"mb-4 flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsxs(At,{onClick:o,children:[r&&l.jsx(At.Back,{}),s&&l.jsx(At.Close,{}),!r&&!s&&l.jsx(At.Menu,{})]}),s&&l.jsx(v5,{})]}),l.jsx(bm,{userData:t,onClick:n})]})}function C5(){const{isSearchViewOpen:e,openSearchView:t,searchQuery:n,updateSearchQuery:r}=Nt(),i=m.useRef(null);return m.useEffect(()=>{!e&&i.current&&i.current.blur()},[e]),l.jsxs("div",{className:"relative",children:[l.jsx("label",{htmlFor:"searchPeople",className:"sr-only",children:"   "}),l.jsx("input",{id:"searchPeople",className:"flex w-full grow items-center justify-between self-stretch overflow-hidden rounded-full border border-LightShade/20 bg-LightShade/10 p-2 pl-9 outline-none transition-all duration-200 ease-in-out focus:ring-2 focus:ring-bgAccent",value:n,onChange:s=>r(s.target.value),type:"text",onClick:()=>t(),placeholder:"   ","aria-label":"   ",ref:i}),l.jsx("span",{className:"pointer-events-none absolute left-3 top-3 text-xl opacity-30",children:l.jsx(Qa,{"aria-label":"search icon"})})]})}async function b5(){return await ce("/api/rooms")||[]}async function S5({myUserId:e}){const n=(await b5()).filter(s=>s.type==="PRIVATE"||s.type==="ROOM"),r=await Promise.all(n.map(async s=>{var c;const a=s.type==="ROOM",o=a?null:((c=s.members)==null?void 0:c.find(d=>d!==e))||"";let u=null;try{const d=await ce(`/api/rooms/${encodeURIComponent(s.id)}/history?page=0&size=1`);d&&d.length>0&&(u={content:d[0].content||"",created_at:d[0].timestamp||s.createdAt,sender_id:d[0].sender||""})}catch{}return a?{id:s.id,isGroup:!0,last_message:u,created_at:s.createdAt,muted:!!s.muted,friendInfo:{id:s.id,fullname:s.name||"",username:s.name||s.id,avatar_url:s.avatarUrl||"",bio:s.description||""},members:s.members}:{id:s.id,user1_id:e,user2_id:o,last_message:u,created_at:s.createdAt,muted:!!s.muted,friendInfo:{id:o,fullname:o,username:o,avatar_url:s.avatarUrl||"",bio:""}}})),i=Co();return r.sort((s,a)=>{var f,p;const o=i.includes(s.id),u=i.includes(a.id);if(o&&!u)return-1;if(!o&&u)return 1;const c=((f=s.last_message)==null?void 0:f.created_at)||s.created_at||"";return(((p=a.last_message)==null?void 0:p.created_at)||a.created_at||"").localeCompare(c)}),r}async function So(e){return we(e)||await ce(`/api/rooms/${encodeURIComponent(e.roomId)}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),!0}async function Sm({conversation_id:e,pageParam:t=0}){if(!e)return[];const n=wy,r=t,i=await ce(`/api/rooms/${encodeURIComponent(e)}/history?page=${r}&size=${n}`);if(!i||!Array.isArray(i))return[];const s=i.map(a=>({id:a.id,conversation_id:e,content:a.content||"",sender_id:a.sender,created_at:a.timestamp,type:a.type||"CHAT",fileUrl:a.fileUrl||null,fileName:a.fileName||null,fileSize:a.fileSize||0,fileType:a.fileType||null,duration:a.duration||null,waveform:a.waveform||null,thumbnailUrl:a.thumbnailUrl||null,edited:a.edited||!1,pinned:a.pinned||!1,pinnedBy:a.pinnedBy||null,replyToId:a.replyToId||null,replyToSender:a.replyToSender||null,replyToContent:a.replyToContent||null,pollData:a.pollData||null}));try{const a=s.map(o=>o.id).filter(Boolean);if(a.length>0){const o=await ce("/api/reactions/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageIds:a})});o&&typeof o=="object"&&s.forEach(u=>{o[u.id]&&(u.reactions=o[u.id])})}}catch{}return s.reverse()}async function k5(e){if(!e)return[];const t=await ce(`/api/rooms/${encodeURIComponent(e)}/pinned`);return Array.isArray(t)?t.map(n=>({id:n.id,conversation_id:e,content:n.content||"",sender_id:n.sender,created_at:n.timestamp,type:n.type||"CHAT",pinned:!0,pinnedBy:n.pinnedBy})):[]}async function ko(e){const t=await ce(`/api/rooms/private/${encodeURIComponent(e)}`,{method:"POST"});return t==null?void 0:t.id}async function j5({id:e,conversation_id:t,content:n,friendUserId:r}){let i=t;return i||(i=await ko(r)),await So({type:"CHAT",roomId:i,content:n,id:e}),{id:e,conversation_id:i,content:n,sender_id:localStorage.getItem("username"),created_at:new Date().toISOString(),type:"CHAT"}}async function qd(e){const t=new FormData;return t.append("file",e),await ce("/api/upload/file",{method:"POST",body:t})}async function N5({id:e,conversation_id:t,friendUserId:n,file:r}){let i=t;i||(i=await ko(n));const s=await qd(r),a={type:"CHAT",roomId:i,content:` ${s.originalName||r.name}`,id:e,fileUrl:s.url,fileName:s.originalName||r.name,fileSize:s.size||r.size,fileType:s.contentType||r.type};return await So(a),{id:e,conversation_id:i,content:a.content,sender_id:localStorage.getItem("username"),created_at:new Date().toISOString(),type:"CHAT",fileUrl:s.url,fileName:a.fileName,fileSize:a.fileSize,fileType:a.fileType}}async function E5({id:e,conversation_id:t,friendUserId:n,blob:r,duration:i}){let s=t;s||(s=await ko(n));const a=new File([r],`voice_${Date.now()}.webm`,{type:r.type||"audio/webm"}),o=await qd(a),u={type:"VOICE",roomId:s,content:"  ",id:e,fileUrl:o.url,fileName:o.originalName||a.name,fileSize:o.size||r.size,fileType:o.contentType||"audio/webm",duration:Math.round(i)};return await So(u),{id:e,conversation_id:s,content:u.content,sender_id:localStorage.getItem("username"),created_at:new Date().toISOString(),type:"VOICE",fileUrl:o.url,fileName:u.fileName,duration:u.duration}}async function L5({id:e,conversation_id:t,friendUserId:n,blob:r,duration:i}){let s=t;s||(s=await ko(n));const a=new File([r],`video_circle_${Date.now()}.webm`,{type:r.type||"video/webm"}),o=await qd(a),u={type:"VIDEO_CIRCLE",roomId:s,content:" ",id:e,fileUrl:o.url,fileName:o.originalName||a.name,fileSize:o.size||r.size,fileType:o.contentType||"video/webm",duration:Math.round(i)};return await So(u),{id:e,conversation_id:s,content:u.content,sender_id:localStorage.getItem("username"),created_at:new Date().toISOString(),type:"VIDEO_CIRCLE",fileUrl:o.url,fileName:u.fileName,duration:u.duration}}async function _5(e,{question:t,options:n,multiChoice:r=!1,anonymous:i=!1}){return ce("/api/polls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomId:e,question:t,options:n,multiChoice:r,anonymous:i})})}async function km({myUserId:e,friendUserId:t}){if(!t)return null;const n=await T4(t);let r=null;try{r=await ce(`/api/rooms/private/${encodeURIComponent(t)}`,{method:"POST"})}catch{}return{id:(r==null?void 0:r.id)||null,user1_id:e,user2_id:t,friendInfo:n,created_at:(r==null?void 0:r.createdAt)||null}}async function jm({roomId:e}){if(!e)return null;const t=await ce(`/api/rooms/${encodeURIComponent(e)}`);return t?{id:t.id,isGroup:!0,friendInfo:{id:t.id,fullname:t.name||"",username:t.name||t.id,avatar_url:t.avatarUrl||"",bio:t.description||""},members:t.members||[],createdBy:t.createdBy,created_at:t.createdAt,description:t.description}:null}function P5({myUserId:e,callback:t}){return{unsubscribe:Od(r=>{if(!r.roomId)return;const i=localStorage.getItem("username");if(r.sender!==i){if(r.type==="CHAT"||r.type==="VOICE"||r.type==="VIDEO_CIRCLE"){t({eventType:"UPDATE",new:{id:r.roomId,last_message:{content:r.content||"",created_at:r.timestamp,sender_id:r.sender}}});return}if(r.type==="EDIT"){t({eventType:"UPDATE",new:{id:r.roomId,last_message:{content:r.content||"",created_at:r.timestamp,sender_id:r.sender}}});return}if(r.type==="DELETE"){t({eventType:"UPDATE",new:{id:r.roomId,last_message:{content:" ",created_at:r.timestamp||new Date().toISOString(),sender_id:r.sender}}});return}}})}}const I5=e=>{const t=Je(),n=m.useRef(null);m.useEffect(function(){if(!e||n.current)return;const r=i=>{t.setQueryData(["conversations",e],s=>{if(!s)return s;if((i==null?void 0:i.eventType)==="INSERT")return[i.new,...s];if((i==null?void 0:i.eventType)==="UPDATE"){const a=s.find(u=>u.id===i.new.id),o=s.filter(u=>u.id!==i.new.id);return[{...a,...i.new},...o]}})};return n.current=P5({myUserId:e,callback:r}),()=>{n.current&&(n.current.unsubscribe(),n.current=null)}},[e,t])};function R5(){const e=Je(),{user:t}=sn(),n=t==null?void 0:t.id,{data:r,isPending:i,error:s}=Yi({queryKey:["conversations",n],queryFn:()=>S5({myUserId:n}),enabled:!!n});I5(n);const a=m.useRef(!1);return m.useEffect(()=>{a.current=!1},[n]),m.useEffect(()=>{!r||a.current||(r==null||r.slice(0,vy).forEach(o=>{var f;const u=o==null?void 0:o.id,c=(f=o==null?void 0:o.friendInfo)==null?void 0:f.id,d=o==null?void 0:o.isGroup;!u||!c||(e.prefetchInfiniteQuery({queryKey:["friend",c],queryFn:({pageParam:p})=>Sm({conversation_id:u,pageParam:p}),initialPageParam:0,pages:1}),d?e.prefetchQuery({queryKey:["convInfo","room",u],queryFn:()=>jm({roomId:u})}):e.prefetchQuery({queryKey:["convInfo",c],queryFn:()=>km({myUserId:n,friendUserId:c})}))}),a.current=!0)},[r,e,n]),{conversations:r,isPending:i,error:s}}async function A5(){const e=await ce("/api/chat/online");return new Set(e||[])}function Jd(){const e=Je(),{data:t}=Yi({queryKey:["onlineUsers"],queryFn:A5,staleTime:3e4,refetchInterval:6e4}),[n,r]=m.useState(new Set),i=m.useRef(n);return m.useEffect(()=>{t&&(r(t),i.current=t)},[t]),m.useEffect(()=>Od(a=>{if(a.type!=="PRESENCE")return;const o=a.sender,u=a.content==="online";r(c=>{const d=new Set(c);return u?d.add(o):d.delete(o),i.current=d,d}),u||e.invalidateQueries({queryKey:["contacts"]})}),[e]),n}function T5({filter:e="all",folderId:t=null}){const{conversations:n,isPending:r,error:i}=R5(),{closeSidebar:s}=Nt(),a=Jd(),[o,u]=m.useState(null);if(m.useEffect(()=>{if(!t){u(null);return}ce("/api/folders").then(d=>{if(Array.isArray(d)){const f=d.find(p=>p.id===t);u((f==null?void 0:f.roomIds)||[])}}).catch(()=>u([]))},[t]),r)return l.jsx(ot,{opacity:100,children:l.jsx(ze,{size:"medium",text:" "})});if(i)return l.jsxs(ot,{children:[" ",i.message]});let c=n==null?void 0:n.filter(d=>e==="private"?!d.isGroup:!0);return t&&o&&(c=c==null?void 0:c.filter(d=>o.includes(d.id))),c!=null&&c.length?c.map(d=>{var w,C,x,h,g,b,j,_;if(d!=null&&d.isGroup)return l.jsx(Gd,{group:{id:d.id,name:((w=d.friendInfo)==null?void 0:w.fullname)||"",description:((C=d.friendInfo)==null?void 0:C.bio)||"",avatarUrl:((x=d.friendInfo)==null?void 0:x.avatar_url)||"",members:d.members||[]},handler:s},d.id);const f=(h=d==null?void 0:d.friendInfo)==null?void 0:h.id;if(!f)return null;const p=(g=d==null?void 0:d.friendInfo)==null?void 0:g.avatar_url,v=(b=d==null?void 0:d.friendInfo)==null?void 0:b.fullname,y=(j=d==null?void 0:d.last_message)==null?void 0:j.content;return l.jsx(Zd,{id:f,avatar:p,name:v,subtext:y,handler:s,roomId:d==null?void 0:d.id,online:a.has(((_=d==null?void 0:d.friendInfo)==null?void 0:_.username)||f),muted:!!(d!=null&&d.muted)},f)}):l.jsx(ot,{children:e==="private"?"  .    !":" .    !"})}async function O5(){const e=await ce("/api/rooms");return!e||!Array.isArray(e)?[]:e.filter(t=>t.type==="ROOM").map(t=>({id:t.id,name:t.name||"",description:t.description||"",avatarUrl:t.avatarUrl||"",members:t.members||[],createdBy:t.createdBy,createdAt:t.createdAt}))}function M5(){const{data:e,isPending:t,error:n}=Yi({queryKey:["groups"],queryFn:O5,staleTime:6e4});return{groups:e,isPending:t,error:n}}async function F5(){const e=await ce("/api/chat/contacts");return!e||!Array.isArray(e)?[]:e.map(t=>({id:t.contact,fullname:t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`:t.firstName||t.contact,username:t.contact,avatar_url:t.avatarUrl||"",tag:t.tag||"",online:!!t.online,lastSeen:t.lastSeen||null}))}function Yd(){const{data:e,isPending:t,error:n}=Yi({queryKey:["contacts"],queryFn:F5,staleTime:6e4});return{contacts:e,isPending:t,error:n}}function V5({isOpen:e,onClose:t}){const[n,r]=m.useState(""),[i,s]=m.useState(""),[a,o]=m.useState([]),[u,c]=m.useState(!1),{contacts:d}=Yd(),f=Je(),p=Zt();function v(w){o(C=>C.includes(w)?C.filter(x=>x!==w):[...C,w])}async function y(w){if(w.preventDefault(),!n.trim()){Q.error("  ");return}c(!0);try{const C=await ce("/api/rooms/create",{method:"POST",body:JSON.stringify({name:n.trim(),description:i.trim(),type:"ROOM",memberUsernames:a})});f.invalidateQueries({queryKey:["groups"]}),f.invalidateQueries({queryKey:["conversations"]}),Q.success(" !"),t(),C!=null&&C.id&&p(`/chat/room/${encodeURIComponent(C.id)}`),r(""),s(""),o([])}catch(C){Q.error(C.message||"   ")}finally{c(!1)}}return e?l.jsx("div",{className:"fixed inset-0 z-[9000] flex items-center justify-center bg-black/50 p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-bgPrimary shadow-2xl dark:bg-bgPrimary-dark",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-LightShade/20 px-4 py-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Za,{className:"text-xl text-bgAccent dark:text-bgAccent-dark"}),l.jsx("h2",{className:"text-lg font-semibold",children:" "})]}),l.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-LightShade/20",children:l.jsx(vo,{className:"text-2xl"})})]}),l.jsxs("form",{onSubmit:y,className:"p-4",children:[l.jsx("label",{className:"mb-1 block text-sm font-medium text-textPrimary/70 dark:text-textPrimary-dark/70",children:"  *"}),l.jsx("input",{type:"text",value:n,onChange:w=>r(w.target.value),placeholder:":  ",maxLength:50,className:"mb-3 w-full rounded-lg border border-LightShade/30 bg-transparent px-3 py-2 outline-none focus:border-bgAccent dark:border-LightShade/20 dark:focus:border-bgAccent-dark"}),l.jsx("label",{className:"mb-1 block text-sm font-medium text-textPrimary/70 dark:text-textPrimary-dark/70",children:""}),l.jsx("input",{type:"text",value:i,onChange:w=>s(w.target.value),placeholder:"  ?",maxLength:200,className:"mb-4 w-full rounded-lg border border-LightShade/30 bg-transparent px-3 py-2 outline-none focus:border-bgAccent dark:border-LightShade/20 dark:focus:border-bgAccent-dark"}),l.jsxs("label",{className:"mb-2 block text-sm font-medium text-textPrimary/70 dark:text-textPrimary-dark/70",children:[" (",a.length,")"]}),l.jsx("div",{className:"mb-4 max-h-48 overflow-y-auto rounded-lg border border-LightShade/20 p-1",children:(d==null?void 0:d.length)>0?d.map(w=>l.jsxs("label",{className:"flex cursor-pointer items-center gap-3 rounded-lg px-3 py-2 hover:bg-LightShade/10",children:[l.jsx("input",{type:"checkbox",checked:a.includes(w.username),onChange:()=>v(w.username),className:"h-4 w-4 rounded accent-bgAccent"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center overflow-hidden rounded-full",children:l.jsx("img",{src:w.avatar_url||hr(w.username||w.fullname),alt:w.fullname,className:"h-full w-full object-cover"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:w.fullname}),l.jsxs("p",{className:"text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:["@",w.username]})]})]})]},w.id)):l.jsx("p",{className:"py-4 text-center text-sm text-textPrimary/50 dark:text-textPrimary-dark/50",children:" .    ."})}),l.jsx("button",{type:"submit",disabled:u||!n.trim(),className:"w-full rounded-xl bg-bgAccent py-2.5 font-semibold text-textPrimary-dark transition hover:bg-bgAccentDim active:scale-[0.98] disabled:opacity-60 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",children:u?"...":" "})]})]})}):null}function D5(){const{groups:e,isPending:t,error:n}=M5(),{closeSidebar:r}=Nt(),[i,s]=m.useState(!1);return t?l.jsx(ot,{opacity:100,children:l.jsx(ze,{size:"medium",text:" "})}):n?l.jsxs(ot,{children:[" ",n.message]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>s(!0),className:"mb-2 flex w-full items-center gap-2 rounded-xl px-3 py-2.5 text-sm font-medium text-bgAccent transition hover:bg-LightShade/10 dark:text-bgAccent-dark",children:[l.jsx(Ad,{className:"text-lg"})," "]}),e!=null&&e.length?e.map(a=>l.jsx(Gd,{group:a,handler:r},a.id)):l.jsx(ot,{children:" .     !"}),l.jsx(V5,{isOpen:i,onClose:()=>s(!1)})]})}function U5(){const{contacts:e,isPending:t,error:n}=Yd(),{closeSidebar:r}=Nt(),i=Jd();return t?l.jsx(ot,{opacity:100,children:l.jsx(ze,{size:"medium",text:" "})}):n?l.jsxs(ot,{children:[" ",n.message]}):e!=null&&e.length?e.map(s=>l.jsx(Zd,{id:s.id,avatar:s.avatar_url,name:s.fullname,subtext:i.has(s.username||s.id)?" ":s.tag||`@${s.username}`,handler:r,online:i.has(s.username||s.id)},s.id)):l.jsx(ot,{children:" .    !"})}const $5=[{key:"private",label:"",icon:w4},{key:"groups",label:"",icon:Za},{key:"contacts",label:"",icon:a4}];function z5(){const[e,t]=m.useState("private"),[n,r]=m.useState([]),[i,s]=m.useState(null),[a,o]=m.useState(!1),[u,c]=m.useState(""),d=Zt();m.useEffect(()=>{ce("/api/folders").then(y=>{Array.isArray(y)&&r(y)}).catch(()=>{})},[]);async function f(){try{const y=await ce("/api/rooms/saved",{method:"POST"});y!=null&&y.id&&d(`/chat/${y.id}`)}catch{Q.error("")}}async function p(){const y=u.trim();if(y)try{const w=await ce("/api/folders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:y,emoji:""})});r(C=>[...C,w]),c(""),o(!1)}catch{Q.error("  ")}}async function v(y){try{await ce(`/api/folders/${y}`,{method:"DELETE"}),r(w=>w.filter(C=>C.id!==y)),i===y&&s(null)}catch{Q.error(" ")}}return l.jsxs("div",{className:"grid h-full grid-rows-[auto_auto_1fr]",children:[l.jsx("div",{className:"flex border-b border-t border-LightShade/20",children:$5.map(y=>{const w=y.icon;return l.jsxs("button",{onClick:()=>{t(y.key),s(null)},className:`flex flex-1 items-center justify-center gap-1 px-1.5 py-2.5 text-xs font-medium transition-colors ${e===y.key&&!i?"border-b-2 border-bgAccent text-bgAccent dark:border-bgAccent-dark dark:text-bgAccent-dark":"text-textPrimary/60 hover:text-textPrimary dark:text-textPrimary-dark/60 dark:hover:text-textPrimary-dark"}`,children:[l.jsx(w,{className:"text-base"}),y.label]},y.key)})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-1 border-b border-LightShade/10 px-2 py-1.5",children:[l.jsxs("button",{onClick:f,className:"flex items-center gap-1 rounded-full bg-bgAccent/10 px-2.5 py-1 text-xs font-medium text-bgAccent transition hover:bg-bgAccent/20 dark:text-bgAccent-dark",children:[l.jsx(n4,{className:"text-sm"})," "]}),n.map(y=>l.jsxs("button",{onClick:()=>{s(y.id===i?null:y.id),t("private")},className:`group flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-medium transition ${i===y.id?"bg-bgAccent text-textPrimary-dark dark:bg-bgAccent-dark":"bg-LightShade/10 hover:bg-LightShade/20"}`,children:[l.jsx("span",{children:y.emoji||""})," ",y.name,l.jsx("span",{onClick:w=>{w.stopPropagation(),v(y.id)},className:"ml-0.5 hidden cursor-pointer text-xs opacity-60 hover:opacity-100 group-hover:inline",children:""})]},y.id)),a?l.jsxs("form",{onSubmit:y=>{y.preventDefault(),p()},className:"flex items-center gap-1",children:[l.jsx("input",{value:u,onChange:y=>c(y.target.value),placeholder:" ",autoFocus:!0,className:"w-20 rounded bg-transparent px-1 text-xs outline-none ring-1 ring-LightShade/30"}),l.jsx("button",{type:"submit",className:"text-xs text-bgAccent dark:text-bgAccent-dark",children:""}),l.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-xs opacity-50",children:""})]}):l.jsx("button",{onClick:()=>o(!0),className:"flex items-center gap-0.5 rounded-full bg-LightShade/10 px-2 py-1 text-xs opacity-60 transition hover:opacity-100",children:l.jsx(Ad,{className:"text-sm"})})]}),l.jsxs("div",{tabIndex:-1,className:"h-full overflow-auto p-2",children:[e==="private"&&l.jsx(T5,{filter:"private",folderId:i}),e==="groups"&&l.jsx(D5,{}),e==="contacts"&&l.jsx(U5,{})]})]})}function H5(){const{isSearchViewOpen:e}=Nt();return l.jsxs("div",{className:"relative z-30 grid h-screen-safe select-none grid-cols-1 grid-rows-[auto_1fr] overflow-hidden",children:[l.jsxs("div",{className:"px-2 py-4",children:[l.jsx(w5,{}),l.jsx(C5,{})]}),l.jsx("div",{className:"h-full overflow-auto",children:e?l.jsx(c5,{}):l.jsx(z5,{})}),l.jsx(i5,{})]})}function B5(){const{isSidebarOpen:e,isAccountViewOpen:t,closeSidebar:n,openSidebar:r}=Nt(),{userId:i,roomId:s}=hl(),a=!!(i||s);m.useEffect(()=>{a?n():r()},[a]);function o(){a&&n()}return l.jsx(Nd,{isOpen:e,toggle:o,children:l.jsx("aside",{className:`${e?"visible left-0 opacity-100":"invisible -left-full opacity-0"} absolute top-0 z-30 h-screen-safe w-full overflow-hidden bg-bgPrimary shadow-lg transition-all duration-500 ease-[cubic-bezier(.15,.72,.08,.99)] dark:bg-bgPrimary-dark sm:w-[23rem] md:visible md:relative md:left-0 md:opacity-100`,children:t?l.jsx(r5,{}):l.jsx(H5,{})})})}function vr({children:e}){return l.jsx("main",{className:"flex min-h-screen-safe flex-col items-center justify-center overflow-hidden bg-gradient-to-br from-bgSecondary to-bgSecondaryDim text-textPrimary dark:from-bgSecondary-dark dark:to-bgSecondaryDim-dark dark:text-textPrimary-dark",children:e})}function Q5(){return l.jsx(vr,{children:l.jsxs("div",{className:"grid w-full grid-cols-[auto_1fr]",children:[l.jsx(B5,{}),l.jsx(ty,{})]})})}function W5({children:e}){const t=Zt(),{isLoading:n,isAuthenticated:r}=sn();return m.useEffect(function(){!r&&!n&&t("/signin",{replace:!0})},[r,n,t]),n?l.jsx(vr,{children:l.jsx(ze,{size:"large",text:"Loading"})}):r?e:null}function Z5(){const e=Je(),{mutate:t,isPending:n,error:r,isSuccess:i}=pl({mutationFn:({username:s,password:a,tag:o,fullname:u})=>I4({username:s,password:a,tag:o,fullname:u}),onMutate:()=>{Q.loading("...")},onSuccess:s=>{e.setQueryData(["user"],s),Q.dismiss(),Q.success(" !")},onError:s=>{Q.dismiss(),Q.error(s.message)}});return{signup:t,isPending:n,error:r,isSuccess:i}}function Xd({children:e,addClass:t}){return l.jsx("h1",{className:`mx-auto mb-5 text-center text-2xl ${t}`,children:e})}function Nm({children:e,onSubmit:t}){return l.jsx("div",{className:" flex w-full items-center justify-center p-4",children:l.jsx("form",{onSubmit:t,className:"flex w-full max-w-sm flex-col items-start rounded-xl bg-bgPrimary p-6 shadow-2xl dark:bg-bgTertiary",children:e})})}function kr({value:e,onChange:t,onBlur:n,placeholder:r,type:i,error:s,htmlFor:a,disabled:o}){return l.jsxs("div",{className:"input-container mb-6 w-full",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{value:e,onChange:u=>t(u.target.value),onBlur:n,autoComplete:"off",type:i,id:a,disabled:o,className:`${s?"border-RedColor":""} peer block w-full appearance-none rounded-lg border-2 border-LightShade/50 bg-transparent px-4 pb-2.5 pt-4 focus:border-textAccentDim focus:outline-none focus:ring-0 dark:border-LightShade dark:focus:border-textAccentDim-dark`,placeholder:" "}),l.jsx("label",{htmlFor:a,className:`${s?"text-RedColor":""} pointer-events-none absolute start-1 top-2 z-10 mx-2 origin-[0] -translate-y-5 scale-75 transform bg-bgPrimary px-2 text-LightGray transition-all duration-100 ease-out peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:mx-2 peer-focus:-translate-y-5 peer-focus:scale-75 peer-focus:text-textAccentDim dark:bg-bgTertiary  dark:text-LightGray-dark peer-focus:dark:text-textAccentDim-dark rtl:peer-focus:left-auto rtl:peer-focus:translate-x-1/4`,children:r})]}),s&&l.jsx("p",{className:"ml-2 mt-1 text-sm text-RedColor",children:s})]})}function Em({children:e,type:t="submit",disabled:n=!1}){return l.jsx("button",{type:t,disabled:n,className:"mb-4 flex w-full items-center justify-center rounded-md bg-bgAccent p-3 font-bold leading-6 tracking-wider text-textPrimary-dark transition-all duration-200 hover:bg-bgAccent-dark active:scale-95 disabled:pointer-events-none disabled:bg-bgAccent/50",children:e})}function Lm({children:e,href:t,addClass:n,to:r}){const i=`text-textAccent underline dark:text-textAccent-dark ${n}`;if(r)return l.jsx(Ws,{className:i,to:r,children:e});if(t)return l.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:i,children:e})}function _m(){return l.jsxs("div",{className:"pointer-events-none mb-8 mt-4 flex select-none flex-col items-center",children:[l.jsx("span",{className:"text-7xl md:text-8xl",children:""}),l.jsx("span",{className:"mt-2 text-2xl font-bold text-textAccent dark:text-textAccent-dark md:text-3xl",children:"BarsikChat"})]})}function G5(){m.useEffect(()=>{document.title=zi+"  "},[]);const{signup:e,isPending:t,isSuccess:n}=Z5(),{isAuthenticated:r}=sn(),i=Zt(),{control:s,handleSubmit:a,formState:{errors:o},trigger:u,watch:c}=Hd({defaultValues:{fullname:"",username:"",tag:"",password:"",confirmPassword:""}}),d=c("password");m.useEffect(()=>{if(r||n){const p=sessionStorage.getItem("pendingConference");p?(sessionStorage.removeItem("pendingConference"),i(`/conference/${p}`,{replace:!0})):i("/chat",{replace:!0})}},[r,n,i]);const f=({fullname:p,username:v,tag:y,password:w})=>{e({username:v.trim(),password:w,tag:y.trim(),fullname:p.trim()})};return l.jsxs(vr,{children:[l.jsx(_m,{}),l.jsxs(Nm,{onSubmit:a(f),children:[l.jsx(Xd,{addClass:"text-3xl",children:""}),l.jsx(zn,{name:"fullname",control:s,rules:{required:" .",minLength:{value:2,message:" 2 ."},maxLength:{value:50,message:" 50 ."}},render:({field:p})=>{var v;return l.jsx(kr,{type:"text",value:p.value,onChange:p.onChange,onBlur:()=>u("fullname"),placeholder:"",htmlFor:"fullname",error:(v=o.fullname)==null?void 0:v.message,disabled:t,autoFocus:!0})}}),l.jsx(zn,{name:"username",control:s,rules:{required:" .",pattern:{value:jd,message:"    ."},minLength:{value:Ma,message:` ${Ma} .`},maxLength:{value:Fa,message:` ${Fa} .`}},render:({field:p})=>{var v;return l.jsx(kr,{type:"text",value:p.value,onChange:p.onChange,onBlur:()=>u("username"),placeholder:"",htmlFor:"username",error:(v=o.username)==null?void 0:v.message,disabled:t})}}),l.jsx(zn,{name:"tag",control:s,rules:{required:" .",maxLength:{value:25,message:" 25 ."}},render:({field:p})=>{var v;return l.jsx(kr,{type:"text",value:p.value,onChange:p.onChange,onBlur:()=>u("tag"),placeholder:" (@yourtag)",htmlFor:"tag",error:(v=o.tag)==null?void 0:v.message,disabled:t})}}),l.jsx(zn,{name:"password",control:s,rules:{required:" .",minLength:{value:Va,message:` ${Va} .`}},render:({field:p})=>{var v;return l.jsx(kr,{type:"password",value:p.value,onChange:p.onChange,onBlur:()=>u("password"),placeholder:"",htmlFor:"password",error:(v=o.password)==null?void 0:v.message,disabled:t})}}),l.jsx(zn,{name:"confirmPassword",control:s,rules:{required:" .",validate:p=>p===d||"  ."},render:({field:p})=>{var v;return l.jsx(kr,{type:"password",value:p.value,onChange:p.onChange,onBlur:()=>u("confirmPassword"),placeholder:" ",htmlFor:"confirmPassword",error:(v=o.confirmPassword)==null?void 0:v.message,disabled:t})}}),l.jsx(Em,{disabled:t,type:"submit",children:t?l.jsxs(l.Fragment,{children:[l.jsx(ze,{size:"small"}),l.jsx("span",{className:"ml-2",children:"..."})]}):l.jsx("span",{children:""})}),l.jsxs("p",{children:["  ?"," ",l.jsx(Lm,{to:"/signin",children:""})]})]})]})}function K5(){const e=Je(),{mutate:t,isPending:n}=pl({mutationFn:({username:r,password:i,rememberMe:s})=>P4({username:r,password:i,rememberMe:s}),onMutate:()=>{Q.loading("...")},onSuccess:r=>{e.setQueryData(["user"],r),Q.dismiss()},onError:r=>{Q.dismiss(),Q.error(r.message)}});return{signin:t,isPending:n}}function q5(){m.useEffect(()=>{document.title=zi+"  "},[]);const{signin:e,isPending:t}=K5(),n=Zt(),{isAuthenticated:r}=sn(),[i,s]=m.useState(!1),a=m.useRef(!1),{control:o,handleSubmit:u,formState:{errors:c},trigger:d}=Hd({defaultValues:{username:"",password:""}});m.useEffect(()=>{r&&n("/chat",{replace:!0})},[r,n]),m.useEffect(()=>{if(a.current||r)return;const p=localStorage.getItem("rememberMe"),v=localStorage.getItem("savedUsername"),y=localStorage.getItem("savedPassword");if(p==="true"&&v&&y){a.current=!0;try{const w=atob(y);e({username:v,password:w,rememberMe:!0},{onSuccess:()=>{const C=sessionStorage.getItem("pendingConference");C?(sessionStorage.removeItem("pendingConference"),n(`/conference/${C}`,{replace:!0})):n("/chat",{replace:!0})}})}catch{localStorage.removeItem("rememberMe"),localStorage.removeItem("savedUsername"),localStorage.removeItem("savedPassword")}}},[r,e,n]);const f=p=>{const{username:v,password:y}=p;!v||!y||e({username:v,password:y,rememberMe:i},{onSuccess:()=>{const w=sessionStorage.getItem("pendingConference");w?(sessionStorage.removeItem("pendingConference"),n(`/conference/${w}`,{replace:!0})):n("/chat",{replace:!0})}})};return l.jsxs(vr,{children:[l.jsx(_m,{}),l.jsxs(Nm,{onSubmit:u(f),children:[l.jsx(Xd,{addClass:"text-3xl",children:"  "}),l.jsx(zn,{name:"username",control:o,rules:{required:"  ."},render:({field:p})=>{var v;return l.jsx(kr,{type:"text",value:p.value||"",onChange:p.onChange,placeholder:" ",htmlFor:"username",error:(v=c.username)==null?void 0:v.message,onBlur:()=>d("username"),disabled:t,autoFocus:!0})}}),l.jsx(zn,{name:"password",control:o,rules:{required:" ."},render:({field:p})=>{var v;return l.jsx(kr,{type:"password",value:p.value||"",onChange:p.onChange,placeholder:"",htmlFor:"password",error:(v=c.password)==null?void 0:v.message,onBlur:()=>d("password"),disabled:t})}}),l.jsxs("label",{className:"flex items-center gap-2 mb-4 cursor-pointer select-none text-sm text-LightGray dark:text-LightGray-dark",children:[l.jsx("input",{type:"checkbox",checked:i,onChange:p=>s(p.target.checked),disabled:t,className:"h-4 w-4 rounded border-LightShade/50 text-textAccentDim focus:ring-textAccentDim dark:border-LightShade dark:text-textAccentDim-dark"})," "]}),l.jsx(Em,{disabled:t,children:t?l.jsxs(l.Fragment,{children:[l.jsx(ze,{size:"small"}),l.jsx("span",{className:"ml-2",children:"..."})]}):l.jsx("span",{children:""})}),l.jsxs("p",{children:[" ?"," ",l.jsx(Lm,{to:"/signup",children:""})]})]})]})}function wr(){const{userId:e,roomId:t}=hl(),{user:n}=sn(),r=n==null?void 0:n.id,i=!!t,s=i?["convInfo","room",t]:["convInfo",e],{data:a,isPending:o,isError:u,error:c}=Yi({queryKey:s,queryFn:()=>i?jm({roomId:t}):km({myUserId:r,friendUserId:e}),staleTime:5*60*1e3,enabled:!!(e||t)});return{convInfo:a,isPending:o,isError:u,error:c}}function J5({conversation_id:e,callback:t}){return e?{unsubscribe:Od(r=>{var i,s;if(r.roomId===e&&(r.type==="CHAT"||r.type==="VOICE"||r.type==="VIDEO_CIRCLE")){const a=localStorage.getItem("username"),o=(i=r.content)==null?void 0:i.startsWith("  ");if(r.sender===a&&!o)return;t({id:r.id,conversation_id:r.roomId,content:r.content||"",sender_id:r.sender,created_at:r.timestamp,type:r.type,fileUrl:r.fileUrl,fileName:r.fileName,fileSize:r.fileSize,fileType:r.fileType,duration:r.duration,waveform:r.waveform,thumbnailUrl:r.thumbnailUrl})}if(r.roomId===e&&r.type==="EDIT"){const a=localStorage.getItem("username");if(r.sender===a)return;t({id:r.id,conversation_id:r.roomId,content:r.content||"",sender_id:r.sender,created_at:r.timestamp,type:"CHAT",edited:!0,fileUrl:r.fileUrl,fileName:r.fileName,fileSize:r.fileSize,fileType:r.fileType,duration:r.duration,waveform:r.waveform,thumbnailUrl:r.thumbnailUrl})}r.roomId===e&&r.type==="DELETE"&&t({id:r.id,conversation_id:r.roomId,deleted:!0,type:"DELETE"}),r.roomId===e&&(r.type==="PIN"||r.type==="UNPIN")&&t({id:r.id,conversation_id:r.roomId,type:r.type,pinned:r.type==="PIN",pinnedBy:r.pinnedBy||r.sender||null,content:r.content}),r.roomId===e&&(r.type==="REACTION"||r.type==="REACTION_REMOVE")&&t({id:r.id,conversation_id:r.roomId,type:r.type,sender_id:r.sender,emoji:((s=r.extra)==null?void 0:s.emoji)||r.emoji}),r.roomId===e&&r.type==="POLL"&&t({id:r.id,conversation_id:r.roomId,content:r.content||"",sender_id:r.sender,created_at:r.timestamp,type:"POLL",pollData:r.pollData||r.extra}),r.roomId===e&&(r.type==="POLL_VOTE"||r.type==="POLL_CLOSE")&&t({id:r.id,conversation_id:r.roomId,type:r.type,pollData:r.pollData||r.extra}),r.roomId===e&&r.type==="DISAPPEARING_SET"&&t({id:r.id,conversation_id:r.roomId,content:r.content||"",sender_id:r.sender,created_at:r.timestamp,type:"DISAPPEARING_SET"})})}:{unsubscribe:()=>{}}}function Y5({conversation_id:e,friendUserId:t}){const n=Je(),r=m.useRef(null);m.useEffect(function(){if(!e)return;r.current&&r.current.unsubscribe();function i(s){n.setQueryData(["friend",t],a=>{var u;if(!a)return a;if(s.type==="DELETE"&&s.deleted)return{...a,pages:a.pages.map(c=>c.filter(d=>d.id!==s.id))};if(s.type==="PIN"||s.type==="UNPIN")return{...a,pages:a.pages.map(c=>c.map(d=>d.id===s.id?{...d,pinned:s.pinned,pinnedBy:s.pinnedBy}:d))};if(s.type==="REACTION"||s.type==="REACTION_REMOVE"){const c=localStorage.getItem("username");return s.sender_id===c?a:{...a,pages:a.pages.map(d=>d.map(f=>{if(f.id!==s.id)return f;let p=[...f.reactions||[]];const v=s.emoji;if(s.type==="REACTION"){const y=p.findIndex(w=>w.emoji===v);if(y>=0){const w=[...p[y].users||[]];w.includes(s.sender_id)||w.push(s.sender_id),p[y]={...p[y],users:w,count:w.length}}else p.push({emoji:v,users:[s.sender_id],count:1})}else{const y=p.findIndex(w=>w.emoji===v);if(y>=0){const w=(p[y].users||[]).filter(C=>C!==s.sender_id);w.length===0?p.splice(y,1):p[y]={...p[y],users:w,count:w.length}}}return{...f,reactions:p}}))}}return s.type==="POLL_VOTE"||s.type==="POLL_CLOSE"?s.pollData?{...a,pages:a.pages.map(c=>c.map(d=>{var f,p;return d.id===s.id||((f=d.pollData)==null?void 0:f.pollId)===((p=s.pollData)==null?void 0:p.pollId)?{...d,pollData:s.pollData}:d}))}:a:((u=a==null?void 0:a.pages)==null?void 0:u.some(c=>c==null?void 0:c.some(d=>(d==null?void 0:d.id)===s.id)))?{...a,pages:a.pages.map(c=>c.map(d=>d.id===s.id?s.edited?{...d,...s}:s:d))}:{...a,pages:a.pages.slice().map((c,d)=>d===0?[...c,s]:c)}})}return r.current=J5({conversation_id:e,callback:i}),()=>{var s;(s=r.current)==null||s.unsubscribe(),r.current=null}},[e,t,n])}function X5(){var w;const{convInfo:e,isPending:t,error:n}=wr(),r=e==null?void 0:e.id,i=(w=e==null?void 0:e.friendInfo)==null?void 0:w.id,s=Je();m.useEffect(()=>{s.setQueryData(["friend",i],C=>{var x;if(!(!C||!((x=C.pages[1])!=null&&x.length)))return{pages:C.pages.slice(0,1),pageParams:C.pageParams.slice(0,1)}})},[i,s,r]);const{data:{pages:a}={},error:o,fetchNextPage:u,hasNextPage:c,isFetching:d,isPending:f,isLoading:p,isFetchingNextPage:v}=lv({queryKey:["friend",i],queryFn:({pageParam:C})=>Sm({conversation_id:r,pageParam:C}),select:C=>!C||C.pages.length<2?C:{pages:[...C.pages].reverse(),pageParams:[...C.pageParams].reverse()},getNextPageParam:(C,x,h)=>{if((C==null?void 0:C.length)!==0)return h+1},initialPageParam:0,enabled:!!i,staleTime:5*60*1e3,refetchOnWindowFocus:!1});return Y5({conversation_id:r,friendUserId:i}),{pages:a,isFetching:d,isPending:f,isLoading:t||p,error:n||o,fetchNextPage:u,hasNextPage:c,isFetchingNextPage:v}}function Cr(e){if(!e)return"-- : --";const t=new Date(e),n=new Date,r=Math.round((n-t)/(1e3*60*60*24)),i=t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0});return r===0?i.toLowerCase():r===1?`Yesterday at ${i.toLowerCase()}`:r<7?`${t.toLocaleDateString([],{weekday:"short"})} at ${i.toLowerCase()}`:n.getFullYear()===t.getFullYear()?`${t.toLocaleDateString([],{month:"short",day:"numeric"})} at ${i.toLowerCase()}`:`${t.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"})} at ${i.toLowerCase()}`}const e3=["","","","","",""];function t3({x:e,y:t,isOwn:n,isPinned:r,onReply:i,onCopy:s,onForward:a,onPin:o,onSelect:u,onDelete:c,onDeleteForAll:d,onReaction:f,onClose:p}){const v=m.useRef(null);m.useEffect(()=>{function w(x){v.current&&!v.current.contains(x.target)&&p()}function C(x){x.key==="Escape"&&p()}return document.addEventListener("mousedown",w),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("keydown",C)}},[p]),m.useEffect(()=>{if(!v.current)return;const w=v.current.getBoundingClientRect();w.right>window.innerWidth&&(v.current.style.left=`${e-w.width}px`),w.bottom>window.innerHeight&&(v.current.style.top=`${t-w.height}px`)},[e,t]);const y=[{icon:Jp,label:"",action:i},{icon:Yp,label:"",action:s},{icon:Wa,label:"",action:a},{icon:r?Rd:Gs,label:r?"":"",action:o},{icon:f4,label:"",action:u},{divider:!0},{icon:Td,label:"  ",action:c,danger:!0},...n?[{icon:h4,label:"  ",action:d,danger:!0}]:[]];return l.jsxs("div",{ref:v,className:"fixed z-[9999] min-w-[210px] animate-in fade-in rounded-xl bg-bgPrimary shadow-2xl ring-1 ring-LightShade/20 backdrop-blur-sm dark:bg-bgPrimary-dark dark:ring-LightShade/30",style:{left:e,top:t},children:[f&&l.jsx("div",{className:"flex items-center gap-1 px-3 py-2 border-b border-LightShade/15",children:e3.map(w=>l.jsx("button",{onClick:()=>{f(w),p()},className:"flex h-8 w-8 items-center justify-center rounded-full text-lg transition hover:bg-LightShade/20 hover:scale-125 active:scale-95",children:w},w))}),l.jsx("div",{className:"py-1.5",children:y.map((w,C)=>w.divider?l.jsx("div",{className:"my-1 border-t border-LightShade/15"},C):l.jsxs("button",{onClick:()=>{var x;(x=w.action)==null||x.call(w),p()},className:`flex w-full items-center gap-3 px-4 py-2.5 text-sm transition hover:bg-LightShade/10 active:bg-LightShade/20 ${w.danger?"text-red-400 hover:text-red-300":"text-textPrimary dark:text-textPrimary-dark"}`,children:[l.jsx(w.icon,{className:"text-base flex-shrink-0"}),w.label]},C))})]})}function n3({fileUrl:e,duration:t,waveform:n,isOwn:r}){const i=m.useRef(null),[s,a]=m.useState(!1),[o,u]=m.useState(0),[c,d]=m.useState(0),f=48,p=m.useMemo(()=>{let h=null;if(n)try{h=typeof n=="string"?JSON.parse(n):n}catch{}if(Array.isArray(h)&&h.length>=2){const j=[];for(let _=0;_<f;_++){const E=Math.floor(_/f*h.length);j.push(Math.max(.08,Math.min(1,Number(h[E])||0)))}return j}const g=[];let b=0;if(e)for(let j=0;j<e.length;j++)b+=e.charCodeAt(j);for(let j=0;j<f;j++)b=(b*16807+1)%2147483647,g.push(.1+b%100/100*.9);return g},[n,e]);m.useEffect(()=>{const h=i.current;if(!h)return;const g=()=>{const j=h.duration||t||1;u(h.currentTime/j),d(h.currentTime)},b=()=>{a(!1),u(0),d(0)};return h.addEventListener("timeupdate",g),h.addEventListener("ended",b),()=>{h.removeEventListener("timeupdate",g),h.removeEventListener("ended",b)}},[t]);function v(){i.current&&(s?i.current.pause():i.current.play(),a(!s))}function y(h){if(!i.current)return;const g=h.currentTarget.getBoundingClientRect(),b=Math.max(0,Math.min(1,(h.clientX-g.left)/g.width)),j=i.current.duration||t||1;i.current.currentTime=b*j,u(b),d(b*j)}const w=s?c:t||0,C=Math.floor(w/60),x=Math.floor(w%60);return l.jsxs("div",{className:"flex items-center gap-2 min-w-[200px]",children:[l.jsx("audio",{ref:i,src:e,preload:"metadata"}),l.jsx("button",{onClick:v,className:`flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full transition active:scale-95 ${r?"bg-white/20 hover:bg-white/30":"bg-bgAccent/20 hover:bg-bgAccent/30 dark:bg-bgAccent-dark/20 dark:hover:bg-bgAccent-dark/30"}`,children:s?l.jsx(o4,{className:"text-lg"}):l.jsx(em,{className:"text-lg ml-0.5"})}),l.jsxs("div",{className:"flex flex-1 flex-col gap-1 min-w-0",children:[l.jsx("div",{className:"flex items-end gap-[2px] h-[24px] cursor-pointer",onClick:y,children:p.map((h,g)=>{const b=o>0&&g/p.length<=o;return l.jsx("div",{className:`w-[2px] rounded-full flex-shrink-0 transition-colors duration-150 ${b?r?"bg-white":"bg-bgAccent dark:bg-bgAccent-dark":r?"bg-white/30":"bg-LightShade/30"}`,style:{height:`${Math.max(h*24,2)}px`}},g)})}),l.jsxs("span",{className:"text-[10px] opacity-60 tabular-nums",children:[C,":",x.toString().padStart(2,"0")]})]})]})}function r3({fileUrl:e,duration:t}){const n=m.useRef(null),[r,i]=m.useState(!1),[s,a]=m.useState(0);function o(){n.current&&(r?n.current.pause():n.current.play(),i(!r))}m.useEffect(()=>{const h=n.current;if(!h)return;const g=()=>a(h.currentTime/(h.duration||t||1)),b=()=>{i(!1),a(0)};return h.addEventListener("timeupdate",g),h.addEventListener("ended",b),()=>{h.removeEventListener("timeupdate",g),h.removeEventListener("ended",b)}},[t]);const u=t||0,c=r?Math.floor(s*u):0,d=r?c:u,f=Math.floor(d/60),p=Math.floor(d%60),v=240,y=3,w=(v-y)/2,C=2*Math.PI*w,x=C*(1-s);return l.jsx("div",{className:"flex flex-col items-center",children:l.jsxs("div",{className:"relative cursor-pointer",style:{width:v,height:v},onClick:o,children:[l.jsxs("svg",{className:"absolute inset-0 -rotate-90",width:v,height:v,children:[l.jsx("circle",{cx:v/2,cy:v/2,r:w,fill:"none",stroke:"currentColor",strokeWidth:y,className:"opacity-10"}),l.jsx("circle",{cx:v/2,cy:v/2,r:w,fill:"none",stroke:"currentColor",strokeWidth:y,strokeDasharray:C,strokeDashoffset:x,strokeLinecap:"round",className:"text-bgAccent dark:text-bgAccent-dark transition-all duration-200"})]}),l.jsx("div",{className:"absolute overflow-hidden rounded-full",style:{inset:`${y}px`},children:l.jsx("video",{ref:n,src:e,playsInline:!0,preload:"metadata",className:"h-full w-full object-cover"})}),!r&&l.jsx("div",{className:"absolute flex items-center justify-center rounded-full bg-black/30",style:{inset:`${y}px`},children:l.jsx(em,{className:"text-4xl text-white drop-shadow"})}),l.jsxs("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 rounded-full bg-black/60 px-2.5 py-0.5 text-[11px] font-mono text-white tabular-nums",children:[f,":",p.toString().padStart(2,"0")]})]})})}function i3(e){return!e||e<=0?"":e<1024?e+" ":e<1024*1024?(e/1024).toFixed(1)+" ":e<1024*1024*1024?(e/(1024*1024)).toFixed(1)+" ":(e/(1024*1024*1024)).toFixed(1)+" "}function s3({fileUrl:e,fileName:t,fileType:n,fileSize:r}){var d;const i=n==null?void 0:n.startsWith("image/"),s=n==null?void 0:n.startsWith("video/"),a=n==null?void 0:n.startsWith("audio/");if(i&&e)return l.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"block",children:l.jsx("img",{src:e,alt:t,className:"max-w-[280px] max-h-[320px] rounded-lg object-cover",loading:"lazy"})});if(s&&e)return l.jsx("video",{src:e,controls:!0,playsInline:!0,preload:"metadata",className:"max-w-[300px] rounded-lg"});if(a&&e)return l.jsx("audio",{src:e,controls:!0,preload:"metadata",className:"max-w-[280px]"});const o=((d=t==null?void 0:t.split(".").pop())==null?void 0:d.toLowerCase())||"",c={pdf:"bg-red-500/20 text-red-400",doc:"bg-blue-500/20 text-blue-400",docx:"bg-blue-500/20 text-blue-400",xls:"bg-green-500/20 text-green-400",xlsx:"bg-green-500/20 text-green-400",ppt:"bg-orange-500/20 text-orange-400",pptx:"bg-orange-500/20 text-orange-400",zip:"bg-yellow-500/20 text-yellow-400",rar:"bg-yellow-500/20 text-yellow-400","7z":"bg-yellow-500/20 text-yellow-400",txt:"bg-gray-500/20 text-gray-400",csv:"bg-green-500/20 text-green-400"}[o]||"bg-bgAccent/15 text-bgAccent dark:bg-bgAccent-dark/15 dark:text-bgAccent-dark";return l.jsxs("a",{href:`${e}?download=true`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 rounded-xl py-1 transition hover:bg-white/5",children:[l.jsx("div",{className:`flex h-11 w-11 flex-shrink-0 items-center justify-center rounded-lg text-xs font-bold uppercase ${c}`,children:o?o.slice(0,4):l.jsx(p4,{className:"text-xl"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"truncate text-sm font-medium",children:t||""}),r>0&&l.jsx("p",{className:"text-[11px] opacity-50",children:i3(r)})]})]})}function au({reactions:e,onReaction:t,myUsername:n}){return!e||e.length===0?null:l.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.map(r=>{var s;const i=(s=r.users)==null?void 0:s.includes(n);return l.jsxs("button",{onClick:()=>t==null?void 0:t(r.emoji),className:`flex items-center gap-1 rounded-full px-2 py-0.5 text-xs transition active:scale-95 ${i?"bg-bgAccent/30 ring-1 ring-bgAccent/50 dark:bg-bgAccent-dark/30 dark:ring-bgAccent-dark/50":"bg-LightShade/15 hover:bg-LightShade/25"}`,children:[l.jsx("span",{children:r.emoji}),l.jsx("span",{className:"font-medium",children:r.count})]},r.emoji)})})}function l3({url:e,preview:t}){return!t||!t.title&&!t.description?null:l.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"mt-1 block rounded-lg border border-LightShade/20 bg-white/5 p-2 transition hover:bg-white/10",children:[t.image&&l.jsx("img",{src:t.image,alt:"",className:"mb-1 max-h-32 w-full rounded object-cover"}),t.title&&l.jsx("p",{className:"text-xs font-semibold line-clamp-2",children:t.title}),t.description&&l.jsx("p",{className:"text-[11px] opacity-60 line-clamp-2",children:t.description}),l.jsx("p",{className:"text-[10px] opacity-40 truncate",children:e})]})}function a3({message:e,onVote:t}){var s;const n=e==null?void 0:e.pollData;if(!n)return null;const r=localStorage.getItem("username"),i=n.totalVotes||0;return l.jsxs("div",{className:"min-w-[220px]",children:[l.jsx("p",{className:"mb-2 font-semibold text-sm",children:n.question}),l.jsx("div",{className:"flex flex-col gap-1.5",children:(s=n.options)==null?void 0:s.map(a=>{var c;const o=i>0?Math.round(a.votes/i*100):0,u=(c=a.voters)==null?void 0:c.includes(r);return l.jsxs("button",{onClick:()=>!n.closed&&(t==null?void 0:t(n.pollId,a.id)),disabled:n.closed,className:`relative overflow-hidden rounded-lg border px-3 py-2 text-left text-xs transition ${u?"border-bgAccent/50 dark:border-bgAccent-dark/50":"border-LightShade/20 hover:border-LightShade/40"} ${n.closed?"opacity-70 cursor-default":"cursor-pointer active:scale-[0.98]"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-bgAccent/15 dark:bg-bgAccent-dark/15 transition-all",style:{width:`${o}%`}}),l.jsxs("span",{className:"relative z-10 flex items-center justify-between",children:[l.jsx("span",{children:a.text}),l.jsxs("span",{className:"font-mono font-bold",children:[o,"%"]})]})]},a.id)})}),l.jsxs("p",{className:"mt-1.5 text-[10px] opacity-50",children:[i," ",i===1?"":i<5?"":"",n.closed&&"   "]})]})}function os({children:e,message:t,isOwn:n,isGroup:r,selectionMode:i,isSelected:s,toggleSelectMessage:a,enterSelectionMode:o,onReply:u,onForward:c,onPin:d,onUnpin:f,onDeleteLocal:p,onDeleteForAll:v,onReaction:y,bubbleClass:w,noBubble:C=!1}){const[x,h]=m.useState(null),g=m.useCallback(N=>{N.preventDefault(),!i&&h({x:N.clientX,y:N.clientY})},[i]),b=m.useCallback(()=>{i&&(a==null||a(t))},[i,a,t]),j=m.useCallback(()=>{navigator.clipboard.writeText((t==null?void 0:t.content)||"").then(()=>{Q.success("")})},[t]),_=m.useCallback(()=>{t!=null&&t.pinned?f==null||f(t):d==null||d(t)},[t,d,f]),E=m.useCallback(()=>{o==null||o(t)},[o,t]);return l.jsxs("div",{id:`msg-${(t==null?void 0:t.id)||""}`,className:`flex items-end gap-1.5 ${n?"flex-row-reverse":""} ${i?"cursor-pointer":""} ${s?"bg-bgAccent/10 dark:bg-bgAccent-dark/10 -mx-2 px-2 rounded-lg":""}`,onContextMenu:g,onClick:b,children:[i&&l.jsx("span",{className:"flex-shrink-0 py-2 text-xl",children:s?l.jsx(rm,{className:"text-bgAccent dark:text-bgAccent-dark"}):l.jsx(nm,{className:"opacity-40"})}),C?l.jsx("div",{className:`group relative ${n?"self-end":""} my-1 w-fit max-w-[80%]`,children:e}):l.jsx("div",{className:`group relative ${n?"self-end rounded-br-none bg-gradient-to-br from-bgAccent to-bgAccentDim text-textPrimary-dark before:absolute before:bottom-0 before:right-0 before:h-0 before:w-0 before:translate-x-full before:border-l-8 before:border-t-8 before:border-l-bgAccentDim before:border-t-transparent before:content-[''] dark:from-bgAccent-dark dark:to-bgAccentDim-dark before:dark:border-l-bgAccentDim-dark":"rounded-bl-none bg-bgPrimary before:absolute before:bottom-0 before:left-0 before:h-0 before:w-0 before:-translate-x-full before:border-r-8 before:border-t-8 before:border-r-bgPrimary before:border-t-transparent before:content-[''] dark:bg-LightShade/20 before:dark:border-r-LightShade/20"} my-1 w-fit max-w-[80%] rounded-2xl px-4 py-2 shadow-md before:shadow-md ${w||""}`,children:e}),x&&l.jsx(t3,{x:x.x,y:x.y,isOwn:n,isPinned:!!(t!=null&&t.pinned),onReply:()=>u==null?void 0:u(t),onCopy:j,onForward:()=>c==null?void 0:c(t),onPin:_,onSelect:E,onDelete:()=>p==null?void 0:p(t),onDeleteForAll:()=>v==null?void 0:v(t),onReaction:N=>y==null?void 0:y(t,N),onClose:()=>h(null)})]})}function o3({message:e,selectionMode:t,isSelected:n,toggleSelectMessage:r,enterSelectionMode:i,onReply:s,onForward:a,onPin:o,onUnpin:u,onDeleteLocal:c,onDeleteForAll:d,onReaction:f,onVotePoll:p,onShowReaders:v}){var j,_,E;const{user:y}=sn(),{convInfo:w}=wr(),C=w==null?void 0:w.isGroup,x=(e==null?void 0:e.sender_id)===y.id,h={message:e,isOwn:x,isGroup:C,selectionMode:t,isSelected:n,toggleSelectMessage:r,enterSelectionMode:i,onReply:s,onForward:a,onPin:o,onUnpin:u,onDeleteLocal:c,onDeleteForAll:d,onReaction:f};if((e==null?void 0:e.type)==="DISAPPEARING_SET")return l.jsxs("div",{className:"my-2 flex items-center justify-center gap-2 text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:[l.jsx(sm,{}),l.jsx("span",{children:e.content})]});if((e==null?void 0:e.type)==="CALL_LOG"){const N=((j=e.content)==null?void 0:j.includes(""))||((_=e.content)==null?void 0:_.includes("audio"));return l.jsxs("div",{className:"my-2 flex items-center justify-center gap-2 text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:[l.jsx("span",{children:N?"":""}),l.jsx("span",{children:e.content||""}),l.jsx("span",{className:"text-[10px]",children:Cr(e==null?void 0:e.created_at)})]})}if((e==null?void 0:e.type)==="VOICE"&&(e!=null&&e.fileUrl))return l.jsxs(os,{...h,children:[C&&!x&&(e==null?void 0:e.sender_id)&&l.jsx("p",{className:"mb-1 text-xs font-bold text-bgAccent dark:text-bgAccent-dark",children:e.sender_id}),l.jsx(n3,{fileUrl:e.fileUrl,duration:e.duration,waveform:e.waveform,isOwn:x}),l.jsx("span",{className:"float-right ml-2 mt-1 select-none text-xs opacity-70",children:Cr(e==null?void 0:e.created_at)})]});if((e==null?void 0:e.type)==="VIDEO_CIRCLE"&&(e!=null&&e.fileUrl))return l.jsxs(os,{...h,noBubble:!0,children:[C&&!x&&(e==null?void 0:e.sender_id)&&l.jsx("p",{className:"mb-1 text-xs font-bold text-bgAccent dark:text-bgAccent-dark",children:e.sender_id}),l.jsx(r3,{fileUrl:e.fileUrl,duration:e.duration}),l.jsx("p",{className:"mt-1 text-center text-xs opacity-50",children:Cr(e==null?void 0:e.created_at)})]});const g=(e==null?void 0:e.fileUrl)&&(e==null?void 0:e.type)!=="VOICE"&&(e==null?void 0:e.type)!=="VIDEO_CIRCLE";return(e==null?void 0:e.type)==="POLL"&&(e!=null&&e.pollData)?l.jsxs(os,{...h,children:[C&&!x&&(e==null?void 0:e.sender_id)&&l.jsx("p",{className:"mb-0.5 text-xs font-bold text-bgAccent dark:text-bgAccent-dark",children:e.sender_id}),l.jsx(a3,{message:e,onVote:p}),l.jsx("span",{className:"block select-none text-right text-xs opacity-70 mt-1",children:Cr(e==null?void 0:e.created_at)}),l.jsx(au,{reactions:e==null?void 0:e.reactions,onReaction:N=>f==null?void 0:f(e,N),myUsername:y.id})]}):g&&((E=e==null?void 0:e.fileType)==null?void 0:E.startsWith("image/"))&&(!(e!=null&&e.content)||e.content.startsWith(" "))?l.jsxs(os,{...h,noBubble:!0,children:[C&&!x&&(e==null?void 0:e.sender_id)&&l.jsx("p",{className:"mb-1 text-xs font-bold text-bgAccent dark:text-bgAccent-dark",children:e.sender_id}),(e==null?void 0:e.replyToContent)&&l.jsxs("div",{className:"mb-1 rounded-lg border-l-2 border-bgAccent bg-black/30 px-2 py-1 text-xs dark:border-bgAccent-dark",children:[l.jsx("p",{className:"font-bold text-white/70",children:e.replyToSender||""}),l.jsx("p",{className:"truncate text-white/60",children:e.replyToContent})]}),l.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-md",children:[l.jsx("img",{src:e.fileUrl,alt:e.fileName,className:"max-w-[280px] max-h-[320px] object-cover block",loading:"lazy"}),l.jsxs("div",{className:"absolute bottom-0 right-0 flex items-center gap-1 rounded-tl-lg bg-black/50 px-2 py-0.5",children:[(e==null?void 0:e.pinned)&&l.jsx(Sc,{className:"text-[10px] text-white/80"}),(e==null?void 0:e.edited)&&l.jsx("span",{className:"text-[10px] italic text-white/70",children:"."}),l.jsx("span",{className:"text-[11px] text-white tabular-nums",children:Cr(e==null?void 0:e.created_at)})]})]}),l.jsx(au,{reactions:e==null?void 0:e.reactions,onReaction:N=>f==null?void 0:f(e,N),myUsername:y.id})]}):l.jsxs(os,{...h,children:[C&&!x&&(e==null?void 0:e.sender_id)&&l.jsx("p",{className:"mb-0.5 text-xs font-bold text-bgAccent dark:text-bgAccent-dark",children:e.sender_id}),(e==null?void 0:e.replyToContent)&&l.jsxs("div",{className:"mb-1 rounded-lg border-l-2 border-bgAccent bg-white/10 px-2 py-1 text-xs dark:border-bgAccent-dark",children:[l.jsx("p",{className:"font-bold opacity-70",children:e.replyToSender||""}),l.jsx("p",{className:"truncate opacity-60",children:e.replyToContent})]}),g&&l.jsx("div",{className:"mb-1",children:l.jsx(s3,{fileUrl:e.fileUrl,fileName:e.fileName,fileType:e.fileType,fileSize:e.fileSize})}),(e==null?void 0:e.linkPreview)&&l.jsx(l3,{url:e.linkPreview.url,preview:e.linkPreview}),(e==null?void 0:e.content)&&!e.content.startsWith(" ")&&l.jsxs("p",{children:[e.content,l.jsxs("span",{className:"float-right ml-2 mt-2 select-none text-xs opacity-70",children:[(e==null?void 0:e.pinned)&&l.jsx(Sc,{className:"mr-1 inline-block text-[11px]",title:""}),(e==null?void 0:e.edited)&&l.jsx("span",{className:"mr-1 italic",children:"."}),C&&x&&v&&l.jsx("button",{onClick:N=>{N.stopPropagation(),v(e)},className:"mr-1 inline-block hover:opacity-100 opacity-50",title:" ",children:l.jsx(m4,{className:"inline-block text-[11px]"})}),Cr(e==null?void 0:e.created_at)]})]}),(!(e!=null&&e.content)||e.content.startsWith(" "))&&l.jsx("span",{className:"block select-none text-right text-xs opacity-70",children:Cr(e==null?void 0:e.created_at)}),l.jsx(au,{reactions:e==null?void 0:e.reactions,onReaction:N=>f==null?void 0:f(e,N),myUsername:y.id})]})}function B1(e,t={}){const[n,r]=m.useState(!1);return m.useEffect(()=>{if(!e)return;const i=new IntersectionObserver(([s])=>r(s.isIntersecting));return i.observe(e,t),()=>i.disconnect()},[e,t]),n}function u3({pages:e,bottomRef:t,lastPageBtm:n,isIntersectingTop:r,isIntersectingBtm:i}){const s=(a,o="smooth")=>{var u;(u=a==null?void 0:a.current)==null||u.scrollIntoView({behavior:o})};m.useEffect(()=>{if(!e||!e[0])return;if(i)return s(t);const a=e[e.length-1],o=a[a.length-1];if(o!=null&&o.optimistic||e.length===1)return s(t);if(n.current&&r)return s(n,"instant")},[e,t,n])}function c3({selectionMode:e,selectedMessages:t,toggleSelectMessage:n,enterSelectionMode:r,onReply:i,onForward:s,onPin:a,onUnpin:o,onDeleteLocal:u,onDeleteForAll:c,onReaction:d,onVotePoll:f,onShowReaders:p}){const{pages:v,isFetchingNextPage:y,isLoading:w,fetchNextPage:C,hasNextPage:x,error:h}=X5(),g=m.useRef(null),b=m.useRef(),j=m.useRef(null),[_,E]=m.useState(null),N=B1(_),M=B1(b.current);m.useEffect(()=>{if(g.current){const V=setTimeout(()=>{E(g.current)},1e3);return()=>clearTimeout(V)}},[x]),m.useEffect(()=>{N&&x&&C()},[N,x,C]),u3({pages:v,bottomRef:b,lastPageBtm:j,isIntersectingTop:N,isIntersectingBtm:M});const{convInfo:I}=wr(),Y=m.useRef(new Set);return m.useEffect(()=>{Y.current=new Set},[I==null?void 0:I.id]),m.useEffect(()=>{const V=I==null?void 0:I.id,X=I==null?void 0:I.isGroup;if(!V||!X||!v)return;const ee=localStorage.getItem("username"),de=v[0];de&&de.forEach(W=>{W!=null&&W.id&&W.sender_id!==ee&&!Y.current.has(W.id)&&(Y.current.add(W.id),ce(`/api/rooms/${encodeURIComponent(V)}/messages/${encodeURIComponent(W.id)}/read`,{method:"POST"}).catch(()=>{}))})},[v,I]),h?l.jsxs(ot,{children:[" ",h.message]}):w?l.jsx(ot,{opacity:100,children:l.jsx(ze,{size:"medium",text:" "})}):l.jsx("div",{className:"grid grid-cols-1 items-end overflow-y-auto",children:l.jsxs("div",{tabIndex:-1,className:"mx-auto flex w-full max-w-3xl flex-col px-4",children:[v&&(!v[0]||v[0].length===0)&&l.jsx(ot,{children:" "}),v&&v[0]&&v[0].length>0&&l.jsxs(l.Fragment,{children:[x&&l.jsx("span",{ref:g,children:y&&l.jsx(ze,{})}),v.map((V,X)=>V.length?l.jsxs("span",{className:"flex w-full flex-col",children:[V.map(ee=>l.jsx(o3,{message:ee,selectionMode:e,isSelected:t==null?void 0:t.some(de=>de.id===ee.id),toggleSelectMessage:n,enterSelectionMode:r,onReply:i,onForward:s,onPin:a,onUnpin:o,onDeleteLocal:u,onDeleteForAll:c,onReaction:d,onVotePoll:f,onShowReaders:p},ee.id)),X===0&&l.jsx("span",{ref:j})]},X):l.jsx("span",{className:"mx-auto my-4 h-2 w-2 select-none rounded bg-LightShade/50 opacity-50"},X))]}),l.jsx("span",{ref:b})]})})}function fi(e){return re({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15.22 3.22a.75.75 0 011.06 0L18 4.94l1.72-1.72a.75.75 0 111.06 1.06L19.06 6l1.72 1.72a.75.75 0 01-1.06 1.06L18 7.06l-1.72 1.72a.75.75 0 11-1.06-1.06L16.94 6l-1.72-1.72a.75.75 0 010-1.06zM1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z",clipRule:"evenodd"}}]})(e)}function d3(e){return re({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"}}]})(e)}const f3=[{label:"",value:0},{label:"30 ",value:30},{label:"5 ",value:300},{label:"1 ",value:3600},{label:"24 ",value:86400},{label:"7 ",value:604800}];function h3({friend:e}){const{avatar_url:t,fullname:n,username:r,bio:i}=e??{},{closeFriendSidebar:s,isFriendsSidebarOpen:a}=Nt(),{convInfo:o}=wr(),u=o==null?void 0:o.id,[c,d]=m.useState(!1),[f,p]=m.useState(0);m.useEffect(()=>{!u||!a||(ce(`/api/rooms/${encodeURIComponent(u)}/mute`).then(C=>d(!!(C!=null&&C.muted))).catch(()=>{}),(o==null?void 0:o.disappearingSeconds)!==void 0&&p(o.disappearingSeconds))},[u,a,o==null?void 0:o.disappearingSeconds]);async function v(){if(u)try{c?(await ce(`/api/rooms/${encodeURIComponent(u)}/mute`,{method:"DELETE"}),d(!1),Q.success(" ")):(await ce(`/api/rooms/${encodeURIComponent(u)}/mute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),d(!0),Q.success(" "))}catch{Q.error("")}}async function y(C){if(u)try{await ce(`/api/rooms/${encodeURIComponent(u)}/disappearing`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({seconds:C})}),p(C),Q.success(C===0?" ":" ")}catch{Q.error("")}}function w(){a&&s()}return l.jsx(Nd,{isOpen:a,toggle:w,children:l.jsxs("div",{className:`${a?"visible right-0 opacity-100":"invisible -right-full opacity-0"} absolute top-0 z-30 grid h-screen-safe w-4/5 grid-rows-[auto_1fr] overflow-hidden bg-bgPrimary opacity-0 shadow-[-10px_0px_15px_-3px_rgba(0,0,0,0.1),-10px_0px_6px_-2px_rgba(0,0,0,0.05)] transition-all duration-500 ease-[cubic-bezier(.15,.72,.08,.99)] dark:bg-bgPrimary-dark sm:w-[21rem]`,children:[l.jsxs("div",{className:"flex h-16 items-center justify-start gap-4 bg-LightShade/10 p-2",children:[l.jsx(At,{onClick:w,children:l.jsx(At.Close,{})}),l.jsx("p",{className:"select-none font-bold tracking-wider",children:"Profile"})]}),l.jsxs("div",{className:"h-full overflow-scroll p-10",children:[l.jsx("div",{className:"mx-auto mt-4 h-52 w-52 overflow-hidden rounded-full border-2 border-bgAccent dark:border-bgAccent-dark",children:t?l.jsx("img",{className:"pointer-events-none h-full w-full object-cover object-center",src:t,alt:n}):l.jsx(d3,{className:"h-full w-full opacity-50",strokeWidth:"1"})}),l.jsxs("div",{className:"mt-8",children:[l.jsx("p",{className:"select-none  text-sm font-bold tracking-wider text-textAccent opacity-80 dark:text-textAccent-dark",children:"Name"}),l.jsx("p",{className:"truncate text-base",children:n})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"select-none text-sm font-bold tracking-wider text-textAccent  opacity-80 dark:text-textAccent-dark",children:"Username"}),l.jsx("p",{className:"truncate text-base",children:r})]}),i&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"select-none text-sm font-bold tracking-wider text-textAccent  opacity-80 dark:text-textAccent-dark",children:"Bio"}),l.jsx("p",{className:"break-all text-base",children:i})]}),u&&l.jsxs("div",{className:"mt-6 space-y-3 border-t border-LightShade/20 pt-4",children:[l.jsxs("button",{onClick:v,className:"flex w-full items-center gap-3 rounded-xl px-3 py-2.5 text-sm transition hover:bg-LightShade/10",children:[c?l.jsx(tm,{className:"text-lg text-red-400"}):l.jsx(u4,{className:"text-lg"}),l.jsx("span",{children:c?" ":" "})]}),l.jsxs("div",{className:"rounded-xl bg-LightShade/5 p-3",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold",children:[l.jsx(sm,{className:"text-lg"})," "]}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:f3.map(C=>l.jsx("button",{onClick:()=>y(C.value),className:`rounded-full px-2.5 py-1 text-xs font-medium transition ${f===C.value?"bg-bgAccent text-textPrimary-dark dark:bg-bgAccent-dark":"bg-LightShade/15 hover:bg-LightShade/25"}`,children:C.label},C.value))})]})]})]})]})})}let $l=null,Q1=0;async function p3(){const e=Date.now();if($l&&e<Q1)return $l;try{const t=await ce("/api/webrtc/ice-config");return $l=t.iceServers||t,Q1=e+2*60*60*1e3,$l}catch(t){return console.error("[WebRTC] Failed to get ICE config:",t),[{urls:"stun:stun.l.google.com:19302"}]}}async function jc({onIceCandidate:e,onTrack:t,onConnectionStateChange:n}){const r=await p3(),i=new RTCPeerConnection({iceServers:r});return i.onicecandidate=s=>{s.candidate&&e(s.candidate)},i.ontrack=s=>{s.streams&&s.streams[0]?t(s.streams[0]):(i._fallbackStream||(i._fallbackStream=new MediaStream),i._fallbackStream.addTrack(s.track),t(i._fallbackStream))},i.onconnectionstatechange=()=>{n==null||n(i.connectionState)},i}async function hi(e){const t={audio:!0,video:e==="video"?{facingMode:"user",width:{ideal:1280},height:{ideal:720}}:!1};return navigator.mediaDevices.getUserMedia(t)}const Pm=m.createContext(),be={IDLE:"idle",CALLING:"calling",RINGING:"ringing",ACTIVE:"active",ESCALATING:"escalating"};function m3({children:e}){const[t,n]=m.useState(be.IDLE),[r,i]=m.useState(null),[s,a]=m.useState(null),[o,u]=m.useState(null),[c,d]=m.useState(null),[f,p]=m.useState(null),[v,y]=m.useState(!1),[w,C]=m.useState(!1),[x,h]=m.useState(0),[g,b]=m.useState(!1),[j,_]=m.useState(!1),E=m.useRef(null),N=m.useRef(null),M=m.useRef(null),I=m.useRef([]),Y=m.useRef(null),V=m.useRef(null),X=m.useRef(null),ee=m.useRef(null),de=m.useRef(!1),W=m.useRef(be.IDLE);m.useEffect(()=>{W.current=t},[t]);const T=m.useCallback(()=>{W.current=be.IDLE,de.current=!1,E.current&&(E.current.close(),E.current=null),V.current&&(V.current.getTracks().forEach(H=>H.stop()),V.current=null),N.current&&(clearInterval(N.current),N.current=null),M.current&&(clearTimeout(M.current),M.current=null),ee.current&&(clearTimeout(ee.current),ee.current=null),d(null),p(null),n(be.IDLE),i(null),a(null),u(null),y(!1),C(!1),h(0),b(!1),_(!1),I.current=[],Y.current=null,X.current=null},[]);m.useEffect(()=>()=>T(),[T]);const P=m.useCallback(async(H,ae,he="audio")=>{if(W.current===be.IDLE){if(!ks()){console.warn("[Call] Cannot start call  WebSocket not connected, reconnecting..."),gl();return}console.log("[Call] Starting call to",H,"room=",ae,"type=",he);try{n(be.CALLING),i(he),a(H),u(ae),console.log("[Call] Requesting media...");let ye,ie=he;try{ye=await hi(he)}catch(ke){if(he==="video")console.warn("[Call] Video failed, camera unavailable:",ke.message),ie="audio",C(!0),ye=await hi("audio");else throw ke}console.log("[Call] Got media stream, tracks:",ye.getTracks().length),V.current=ye,d(ye);const ue=await jc({onIceCandidate:ke=>{we({type:"ICE_CANDIDATE",roomId:ae,content:"",extra:{target:H,candidate:JSON.stringify(ke)}})},onTrack:ke=>p(ke),onConnectionStateChange:ke=>{ke==="disconnected"?(console.warn("[Call] Connection disconnected, waiting for recovery..."),_(!0),ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{E.current&&E.current.connectionState!=="connected"&&(we({type:"CALL_END",roomId:ae,content:"",extra:{target:H,reason:"ice_failed"}}),T())},15e3)):ke==="connected"?(_(!1),ee.current&&(clearTimeout(ee.current),ee.current=null)):ke==="failed"&&(we({type:"CALL_END",roomId:ae,content:"",extra:{target:H,reason:"ice_failed"}}),T())}});ye.getTracks().forEach(ke=>ue.addTrack(ke,ye)),E.current=ue;const pe=await ue.createOffer();if(await ue.setLocalDescription(pe),!we({type:"CALL_OFFER",roomId:ae,content:"",extra:{target:H,callType:he,sdp:JSON.stringify(pe)}})){console.error("[Call] Failed to send CALL_OFFER  WS disconnected"),T();return}M.current=setTimeout(()=>{W.current===be.CALLING&&(we({type:"CALL_END",roomId:ae,content:"",extra:{target:H,reason:"timeout"}}),T())},45e3)}catch(ye){console.error("[Call] Failed to start call:",ye),E.current&&we({type:"CALL_END",roomId:ae,content:"",extra:{target:H,reason:"error"}}),T()}}},[T]),O=m.useCallback(async()=>{if(W.current!==be.RINGING||de.current)return;de.current=!0;const H=X.current;if(H){if(!ks()){console.warn("[Call] Cannot accept call  WebSocket not connected"),T();return}console.log("[Call] Accepting call from",H.sender,"room=",H.roomId,"type=",H.callType);try{n(be.ACTIVE);const ae=H.callType||"audio";console.log("[Call] Requesting media for accept...");let he;try{he=await hi(ae)}catch(Ee){if(ae==="video")console.warn("[Call] Video failed on accept, camera unavailable:",Ee.message),C(!0),he=await hi("audio");else throw Ee}console.log("[Call] Got media stream for accept, tracks:",he.getTracks().length),V.current=he,d(he);const ye=H.sender,ie=H.roomId,ue=await jc({onIceCandidate:Ee=>{we({type:"ICE_CANDIDATE",roomId:ie,content:"",extra:{target:ye,candidate:JSON.stringify(Ee)}})},onTrack:Ee=>p(Ee),onConnectionStateChange:Ee=>{Ee==="disconnected"?(console.warn("[Call] Connection disconnected, waiting for recovery..."),_(!0),ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{E.current&&E.current.connectionState!=="connected"&&(we({type:"CALL_END",roomId:ie,content:"",extra:{target:ye,reason:"ice_failed"}}),T())},15e3)):Ee==="connected"?(_(!1),ee.current&&(clearTimeout(ee.current),ee.current=null)):Ee==="failed"&&(we({type:"CALL_END",roomId:ie,content:"",extra:{target:ye,reason:"ice_failed"}}),T())}});he.getTracks().forEach(Ee=>ue.addTrack(Ee,he)),E.current=ue;const pe=JSON.parse(H.sdp);await ue.setRemoteDescription(new RTCSessionDescription(pe)),console.log("[Call] Remote offer set, flushing",I.current.length,"pending ICE candidates");for(const Ee of I.current)try{await ue.addIceCandidate(new RTCIceCandidate(JSON.parse(Ee)))}catch{}I.current=[];const ct=await ue.createAnswer();if(await ue.setLocalDescription(ct),!we({type:"CALL_ANSWER",roomId:ie,content:"",extra:{target:ye,sdp:JSON.stringify(ct)}})){console.error("[Call] Failed to send CALL_ANSWER  WS disconnected"),T();return}console.log("[Call] CALL_ANSWER sent to",ye),Y.current=Date.now(),N.current=setInterval(()=>{h(Math.floor((Date.now()-Y.current)/1e3))},1e3)}catch(ae){console.error("[Call] Failed to accept call:",ae),H&&we({type:"CALL_REJECT",roomId:H.roomId,content:"",extra:{target:H.sender}}),T()}}},[T]),F=m.useCallback(()=>{if(W.current!==be.RINGING)return;const H=X.current;we({type:"CALL_REJECT",roomId:(H==null?void 0:H.roomId)||o,content:"",extra:{target:(H==null?void 0:H.sender)||s}}),T()},[o,s,T]),R=m.useCallback(()=>{W.current!==be.IDLE&&(we({type:"CALL_END",roomId:o,content:"",extra:{target:s,reason:"hangup"}}),T())},[o,s,T]),$=m.useCallback(()=>{W.current===be.ACTIVE&&(we({type:"CALL_END",roomId:o,content:"",extra:{target:s,reason:"escalate"}}),E.current&&(E.current.close(),E.current=null),V.current&&(V.current.getTracks().forEach(H=>H.stop()),V.current=null),N.current&&(clearInterval(N.current),N.current=null),M.current&&(clearTimeout(M.current),M.current=null),ee.current&&(clearTimeout(ee.current),ee.current=null),d(null),p(null),I.current=[],W.current=be.ESCALATING,n(be.ESCALATING),M.current=setTimeout(()=>{W.current===be.ESCALATING&&T()},8e3))},[o,s,T]),le=m.useCallback(()=>{W.current===be.ESCALATING&&(M.current&&(clearTimeout(M.current),M.current=null),W.current=be.IDLE,de.current=!1,n(be.IDLE),i(null),a(null),u(null),y(!1),C(!1),h(0),b(!1),_(!1),X.current=null)},[]),G=m.useCallback(()=>{V.current&&(V.current.getAudioTracks().forEach(H=>{H.enabled=!H.enabled}),y(H=>!H))},[]),K=m.useCallback(async()=>{if(!V.current)return;const H=V.current.getVideoTracks();if(H.length===0){try{const he=(await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:720}}})).getVideoTracks()[0];if(!he){Q(" ",{icon:""});return}if(V.current.addTrack(he),E.current){E.current.addTrack(he,V.current);const ye=await E.current.createOffer();await E.current.setLocalDescription(ye),we({type:"CALL_REOFFER",roomId:o,content:"",extra:{target:s,callType:"video",sdp:JSON.stringify(ye)}})}i("video"),C(!1),d(V.current),Q(" ",{icon:""})}catch(ae){console.warn("[Call] Failed to add video:",ae),Q(" ",{icon:""})}return}H.forEach(ae=>{ae.enabled=!ae.enabled}),C(ae=>!ae)},[o,s]),te=m.useCallback(()=>{b(H=>!H)},[]);m.useEffect(()=>L4(ae=>{const he=ae.extra||{},ye=ae.sender;switch(console.log("[Call] WS received:",ae.type,"from",ye,"state=",W.current),ae.type){case"CALL_OFFER":{if(W.current!==be.IDLE){we({type:"CALL_BUSY",roomId:ae.roomId,content:"",extra:{target:ye}});return}X.current={sender:ye,roomId:ae.roomId,callType:he.callType||"audio",sdp:he.sdp},n(be.RINGING),a(ye),u(ae.roomId),i(he.callType||"audio"),M.current=setTimeout(()=>{W.current===be.RINGING&&(console.log("[Call] Ringing timeout (50s), cleaning up"),T())},5e4);break}case"CALL_ANSWER":{if(W.current!==be.CALLING||!E.current){console.warn("[Call] Got CALL_ANSWER but state=",W.current,"pc=",!!E.current);return}console.log("[Call] Got CALL_ANSWER, setting ACTIVE"),n(be.ACTIVE),M.current&&(clearTimeout(M.current),M.current=null),(async()=>{try{const ie=JSON.parse(he.sdp);await E.current.setRemoteDescription(new RTCSessionDescription(ie)),console.log("[Call] Remote answer set, flushing",I.current.length,"pending ICE");for(const ue of I.current)try{await E.current.addIceCandidate(new RTCIceCandidate(JSON.parse(ue)))}catch{}I.current=[],Y.current=Date.now(),N.current=setInterval(()=>{h(Math.floor((Date.now()-Y.current)/1e3))},1e3)}catch(ie){console.error("[Call] Failed to handle answer:",ie),T()}})();break}case"ICE_CANDIDATE":{if(!he.candidate)return;if(E.current&&E.current.remoteDescription)try{E.current.addIceCandidate(new RTCIceCandidate(JSON.parse(he.candidate)))}catch{}else I.current.push(he.candidate);break}case"CALL_REOFFER":{if(W.current!==be.ACTIVE||!E.current)return;console.log("[Call] Got CALL_REOFFER from",ye,"- renegotiating"),(async()=>{try{const ie=JSON.parse(he.sdp);await E.current.setRemoteDescription(new RTCSessionDescription(ie));const ue=await E.current.createAnswer();await E.current.setLocalDescription(ue),we({type:"CALL_REANSWER",roomId:ae.roomId,content:"",extra:{target:ye,sdp:JSON.stringify(ue)}}),he.callType==="video"&&i("video")}catch(ie){console.error("[Call] Failed to handle reoffer:",ie)}})();break}case"CALL_REANSWER":{if(W.current!==be.ACTIVE||!E.current)return;console.log("[Call] Got CALL_REANSWER from",ye),(async()=>{try{const ie=JSON.parse(he.sdp);await E.current.setRemoteDescription(new RTCSessionDescription(ie))}catch(ie){console.error("[Call] Failed to handle reanswer:",ie)}})();break}case"CALL_END":case"CALL_REJECT":case"CALL_BUSY":{if(console.log("[Call] Received",ae.type,"from",ye,"reason=",he.reason,"state=",W.current),M.current&&(clearTimeout(M.current),M.current=null),ae.type==="CALL_END"&&he.reason==="escalate"){E.current&&(E.current.close(),E.current=null),V.current&&(V.current.getTracks().forEach(ie=>ie.stop()),V.current=null),N.current&&(clearInterval(N.current),N.current=null),ee.current&&(clearTimeout(ee.current),ee.current=null),d(null),p(null),I.current=[],W.current=be.ESCALATING,n(be.ESCALATING),M.current=setTimeout(()=>{W.current===be.ESCALATING&&T()},8e3);break}if(ae.type==="CALL_BUSY")Q(" ",{icon:""});else if(ae.type==="CALL_REJECT")W.current===be.CALLING&&Q(" ",{icon:""});else if(ae.type==="CALL_END"){const ie=he.reason||"";ie==="unavailable"?Q("   ",{icon:""}):ie==="timeout"?Q(" ",{icon:""}):ie==="ice_failed"?Q(" ",{icon:""}):ie==="disconnect"&&Q(" ",{icon:""})}T();break}}}),[T]);const oe={callState:t,callType:r,remoteUser:s,roomId:o,localStream:c,remoteStream:f,isAudioMuted:v,isVideoOff:w,isMinimized:g,isReconnecting:j,callDuration:x,startCall:P,acceptCall:O,rejectCall:F,endCall:R,escalateToConference:$,finishEscalation:le,toggleAudio:G,toggleVideo:K,toggleMinimize:te,CALL_STATE:be};return l.jsx(Pm.Provider,{value:oe,children:e})}function Im(){const e=m.useContext(Pm);if(!e)throw new Error("useCall must be used within CallProvider");return e}const Rm=m.createContext(),Ge={IDLE:"idle",JOINING:"joining",ACTIVE:"active"},Dr=10;function g3({children:e}){const[t,n]=m.useState(Ge.IDLE),[r,i]=m.useState(null),[s,a]=m.useState(null),[o,u]=m.useState(null),[c,d]=m.useState({}),[f,p]=m.useState([]),[v,y]=m.useState(!1),[w,C]=m.useState(!1),[x,h]=m.useState(!1),g=m.useRef({}),b=m.useRef({}),j=m.useRef(null),_=m.useRef(Ge.IDLE),E=m.useRef(null),N=localStorage.getItem("username");m.useEffect(()=>{_.current=t},[t]),m.useEffect(()=>{E.current=r},[r]);const M=m.useRef(null);m.useEffect(()=>()=>{Object.values(g.current).forEach(R=>R.close()),g.current={},j.current&&(j.current.getTracks().forEach(R=>R.stop()),j.current=null)},[]);const I=m.useCallback(()=>{Object.values(g.current).forEach(R=>R.close()),g.current={},b.current={},j.current&&(j.current.getTracks().forEach(R=>R.stop()),j.current=null),u(null),d({}),p([]),_.current=Ge.IDLE,n(Ge.IDLE),E.current=null,i(null),a(null),y(!1),C(!1),h(!1)},[]),Y=m.useCallback(async(R,$,le,G)=>{g.current[R]&&g.current[R].close();const K=await jc({onIceCandidate:te=>{we({type:"CONF_ICE",roomId:le,content:"",extra:{target:R,confId:E.current,candidate:JSON.stringify(te)}})},onTrack:te=>{d(oe=>({...oe,[R]:te}))},onConnectionStateChange:te=>{te==="disconnected"?setTimeout(()=>{const oe=g.current[R];oe&&oe.connectionState!=="connected"&&(console.warn("[Conf] Peer",R,"did not recover, closing"),oe.close(),delete g.current[R],d(H=>{const ae={...H};return delete ae[R],ae}))},1e4):te==="failed"&&(g.current[R]&&(g.current[R].close(),delete g.current[R]),d(oe=>{const H={...oe};return delete H[R],H}))}});if($.getTracks().forEach(te=>K.addTrack(te,$)),g.current[R]=K,G){const te=await K.createOffer();await K.setLocalDescription(te),we({type:"CONF_OFFER",roomId:le,content:"",extra:{target:R,confId:E.current,sdp:JSON.stringify(te)}})}return K},[]),V=m.useCallback(async(R,$="video",le=null)=>{if(_.current===Ge.IDLE){if(!ks()){console.warn("[Conf] Cannot start conference  WebSocket not connected"),Q.error("   ");return}try{_.current=Ge.JOINING,n(Ge.JOINING),a(R);const G=await hi($);j.current=G,u(G);let K;try{K=await ce("/api/conference",{method:"POST",body:JSON.stringify({roomId:R})})}catch(oe){console.warn("[Conf] Create conference REST failed, trying to find active one:",oe);try{K=await ce(`/api/conference/room/${encodeURIComponent(R)}`)}catch{K=null}}const te=(K==null?void 0:K.confId)||(K==null?void 0:K.id);if(!te){console.error("[Conf] No conference ID available"),I();return}E.current=te,i(te);try{await ce(`/api/conference/${encodeURIComponent(te)}/join`,{method:"POST"})}catch(oe){console.warn("[Conf] Join REST failed, continuing with WS:",oe)}we({type:"CONF_JOIN",roomId:R,content:"",extra:{confId:te}}),we({type:"CHAT",roomId:R,content:$==="audio"?"   . !":"  . !"}),le&&we({type:"CONF_INVITE",roomId:R,content:"",extra:{target:le,confId:te,inviteLink:`${window.location.origin}/conference/${te}`,autoJoin:"true"}}),_.current=Ge.ACTIVE,n(Ge.ACTIVE)}catch(G){console.error("[Conf] Failed to start conference:",G),I()}}},[I]);m.useEffect(()=>{M.current=V},[V]);const X=m.useCallback(()=>{_.current!==Ge.IDLE&&(we({type:"CONF_LEAVE",roomId:s,content:"",extra:{confId:E.current}}),E.current&&ce(`/api/conference/${encodeURIComponent(E.current)}/leave`,{method:"POST"}).catch(()=>{}),I())},[s,I]),ee=m.useCallback(()=>{j.current&&(j.current.getAudioTracks().forEach(R=>{R.enabled=!R.enabled}),y(R=>!R))},[]),de=m.useCallback(()=>{j.current&&(j.current.getVideoTracks().forEach(R=>{R.enabled=!R.enabled}),C(R=>!R))},[]),W=m.useCallback(()=>{h(R=>!R)},[]),T=m.useCallback(async(R,$="video")=>{if(_.current!==Ge.IDLE)return null;if(!ks())return console.warn("[Conf] Cannot join conference  WebSocket not connected"),Q.error("   "),null;try{_.current=Ge.JOINING,n(Ge.JOINING);const le=await ce(`/api/conference/${encodeURIComponent(R)}`);if(!le)throw new Error("  ");const G=le.roomId||null;a(G),E.current=R,i(R);const K=await hi($);j.current=K,u(K);try{await ce(`/api/conference/${encodeURIComponent(R)}/join`,{method:"POST"})}catch(te){console.warn("[Conf] Join REST failed:",te)}return we({type:"CONF_JOIN",roomId:G||"",content:"",extra:{confId:R}}),_.current=Ge.ACTIVE,n(Ge.ACTIVE),G}catch(le){throw console.error("[Conf] Failed to join conference by id:",le),I(),le}},[I]),P=m.useCallback(()=>E.current?`${window.location.origin}/conference/${E.current}`:null,[]),O=m.useCallback((R,$=!1)=>{if(_.current!==Ge.ACTIVE){Q.error("  ");return}if(!E.current)return;if(1+Object.keys(g.current).length>=Dr){Q.error(` ${Dr} `);return}if(!ks()){Q.error("   ");return}we({type:"CONF_INVITE",roomId:s||"",content:"",extra:{target:R,confId:E.current,inviteLink:`${window.location.origin}/conference/${E.current}`,autoJoin:$?"true":""}}),Q.success(` : ${R}`)},[s]);m.useEffect(()=>_4($=>{const le=$.extra||{},G=$.sender;switch($.type){case"CONF_PEERS":{const K=le.peers||"",te=typeof K=="string"?K.split(",").filter(Boolean):Array.isArray(K)?K:[];p(te),j.current&&te.forEach(oe=>{oe!==N&&Y(oe,j.current,$.roomId,!0)});break}case"CONF_OFFER":{if(!j.current)return;(async()=>{try{const K=await Y(G,j.current,$.roomId,!1),te=JSON.parse(le.sdp);await K.setRemoteDescription(new RTCSessionDescription(te));const oe=b.current[G]||[];for(const ae of oe)try{await K.addIceCandidate(new RTCIceCandidate(JSON.parse(ae)))}catch{}delete b.current[G];const H=await K.createAnswer();await K.setLocalDescription(H),we({type:"CONF_ANSWER",roomId:$.roomId,content:"",extra:{target:G,confId:le.confId,sdp:JSON.stringify(H)}})}catch(K){console.error("[Conf] Failed to handle offer from",G,K)}})();break}case"CONF_ANSWER":{const K=g.current[G];if(!K)return;(async()=>{try{const te=JSON.parse(le.sdp);await K.setRemoteDescription(new RTCSessionDescription(te));const oe=b.current[G]||[];for(const H of oe)try{await K.addIceCandidate(new RTCIceCandidate(JSON.parse(H)))}catch{}delete b.current[G]}catch(te){console.error("[Conf] Failed to handle answer from",G,te)}})();break}case"CONF_ICE":{const K=g.current[G];if(K&&K.remoteDescription)try{K.addIceCandidate(new RTCIceCandidate(JSON.parse(le.candidate)))}catch(te){console.warn("[Conf] ICE add error:",te)}else b.current[G]||(b.current[G]=[]),b.current[G].push(le.candidate);break}case"CONF_JOIN":{if(G===N)return;p(K=>K.includes(G)?K:[...K,G]),Q(`${G} `,{icon:""});break}case"CONF_LEAVE":{g.current[G]&&(g.current[G].close(),delete g.current[G]),delete b.current[G],d(K=>{const te={...K};return delete te[G],te}),p(K=>K.filter(te=>te!==G)),Q(`${G}  `,{icon:""});break}case"CONF_INVITE":{const K=le.confId,te=le.inviteLink,oe=le.autoJoin==="true";if(!K||_.current!==Ge.IDLE)break;if(oe&&M.current){const H=$.roomId||"";M.current(H,"video");break}Q(H=>l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("span",{className:"font-medium",children:[" ",G,"   "]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{Q.dismiss(H.id),window.location.href=te||`/conference/${K}`},className:"rounded-lg bg-green-500 px-4 py-1.5 text-sm font-medium text-white hover:bg-green-600",children:""}),l.jsx("button",{onClick:()=>Q.dismiss(H.id),className:"rounded-lg bg-gray-500 px-4 py-1.5 text-sm font-medium text-white hover:bg-gray-600",children:""})]})]}),{duration:3e4,icon:""});break}}}),[N,Y]);const F={confState:t,confId:r,confRoomId:s,localStream:o,peerStreams:c,participants:f,isAudioMuted:v,isVideoOff:w,isMinimized:x,startConference:V,joinConferenceById:T,getInviteLink:P,inviteUser:O,leaveConference:X,toggleAudio:ee,toggleVideo:de,toggleMinimize:W,MAX_PARTICIPANTS:Dr,CONF_STATE:Ge};return l.jsx(Rm.Provider,{value:F,children:e})}function yl(){const e=m.useContext(Rm);if(!e)throw new Error("useConference must be used within ConferenceProvider");return e}function x3(){const{convInfo:e,isPending:t}=wr(),{openFriendSidebar:n,openSidebar:r}=Nt(),{startCall:i,callState:s,CALL_STATE:a}=Im(),{startConference:o,confState:u,CONF_STATE:c}=yl(),d=Jd(),f=e==null?void 0:e.friendInfo,p=e==null?void 0:e.isGroup,v=e==null?void 0:e.id,y=!p&&f&&d.has(f.username||f.id),w=Zt();m.useEffect(()=>{document.title=(f==null?void 0:f.fullname)||zi},[f]);function C(){window.matchMedia("(max-width: 640px)").matches?(w("/chat",{replace:!0}),document.title=zi):r()}function x(){!f||!v||s!==a.IDLE||i(f.id,v,"audio")}function h(){!f||!v||s!==a.IDLE||i(f.id,v,"video")}function g(){!v||u!==c.IDLE||o(v,"video")}function b(){!v||u!==c.IDLE||o(v,"audio")}const[j,_]=m.useState(!1),[E,N]=m.useState(""),[M,I]=m.useState([]),[Y,V]=m.useState(-1),[X,ee]=m.useState(!1),de=m.useRef(null),W=m.useRef(null);function T(){_(R=>(R?(N(""),I([]),V(-1)):setTimeout(()=>{var $;return($=de.current)==null?void 0:$.focus()},50),!R))}function P(R){const $=R.target.value;if(N($),clearTimeout(W.current),$.trim().length<2){I([]),V(-1);return}W.current=setTimeout(async()=>{ee(!0);try{const le=await ce(`/api/rooms/${encodeURIComponent(v)}/search?q=${encodeURIComponent($.trim())}&page=0&size=50`),G=(le==null?void 0:le.content)||le||[];I(G),V(G.length>0?0:-1)}catch{I([])}ee(!1)},400)}function O(R){if(!R)return;const $=document.getElementById(`msg-${R}`);$&&($.scrollIntoView({behavior:"smooth",block:"center"}),$.classList.add("ring-2","ring-bgAccent","rounded-xl"),setTimeout(()=>$.classList.remove("ring-2","ring-bgAccent","rounded-xl"),2e3))}function F(R){var le;if(M.length===0)return;let $=Y+R;$<0&&($=M.length-1),$>=M.length&&($=0),V($),O((le=M[$])==null?void 0:le.id)}return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"z-10 flex min-h-20 select-none items-center gap-2 rounded-b-xl border-b border-l border-r border-transparent bg-bgPrimary p-2 shadow-lg dark:border-LightShade/20 dark:bg-bgPrimary-dark",children:[l.jsx(At,{addClass:"md:hidden",onClick:C,children:l.jsx(At.Back,{})}),t?l.jsx(ze,{size:"medium"}):l.jsx(bm,{onClick:n,userData:f,online:y}),!t&&f&&v&&l.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[l.jsx("button",{onClick:T,className:`flex h-10 w-10 items-center justify-center rounded-full text-xl transition hover:bg-LightShade/20 active:scale-95 ${j?"text-bgAccent dark:text-bgAccent-dark":"text-textPrimary/70 dark:text-textPrimary-dark/70"}`,title:" ",children:l.jsx(Qa,{})}),!p&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:x,disabled:s!==a.IDLE,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/70 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/70",title:"",children:l.jsx(R1,{})}),l.jsx("button",{onClick:h,disabled:s!==a.IDLE,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/70 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/70",title:"",children:l.jsx(bc,{})})]}),p&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:b,disabled:u!==c.IDLE,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/70 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/70",title:" ",children:l.jsx(R1,{})}),l.jsx("button",{onClick:g,disabled:u!==c.IDLE,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/70 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/70",title:"",children:l.jsx(bc,{})}),l.jsx("button",{onClick:g,disabled:u!==c.IDLE,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/70 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/70",title:"",children:l.jsx(v4,{})})]})]})]}),j&&l.jsxs("div",{className:"flex items-center gap-2 border-b border-LightShade/20 bg-bgPrimary px-4 py-2 dark:bg-bgPrimary-dark",children:[l.jsx(Qa,{className:"flex-shrink-0 text-lg opacity-50"}),l.jsx("input",{ref:de,value:E,onChange:P,onKeyDown:R=>{R.key==="Enter"&&F(1),R.key==="Escape"&&T()},placeholder:"  ...",className:"flex-1 bg-transparent text-sm outline-none placeholder:opacity-50"}),X&&l.jsx(ze,{size:"small"}),M.length>0&&l.jsxs("span",{className:"text-xs opacity-60",children:[Y+1,"/",M.length]}),l.jsx("button",{onClick:()=>F(-1),className:"flex h-7 w-7 items-center justify-center rounded-full hover:bg-LightShade/20",children:l.jsx(Xv,{})}),l.jsx("button",{onClick:()=>F(1),className:"flex h-7 w-7 items-center justify-center rounded-full hover:bg-LightShade/20",children:l.jsx(Id,{})}),l.jsx("button",{onClick:T,className:"flex h-7 w-7 items-center justify-center rounded-full hover:bg-LightShade/20",children:l.jsx(Bi,{})})]}),l.jsx(h3,{friend:f})]})}function y3(){var a;const e=Je(),{convInfo:t}=wr(),n=t==null?void 0:t.id,r=(a=t==null?void 0:t.friendInfo)==null?void 0:a.id,{mutate:i,isPending:s}=pl({mutationFn:j5,onMutate:async o=>{await e.cancelQueries({queryKey:["friend",r]});const u=e.getQueryData(["friend",r]);return e.setQueryData(["friend",r],c=>c!=null&&c.pages?{...c,pages:c.pages.slice().map((d,f)=>f===0?d?[...d,o]:[o]:d)}:{pages:[[o]],pageParams:[0]}),{previousMessages:u}},onSuccess:o=>{n||e.setQueryData(["convInfo",r],u=>({...u,id:o.conversation_id}))},onError:(o,u,c)=>{Q.error(o.message),e.setQueryData(["friend",r],c.previousMessages)}});return{isSending:s,sendNewMessage:i}}let zl;const v3=new Uint8Array(16);function w3(){if(!zl&&(zl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zl(v3)}const Ye=[];for(let e=0;e<256;++e)Ye.push((e+256).toString(16).slice(1));function C3(e,t=0){return Ye[e[t+0]]+Ye[e[t+1]]+Ye[e[t+2]]+Ye[e[t+3]]+"-"+Ye[e[t+4]]+Ye[e[t+5]]+"-"+Ye[e[t+6]]+Ye[e[t+7]]+"-"+Ye[e[t+8]]+Ye[e[t+9]]+"-"+Ye[e[t+10]]+Ye[e[t+11]]+Ye[e[t+12]]+Ye[e[t+13]]+Ye[e[t+14]]+Ye[e[t+15]]}const b3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),W1={randomUUID:b3};function ps(e,t,n){if(W1.randomUUID&&!t&&!e)return W1.randomUUID();e=e||{};const r=e.random||(e.rng||w3)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return C3(r)}function S3({isOpen:e,onClose:t,onSubmit:n}){const[r,i]=m.useState(""),[s,a]=m.useState(["",""]),[o,u]=m.useState(!1),[c,d]=m.useState(!1),[f,p]=m.useState(!1);if(!e)return null;function v(){s.length>=10||a([...s,""])}function y(x){s.length<=2||a(s.filter((h,g)=>g!==x))}function w(x,h){const g=[...s];g[x]=h,a(g)}async function C(x){x.preventDefault();const h=r.trim(),g=s.map(b=>b.trim()).filter(Boolean);if(!(!h||g.length<2)){p(!0);try{await n({question:h,options:g,multiChoice:o,anonymous:c}),i(""),a(["",""]),u(!1),d(!1),t()}catch{}p(!1)}}return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:t,children:l.jsxs("div",{className:"mx-4 w-full max-w-md rounded-2xl bg-bgPrimary p-6 shadow-2xl dark:bg-bgPrimary-dark",onClick:x=>x.stopPropagation(),children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold",children:" "}),l.jsx("button",{onClick:t,className:"flex h-8 w-8 items-center justify-center rounded-full hover:bg-LightShade/20",children:l.jsx(Bi,{className:"text-xl"})})]}),l.jsxs("form",{onSubmit:C,className:"space-y-4",children:[l.jsx("input",{value:r,onChange:x=>i(x.target.value),placeholder:"",maxLength:300,className:"w-full rounded-xl border border-LightShade/30 bg-transparent px-4 py-3 text-sm outline-none focus:border-bgAccent dark:border-LightShade/20"}),l.jsxs("div",{className:"space-y-2",children:[s.map((x,h)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:x,onChange:g=>w(h,g.target.value),placeholder:` ${h+1}`,maxLength:100,className:"flex-1 rounded-lg border border-LightShade/30 bg-transparent px-3 py-2 text-sm outline-none focus:border-bgAccent dark:border-LightShade/20"}),s.length>2&&l.jsx("button",{type:"button",onClick:()=>y(h),className:"flex h-8 w-8 items-center justify-center rounded-full text-red-400 hover:bg-red-500/10",children:l.jsx(Td,{})})]},h)),s.length<10&&l.jsxs("button",{type:"button",onClick:v,className:"flex items-center gap-1 text-sm text-bgAccent hover:underline dark:text-bgAccent-dark",children:[l.jsx(Ad,{}),"  "]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:o,onChange:()=>u(!o),className:"accent-bgAccent"}),"-"]}),l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:c,onChange:()=>d(!c),className:"accent-bgAccent"}),""]})]}),l.jsx("button",{type:"submit",disabled:f||r.trim().length===0||s.filter(x=>x.trim()).length<2,className:"w-full rounded-xl bg-bgAccent py-3 text-sm font-semibold text-textPrimary-dark transition hover:bg-bgAccentDim active:scale-[0.98] disabled:opacity-50 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",children:f?"...":" "})]})]})})}function k3({replyTo:e,setReplyTo:t}){var ye;const{convInfo:n,isPending:r,isError:i}=wr(),[s,a]=m.useState(""),{isSending:o,sendNewMessage:u}=y3(),{user:c}=sn(),d=n==null?void 0:n.id,f=(ye=n==null?void 0:n.friendInfo)==null?void 0:ye.id,p=c==null?void 0:c.id,v=m.useRef(null),y=m.useRef(null),w=Je(),[C,x]=m.useState(!1),[h,g]=m.useState(0),b=m.useRef(null),j=m.useRef([]),_=m.useRef(null),E=m.useRef(null),[N,M]=m.useState(!1),[I,Y]=m.useState(0),V=m.useRef(null),X=m.useRef([]),ee=m.useRef(null),de=m.useRef(null),W=m.useRef(null),T=m.useRef(null),[P,O]=m.useState(!1),[F,R]=m.useState(!1);async function $({question:ie,options:ue,multiChoice:pe,anonymous:ct}){if(d)try{await _5(d,{question:ie,options:ue,multiChoice:pe,anonymous:ct}),Q.success(" ")}catch(ke){throw Q.error(ke.message||"  "),ke}}function le(ie){w.setQueryData(["friend",f],ue=>ue&&{...ue,pages:ue.pages.map((pe,ct)=>ct===0?[...pe||[],ie]:pe)})}function G(ie){var pe;if(ie.preventDefault(),(pe=v.current)==null||pe.focus(),!s)return;const ue={id:ps(),conversation_id:d,content:s,friendUserId:f,sender_id:p,created_at:new Date,optimistic:!0,...e?{replyToId:e.id,replyToSender:e.sender_id,replyToContent:e.content||" "}:{}};a(""),t==null||t(null),u(ue,{onError:(ct,ke)=>a(ke.content)})}async function K(ie){var ke;const ue=(ke=ie.target.files)==null?void 0:ke[0];if(!ue)return;ie.target.value="",O(!0);const pe=ps(),ct={id:pe,conversation_id:d,content:` ${ue.name}`,sender_id:p,created_at:new Date().toISOString(),type:"CHAT",fileUrl:null,fileName:ue.name,optimistic:!0};le(ct);try{await N5({id:pe,conversation_id:d,friendUserId:f,file:ue})}catch(Ee){Q.error(Ee.message||"  ")}finally{O(!1)}}const te=m.useCallback(async()=>{try{const ie=await navigator.mediaDevices.getUserMedia({audio:!0}),ue=new MediaRecorder(ie,{mimeType:j3()});j.current=[],ue.ondataavailable=pe=>{pe.data.size>0&&j.current.push(pe.data)},ue.onstop=async()=>{ie.getTracks().forEach(Ee=>Ee.stop()),clearInterval(_.current);const pe=(Date.now()-E.current)/1e3,ct=new Blob(j.current,{type:ue.mimeType});if(pe<1){Q.error("  "),x(!1),g(0);return}O(!0),x(!1),g(0);const ke=ps();le({id:ke,conversation_id:d,content:"  ",sender_id:p,created_at:new Date().toISOString(),type:"VOICE",duration:Math.round(pe),optimistic:!0});try{await E5({id:ke,conversation_id:d,friendUserId:f,blob:ct,duration:pe})}catch(Ee){Q.error(Ee.message||"  ")}finally{O(!1)}},b.current=ue,ue.start(),E.current=Date.now(),x(!0),g(0),_.current=setInterval(()=>{g(Math.floor((Date.now()-E.current)/1e3))},1e3)}catch{Q.error("   ")}},[d,f,p]);function oe(){var ie;(ie=b.current)==null||ie.stop()}const H=m.useCallback(async()=>{try{const ie=await navigator.mediaDevices.getUserMedia({video:{width:400,height:400,facingMode:"user"},audio:!0});W.current=ie,T.current&&(T.current.srcObject=ie,T.current.play().catch(()=>{}));const ue=new MediaRecorder(ie,{mimeType:N3()});X.current=[],ue.ondataavailable=pe=>{pe.data.size>0&&X.current.push(pe.data)},ue.onstop=async()=>{ie.getTracks().forEach(Ee=>Ee.stop()),clearInterval(ee.current);const pe=(Date.now()-de.current)/1e3,ct=new Blob(X.current,{type:ue.mimeType});if(pe<1){Q.error("  "),M(!1),Y(0);return}O(!0),M(!1),Y(0);const ke=ps();le({id:ke,conversation_id:d,content:" ",sender_id:p,created_at:new Date().toISOString(),type:"VIDEO_CIRCLE",duration:Math.round(pe),optimistic:!0});try{await L5({id:ke,conversation_id:d,friendUserId:f,blob:ct,duration:pe})}catch(Ee){Q.error(Ee.message||"  ")}finally{O(!1)}},V.current=ue,ue.start(),de.current=Date.now(),M(!0),Y(0),ee.current=setInterval(()=>{Y(Math.floor((Date.now()-de.current)/1e3))},1e3),setTimeout(()=>{var pe;((pe=V.current)==null?void 0:pe.state)==="recording"&&V.current.stop()},6e4)}catch{Q.error("     ")}},[d,f,p]);function ae(){var ie;(ie=V.current)==null||ie.stop()}function he(ie){const ue=Math.floor(ie/60),pe=ie%60;return`${ue}:${pe.toString().padStart(2,"0")}`}return i?null:N?l.jsx("div",{className:"px-4 py-2",children:l.jsxs("div",{className:"mx-auto flex max-w-3xl flex-col items-center gap-3 rounded-2xl border border-transparent bg-bgPrimary p-4 shadow-lg dark:border-LightShade/20 dark:bg-LightShade/20",children:[l.jsxs("div",{className:"relative h-48 w-48 overflow-hidden rounded-full border-4 border-red-500 shadow-lg",children:[l.jsx("video",{ref:T,autoPlay:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover",style:{transform:"scaleX(-1)"}}),l.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 rounded-full bg-black/60 px-3 py-0.5 text-sm font-mono text-white",children:he(I)})]}),l.jsx("button",{onClick:ae,className:"flex h-12 w-12 items-center justify-center rounded-full bg-red-500 text-white shadow-lg transition hover:bg-red-600 active:scale-95",title:" ",children:l.jsx(T1,{className:"text-2xl"})}),l.jsx("p",{className:"text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:". 60 .    ."})]})}):C?l.jsx("div",{className:"px-4 py-2",children:l.jsxs("div",{className:"mx-auto flex max-w-3xl items-center gap-3 rounded-full border border-transparent bg-bgPrimary px-4 py-2 shadow-lg dark:border-LightShade/20 dark:bg-LightShade/20",children:[l.jsx("span",{className:"h-3 w-3 animate-pulse rounded-full bg-red-500"}),l.jsx("span",{className:"font-mono text-sm",children:he(h)}),l.jsx("span",{className:"flex-1 text-sm text-textPrimary/50 dark:text-textPrimary-dark/50",children:" ..."}),l.jsx("button",{onClick:oe,className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-500 text-white transition hover:bg-red-600 active:scale-95",title:"  ",children:l.jsx(T1,{className:"text-xl"})})]})}):l.jsxs("div",{className:"px-4 py-2",children:[e&&l.jsxs("div",{className:"mx-auto mb-1.5 flex max-w-3xl items-center gap-2 rounded-xl bg-bgPrimary px-3 py-2 shadow dark:bg-LightShade/20",children:[l.jsx(Jp,{className:"flex-shrink-0 text-lg text-bgAccent dark:text-bgAccent-dark"}),l.jsxs("div",{className:"min-w-0 flex-1 border-l-2 border-bgAccent pl-2 dark:border-bgAccent-dark",children:[l.jsx("p",{className:"truncate text-xs font-semibold text-bgAccent dark:text-bgAccent-dark",children:e.sender_id||""}),l.jsx("p",{className:"truncate text-xs text-textPrimary/60 dark:text-textPrimary-dark/60",children:e.content||" "})]}),l.jsx("button",{type:"button",onClick:()=>t==null?void 0:t(null),className:"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full text-lg transition hover:bg-LightShade/20",children:l.jsx(Bi,{})})]}),l.jsxs("form",{onSubmit:G,className:"mx-auto grid max-w-3xl grid-cols-[auto_auto_1fr_auto_auto_auto] items-center gap-1 overflow-hidden rounded-full border border-transparent bg-bgPrimary shadow-lg dark:border-LightShade/20 dark:bg-LightShade/20",children:[l.jsx("label",{htmlFor:"fileAttach",className:"flex h-10 w-10 cursor-pointer items-center justify-center rounded-full text-xl text-textPrimary/60 transition hover:bg-LightShade/20 active:scale-95 dark:text-textPrimary-dark/60 ml-1",title:" ",children:P?l.jsx(ze,{size:"small"}):l.jsx(e4,{})}),l.jsx("input",{ref:y,id:"fileAttach",type:"file",className:"hidden",onChange:K,disabled:r||P}),l.jsx("button",{type:"button",onClick:()=>R(!0),disabled:r||P,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/60 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/60",title:" ",children:l.jsx(t4,{})}),l.jsx("label",{htmlFor:"inputMessage",className:"sr-only"}),l.jsx("input",{disabled:r,className:"h-12 w-full bg-transparent pr-2 outline-none",ref:v,value:s,onChange:ie=>a(ie.target.value),type:"text",placeholder:"",id:"inputMessage",autoComplete:"off"}),l.jsx("button",{type:"button",onClick:te,disabled:r||P,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/60 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/60",title:" ",children:l.jsx(Ks,{})}),l.jsx("button",{type:"button",onClick:H,disabled:r||P,className:"flex h-10 w-10 items-center justify-center rounded-full text-xl text-textPrimary/60 transition hover:bg-LightShade/20 active:scale-95 disabled:opacity-40 dark:text-textPrimary-dark/60",title:"",children:l.jsx(bc,{})}),l.jsx("button",{className:"m-1 flex h-10 w-10 items-center justify-center rounded-full bg-bgAccent text-2xl text-textPrimary-dark hover:bg-bgAccentDim active:scale-95 disabled:opacity-70 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",disabled:o||r||P,onClick:G,type:"submit",children:o?l.jsx(ze,{size:"small"}):l.jsx(r4,{"aria-label":"send button"})})]}),l.jsx(S3,{isOpen:F,onClose:()=>R(!1),onSubmit:$})]})}function j3(){return MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":MediaRecorder.isTypeSupported("audio/ogg;codecs=opus")?"audio/ogg;codecs=opus":MediaRecorder.isTypeSupported("audio/mp4")?"audio/mp4":""}function N3(){return MediaRecorder.isTypeSupported("video/webm;codecs=vp9,opus")?"video/webm;codecs=vp9,opus":MediaRecorder.isTypeSupported("video/webm;codecs=vp8,opus")?"video/webm;codecs=vp8,opus":MediaRecorder.isTypeSupported("video/webm")?"video/webm":MediaRecorder.isTypeSupported("video/mp4")?"video/mp4":""}function E3({isOpen:e,onClose:t,messages:n=[]}){var x;const[r,i]=m.useState([]),[s,a]=m.useState(!1),[o,u]=m.useState(""),[c,d]=m.useState([]),[f,p]=m.useState(!1),v=localStorage.getItem("username");m.useEffect(()=>{e&&(a(!0),d([]),u(""),ce("/api/rooms").then(h=>{Array.isArray(h)&&i(h.map(g=>{var b;return{id:g.id,name:g.type==="ROOM"?g.name||"":((b=g.members)==null?void 0:b.find(j=>j!==v))||g.id,type:g.type,members:g.members||[]}}))}).catch(()=>{}).finally(()=>a(!1)))},[e,v]);const y=m.useCallback(h=>{d(g=>g.find(j=>j.id===h.id)?g.filter(j=>j.id!==h.id):[...g,h])},[]);function w(){if(c.length===0||n.length===0)return;p(!0);let h=0;for(const g of c)for(const b of n){const j=(b==null?void 0:b.content)||(b==null?void 0:b.fileName)||" ";we({type:"CHAT",roomId:g.id,content:`   ${b.sender_id||"?"}: ${j}`,id:ps()})&&h++}if(p(!1),h>0){const g=c.map(b=>b.name).join(", ");Q.success(n.length===1?`  ${g}`:`${n.length} .   ${g}`),t()}else Q.error("  .  .")}const C=r.filter(h=>h.name.toLowerCase().includes(o.toLowerCase()));return e?l.jsx("div",{className:"fixed inset-0 z-[9000] flex items-center justify-center bg-black/50 p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-bgPrimary shadow-2xl dark:bg-bgPrimary-dark",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-LightShade/20 px-4 py-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wa,{className:"text-xl text-bgAccent dark:text-bgAccent-dark"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" ",n.length>1?`(${n.length})`:""]})]}),l.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-LightShade/20",children:l.jsx(vo,{className:"text-2xl"})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"mb-3 max-h-20 overflow-y-auto rounded-lg bg-LightShade/10 px-3 py-2 text-sm dark:bg-LightShade/5",children:n.length===1?l.jsx("p",{className:"truncate text-textPrimary/70 dark:text-textPrimary-dark/70",children:((x=n[0])==null?void 0:x.content)||" "}):l.jsxs("p",{className:"text-textPrimary/70 dark:text-textPrimary-dark/70",children:[" ",n.length,"   "]})}),l.jsx("input",{type:"text",value:o,onChange:h=>u(h.target.value),placeholder:" ...",className:"mb-3 w-full rounded-lg border border-LightShade/30 bg-transparent px-3 py-2 outline-none focus:border-bgAccent dark:border-LightShade/20 dark:focus:border-bgAccent-dark"}),l.jsx("div",{className:"max-h-64 overflow-y-auto",children:s?l.jsx("p",{className:"py-4 text-center text-sm text-textPrimary/50 dark:text-textPrimary-dark/50",children:"..."}):C.length===0?l.jsx("p",{className:"py-4 text-center text-sm text-textPrimary/50 dark:text-textPrimary-dark/50",children:" "}):C.map(h=>{const g=c.some(b=>b.id===h.id);return l.jsxs("button",{onClick:()=>y(h),className:`flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-left transition hover:bg-LightShade/10 ${g?"bg-bgAccent/10 dark:bg-bgAccent-dark/10":""}`,children:[l.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center overflow-hidden rounded-full",children:l.jsx("img",{src:hr(h.name||h.id),alt:h.name,className:"h-full w-full object-cover"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"truncate text-sm font-medium",children:h.name}),l.jsx("p",{className:"text-xs text-textPrimary/50 dark:text-textPrimary-dark/50",children:h.type==="ROOM"?"":" "})]}),l.jsx("span",{className:"text-xl",children:g?l.jsx(rm,{className:"text-bgAccent dark:text-bgAccent-dark"}):l.jsx(nm,{className:"opacity-30"})})]},h.id)})}),c.length>0&&l.jsxs("button",{onClick:w,disabled:f,className:"mt-3 flex w-full items-center justify-center gap-2 rounded-xl bg-bgAccent py-2.5 text-sm font-semibold text-textPrimary-dark transition hover:bg-bgAccentDim active:scale-[0.98] disabled:opacity-50 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",children:[l.jsx(Wa,{})," (",c.length,")"]})]})]})}):null}function Z1(){var W;const[e,t]=m.useState(!1),[n,r]=m.useState([]),[i,s]=m.useState(null),[a,o]=m.useState([]),[u,c]=m.useState(!1),[d,f]=m.useState([]),[p,v]=m.useState(null),{convInfo:y}=wr(),w=Je(),C=(W=y==null?void 0:y.friendInfo)==null?void 0:W.id,x=m.useCallback(T=>{r(P=>P.find(F=>F.id===T.id)?P.filter(F=>F.id!==T.id):[...P,T])},[]),h=m.useCallback(T=>{t(!0),r([T])},[]),g=m.useCallback(()=>{t(!1),r([])},[]),b=m.useCallback(T=>{o([T]),c(!0)},[]),j=m.useCallback(()=>{n.length!==0&&(o(n),c(!0))},[n]),_=m.useCallback(()=>{c(!1),o([]),g()},[g]),E=m.useCallback(T=>{w.setQueryData(["friend",C],P=>P&&{...P,pages:P.pages.map(O=>O.filter(F=>F.id!==T.id))}),Q.success(" ")},[w,C]),N=m.useCallback(T=>{const P=y==null?void 0:y.id;P&&(we({type:"DELETE",roomId:P,id:T.id}),w.setQueryData(["friend",C],O=>O&&{...O,pages:O.pages.map(F=>F.filter(R=>R.id!==T.id))}),Q.success("   "))},[w,C,y]),M=m.useCallback(()=>{n.forEach(T=>E(T)),g()},[n,E,g]);m.useEffect(()=>{const T=y==null?void 0:y.id;if(!T){f([]);return}k5(T).then(P=>f(P||[])).catch(()=>f([]))},[y==null?void 0:y.id]),m.useEffect(()=>{if(!(y==null?void 0:y.id))return;const P=w.getQueryCache().subscribe(O=>{var $,le,G,K;if(((le=($=O==null?void 0:O.query)==null?void 0:$.queryKey)==null?void 0:le[0])!=="friend"||((K=(G=O==null?void 0:O.query)==null?void 0:G.queryKey)==null?void 0:K[1])!==C)return;const F=w.getQueryData(["friend",C]);if(!(F!=null&&F.pages))return;const R=[];for(const te of F.pages)for(const oe of te)oe.pinned&&R.push(oe);f(R)});return()=>P==null?void 0:P()},[y==null?void 0:y.id,C,w]);const I=m.useCallback(T=>{const P=y==null?void 0:y.id;P&&(we({type:"PIN",roomId:P,id:T.id}),w.setQueryData(["friend",C],O=>O&&{...O,pages:O.pages.map(F=>F.map(R=>R.id===T.id?{...R,pinned:!0,pinnedBy:localStorage.getItem("username")}:R))}),f(O=>[...O.filter(F=>F.id!==T.id),{...T,pinned:!0}]),Q.success(" "))},[y,w,C]),Y=m.useCallback(T=>{const P=y==null?void 0:y.id;P&&(we({type:"UNPIN",roomId:P,id:T.id}),w.setQueryData(["friend",C],O=>O&&{...O,pages:O.pages.map(F=>F.map(R=>R.id===T.id?{...R,pinned:!1,pinnedBy:null}:R))}),f(O=>O.filter(F=>F.id!==T.id)),Q.success(" "))},[y,w,C]),V=d.length>0?d[d.length-1]:null,X=m.useCallback((T,P)=>{var le;const O=y==null?void 0:y.id;if(!O||!(T!=null&&T.id))return;const F=localStorage.getItem("username"),$=((le=T==null?void 0:T.reactions)==null?void 0:le.find(G=>{var K;return G.emoji===P&&((K=G.users)==null?void 0:K.includes(F))}))?"REACTION_REMOVE":"REACTION";we({type:$,roomId:O,id:T.id,extra:{emoji:P}}),w.setQueryData(["friend",C],G=>G&&{...G,pages:G.pages.map(K=>K.map(te=>{if(te.id!==T.id)return te;let oe=[...te.reactions||[]];if($==="REACTION"){const H=oe.findIndex(ae=>ae.emoji===P);H>=0?oe[H]={...oe[H],users:[...oe[H].users||[],F],count:(oe[H].count||0)+1}:oe.push({emoji:P,users:[F],count:1})}else{const H=oe.findIndex(ae=>ae.emoji===P);if(H>=0){const ae=(oe[H].users||[]).filter(he=>he!==F);ae.length===0?oe.splice(H,1):oe[H]={...oe[H],users:ae,count:ae.length}}}return{...te,reactions:oe}}))})},[y,w,C]),ee=m.useCallback(async(T,P)=>{try{const O=await ce(`/api/polls/${T}/vote`,{method:"POST",body:JSON.stringify({optionId:P})});O&&w.setQueryData(["friend",C],F=>F&&{...F,pages:F.pages.map(R=>R.map($=>{var le;return((le=$.pollData)==null?void 0:le.pollId)===T?{...$,pollData:O}:$}))})}catch(O){Q.error(O.message||" ")}},[w,C]),de=m.useCallback(async T=>{const P=y==null?void 0:y.id;if(!(!P||!(T!=null&&T.id)))try{const O=await ce(`/api/rooms/${encodeURIComponent(P)}/messages/${encodeURIComponent(T.id)}/readers`);v({messageId:T.id,readers:(O==null?void 0:O.readers)||[],count:(O==null?void 0:O.count)||0})}catch{Q.error("  ")}},[y]);return l.jsxs("div",{className:`relative col-span-2 grid h-screen-safe w-full grid-cols-1 overflow-hidden md:col-span-1 ${V?"grid-rows-[auto_auto_1fr_auto]":"grid-rows-[auto_1fr_auto]"}`,children:[l.jsx(x3,{}),V&&l.jsxs("div",{className:"flex items-center gap-2 border-b border-LightShade/20 bg-bgPrimary/80 px-4 py-2 backdrop-blur-sm dark:bg-bgPrimary-dark/80",children:[l.jsx(Sc,{className:"flex-shrink-0 text-base text-bgAccent dark:text-bgAccent-dark"}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-xs font-semibold text-bgAccent dark:text-bgAccent-dark",children:" "}),l.jsx("p",{className:"truncate text-sm text-textPrimary dark:text-textPrimary-dark",children:V.content||" "})]}),l.jsx("button",{onClick:()=>Y(V),className:"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full transition hover:bg-LightShade/20",title:"",children:l.jsx(vo,{className:"text-base opacity-60"})})]}),l.jsx(c3,{selectionMode:e,selectedMessages:n,toggleSelectMessage:x,enterSelectionMode:h,onReply:s,onForward:b,onPin:I,onUnpin:Y,onDeleteLocal:E,onDeleteForAll:N,onReaction:X,onVotePoll:ee,onShowReaders:de}),e?l.jsx("div",{className:"border-t border-LightShade/20 bg-bgPrimary px-4 py-3 dark:bg-bgPrimary-dark",children:l.jsxs("div",{className:"mx-auto flex max-w-3xl items-center justify-between",children:[l.jsxs("span",{className:"text-sm font-medium",children:[": ",n.length]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:j,disabled:n.length===0,className:"flex items-center gap-1.5 rounded-lg bg-bgAccent px-4 py-2 text-sm font-medium text-textPrimary-dark transition hover:bg-bgAccentDim active:scale-95 disabled:opacity-50 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",children:[l.jsx(Wa,{}),""]}),l.jsxs("button",{onClick:M,disabled:n.length===0,className:"flex items-center gap-1.5 rounded-lg bg-red-500/80 px-4 py-2 text-sm font-medium text-white transition hover:bg-red-600 active:scale-95 disabled:opacity-50",children:[l.jsx(Td,{}),""]}),l.jsx("button",{onClick:g,className:"flex h-9 w-9 items-center justify-center rounded-full text-lg transition hover:bg-LightShade/20",children:l.jsx(Bi,{})})]})]})}):l.jsx(k3,{replyTo:i,setReplyTo:s}),l.jsx(E3,{isOpen:u,onClose:_,messages:a}),p&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>v(null),children:l.jsxs("div",{className:"mx-4 w-full max-w-xs rounded-2xl bg-bgPrimary p-5 shadow-2xl dark:bg-bgPrimary-dark",onClick:T=>T.stopPropagation(),children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("h3",{className:"text-base font-semibold",children:[" (",p.count,")"]}),l.jsx("button",{onClick:()=>v(null),className:"flex h-7 w-7 items-center justify-center rounded-full hover:bg-LightShade/20",children:l.jsx(Bi,{className:"text-lg"})})]}),p.readers.length===0?l.jsx("p",{className:"text-sm opacity-60",children:"   "}):l.jsx("ul",{className:"max-h-60 space-y-2 overflow-y-auto",children:p.readers.map(T=>{var P;return l.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-bgAccent/20 text-xs font-bold uppercase",children:(P=T.username)==null?void 0:P.charAt(0)}),l.jsx("span",{className:"font-medium",children:T.username}),T.readAt&&l.jsx("span",{className:"ml-auto text-xs opacity-50",children:new Date(T.readAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},T.username)})})]})})]})}let Fe=null,ua=null;function G1(e=!1){Nc();try{Fe=new(window.AudioContext||window.webkitAudioContext),Fe.state==="suspended"&&Fe.resume().catch(()=>{});const t=()=>{if(Fe)if(e){const n=Fe.createOscillator(),r=Fe.createGain();n.type="sine",n.frequency.value=425,r.gain.setValueAtTime(.1,Fe.currentTime),r.gain.exponentialRampToValueAtTime(.001,Fe.currentTime+1),n.connect(r),r.connect(Fe.destination),n.start(Fe.currentTime),n.stop(Fe.currentTime+1)}else[440,480].forEach((n,r)=>{const i=Fe.createOscillator(),s=Fe.createGain();i.type="sine",i.frequency.value=n,s.gain.setValueAtTime(.2,Fe.currentTime),s.gain.exponentialRampToValueAtTime(.001,Fe.currentTime+.8),i.connect(s),s.connect(Fe.destination),i.start(Fe.currentTime+r*.15),i.stop(Fe.currentTime+.8+r*.15)})};t(),ua=setInterval(t,e?3500:2e3)}catch(t){console.warn("[Ringtone] Failed to play:",t)}}function Nc(){ua&&(clearInterval(ua),ua=null),Fe&&(Fe.close().catch(()=>{}),Fe=null)}function ou(e){const t=Math.floor(e/60).toString().padStart(2,"0"),n=(e%60).toString().padStart(2,"0");return`${t}:${n}`}function L3(){const{callState:e,callType:t,remoteUser:n,roomId:r,localStream:i,remoteStream:s,isAudioMuted:a,isVideoOff:o,isMinimized:u,isReconnecting:c,callDuration:d,acceptCall:f,rejectCall:p,endCall:v,escalateToConference:y,finishEscalation:w,toggleAudio:C,toggleVideo:x,toggleMinimize:h,CALL_STATE:g}=Im(),{startConference:b,confState:j,CONF_STATE:_}=yl(),E=m.useCallback(()=>{const F=r,R=n;F&&(y(),b(F,"video",R||null))},[r,n,y,b]);m.useEffect(()=>{e===g.ESCALATING&&j===_.ACTIVE&&w()},[e,j,g.ESCALATING,_.ACTIVE,w]);const N=m.useRef(null),M=m.useRef(null),I=m.useRef(null),[Y,V]=m.useState({x:16,y:16}),X=m.useRef(!1),ee=m.useRef({x:0,y:0});m.useEffect(()=>{N.current&&i&&(N.current.srcObject=i,N.current.play().catch(()=>{}))},[i,u,o]),m.useEffect(()=>{M.current&&s&&(M.current.srcObject=s,M.current.play().catch(()=>{}))},[s,u,e]),m.useEffect(()=>{I.current&&s&&(I.current.srcObject=s,I.current.play().catch(()=>{}))},[s,u]),m.useEffect(()=>{var F,R;if(e===g.RINGING){G1(!1);try{(F=navigator.vibrate)==null||F.call(navigator,[300,200,300,200,300])}catch{}}else if(e===g.CALLING)G1(!0);else{Nc();try{(R=navigator.vibrate)==null||R.call(navigator,0)}catch{}}return()=>{var $;Nc();try{($=navigator.vibrate)==null||$.call(navigator,0)}catch{}}},[e,g.RINGING,g.CALLING]),m.useEffect(()=>{if(!u)return;const F=$=>{if(!X.current)return;const le=$.touches?$.touches[0].clientX:$.clientX,G=$.touches?$.touches[0].clientY:$.clientY;V({x:le-ee.current.x,y:G-ee.current.y})},R=()=>{X.current=!1};return window.addEventListener("mousemove",F),window.addEventListener("mouseup",R),window.addEventListener("touchmove",F,{passive:!1}),window.addEventListener("touchend",R),()=>{window.removeEventListener("mousemove",F),window.removeEventListener("mouseup",R),window.removeEventListener("touchmove",F),window.removeEventListener("touchend",R)}},[u]);const de=F=>{X.current=!0;const R=F.touches?F.touches[0].clientX:F.clientX,$=F.touches?F.touches[0].clientY:F.clientY;ee.current={x:R-Y.x,y:$-Y.y}};if(e===g.IDLE)return null;if(e===g.ESCALATING)return l.jsx("div",{className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-gray-900/95 text-white",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(Za,{className:"text-5xl text-blue-400 animate-pulse"}),l.jsx("p",{className:"text-xl font-semibold",children:"  ..."})]})});const W=t==="video",T=e===g.RINGING,P=e===g.CALLING,O=e===g.ACTIVE;return u&&(O||P||T)?l.jsxs("div",{onMouseDown:de,onTouchStart:de,style:{left:Y.x,top:Y.y},className:"fixed z-[9999] flex select-none items-center gap-2 rounded-2xl bg-gray-900/95 p-2 shadow-2xl backdrop-blur-sm",children:[l.jsx("div",{className:`h-16 w-16 flex-shrink-0 overflow-hidden rounded-xl ${T?"ring-2 ring-green-400 animate-pulse":""}`,children:W&&s&&!T?l.jsx("video",{ref:I,autoPlay:!0,playsInline:!0,className:"h-full w-full object-cover"}):l.jsx("img",{src:hr(n),alt:n,className:"h-full w-full object-cover"})}),l.jsxs("div",{className:"flex flex-col text-white",children:[l.jsx("span",{className:"text-xs font-semibold truncate max-w-[80px]",children:n}),l.jsx("span",{className:`text-xs ${T?"text-green-400 animate-pulse":c?"text-yellow-400 animate-pulse":"text-green-400"}`,children:O?c?"...":ou(d):T?"...":"..."})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[T?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:p,className:"flex h-8 w-8 items-center justify-center rounded-full bg-red-500 text-sm text-white transition active:scale-90",title:"",children:l.jsx(fi,{})}),l.jsx("button",{onClick:f,className:"flex h-8 w-8 items-center justify-center rounded-full bg-green-500 text-sm text-white transition active:scale-90",title:"",children:l.jsx(I1,{})})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:C,className:`flex h-8 w-8 items-center justify-center rounded-full text-sm text-white transition active:scale-90 ${a?"bg-red-500":"bg-white/20"}`,children:a?l.jsx(Ba,{}):l.jsx(Ks,{})}),l.jsx("button",{onClick:x,className:`flex h-8 w-8 items-center justify-center rounded-full text-sm text-white transition active:scale-90 ${o||!W?"bg-red-500/70":"bg-white/20"}`,title:W?o?" ":" ":" ",children:o||!W?l.jsx(Ha,{}):l.jsx(za,{})}),l.jsx("button",{onClick:v,className:"flex h-8 w-8 items-center justify-center rounded-full bg-red-500 text-sm text-white transition active:scale-90",title:"",children:l.jsx(fi,{})})]}),l.jsx("button",{onClick:h,className:"flex h-8 w-8 items-center justify-center rounded-full bg-white/20 text-sm text-white transition active:scale-90",title:"",children:l.jsx(Xp,{})})]})]}):l.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col bg-gray-900/95 text-white",children:[l.jsx("video",{ref:M,autoPlay:!0,playsInline:!0,className:W&&O?"absolute inset-0 h-full w-full object-cover":"absolute w-px h-px opacity-0 pointer-events-none"}),W&&O&&l.jsx("div",{className:"absolute left-1/2 top-4 z-20 -translate-x-1/2 rounded-full bg-black/50 px-4 py-1.5 backdrop-blur-sm",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium",children:n}),c?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-yellow-400 animate-pulse"}),l.jsx("span",{className:"text-xs text-yellow-400 animate-pulse",children:"..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-green-400 animate-pulse"}),l.jsx("span",{className:"text-xs text-green-400 tabular-nums",children:ou(d)})]})]})}),!(W&&O)&&l.jsxs("div",{className:"relative z-10 flex flex-col items-center pt-12",children:[l.jsxs("div",{className:"relative",children:[(T||P)&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute -inset-3 rounded-full border-2 border-green-400/40 animate-ping",style:{animationDuration:"1.5s"}}),l.jsx("div",{className:"absolute -inset-6 rounded-full border border-green-400/20 animate-ping",style:{animationDuration:"2s",animationDelay:"0.3s"}})]}),l.jsx("div",{className:"relative flex h-24 w-24 items-center justify-center overflow-hidden rounded-full shadow-lg",children:l.jsx("img",{src:hr(n),alt:n,className:"h-full w-full object-cover"})})]}),l.jsx("p",{className:"mt-4 text-2xl font-semibold",children:n}),l.jsxs("p",{className:"mt-1 text-sm text-gray-300",children:[T&&" ...",P&&"...",O&&(c?l.jsx("span",{className:"text-yellow-400 animate-pulse",children:"..."}):ou(d))]}),T&&l.jsx("p",{className:"mt-1 text-xs text-gray-400",children:W?" ":" "})]}),W&&i&&!o&&l.jsx("div",{className:"absolute bottom-32 right-4 z-20 h-40 w-28 overflow-hidden rounded-2xl border-2 border-white/30 shadow-lg",children:l.jsx("video",{ref:N,autoPlay:!0,playsInline:!0,muted:!0,className:"h-full w-full object-cover"})}),l.jsxs("div",{className:"relative z-10 mt-auto flex items-center justify-center gap-6 pb-12",children:[T&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:p,className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500 text-3xl shadow-lg transition hover:bg-red-600 active:scale-95",title:"",children:l.jsx(fi,{})}),l.jsx("button",{onClick:f,className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-500 text-3xl shadow-lg transition hover:bg-green-600 active:scale-95",title:"",children:W?l.jsx(i4,{}):l.jsx(I1,{})})]}),(O||P)&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:C,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${a?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,title:a?" ":" ",children:a?l.jsx(Ba,{}):l.jsx(Ks,{})}),l.jsx("button",{onClick:x,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${o||!W?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,title:W?o?" ":" ":" ",children:o||!W?l.jsx(Ha,{}):l.jsx(za,{})}),O&&j===_.IDLE&&l.jsx("button",{onClick:E,className:"flex h-14 w-14 items-center justify-center rounded-full bg-blue-500/70 text-2xl shadow-lg transition hover:bg-blue-600 active:scale-95",title:"  ",children:l.jsx(Za,{})}),l.jsx("button",{onClick:h,className:"flex h-14 w-14 items-center justify-center rounded-full bg-white/20 text-2xl shadow-lg transition hover:bg-white/30 active:scale-95",title:" ",children:l.jsx(Id,{})}),l.jsx("button",{onClick:v,className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500 text-3xl shadow-lg transition hover:bg-red-600 active:scale-95",title:"",children:l.jsx(fi,{})})]})]})]})}function _3({onClose:e}){const{getInviteLink:t,inviteUser:n,participants:r}=yl(),{contacts:i=[],isPending:s}=Yd(),[a,o]=m.useState(""),[u,c]=m.useState(new Set),[d,f]=m.useState("contacts"),p=localStorage.getItem("username"),v=r.length+1,y=Dr-v,w=m.useMemo(()=>{const h=new Set(r);return h.add(p),i.filter(g=>{var j,_;if(h.has(g.username))return!1;if(!a)return!0;const b=a.toLowerCase();return((j=g.username)==null?void 0:j.toLowerCase().includes(b))||((_=g.fullname)==null?void 0:_.toLowerCase().includes(b))})},[i,r,p,a]),C=()=>{const h=t();h&&navigator.clipboard.writeText(h).then(()=>{Q.success(" !")})},x=h=>{if(y<=0){Q.error(` ${Dr} `);return}n(h),c(g=>new Set(g).add(h))};return l.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:l.jsxs("div",{className:"relative mx-4 flex max-h-[80vh] w-full max-w-md flex-col overflow-hidden rounded-2xl bg-gray-800 text-white shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 px-5 py-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"  "}),l.jsx("button",{onClick:e,className:"flex h-8 w-8 items-center justify-center rounded-full bg-white/10 text-lg transition hover:bg-white/20",children:l.jsx(Bi,{})})]}),l.jsxs("div",{className:"px-5 pt-3 text-sm text-gray-400",children:[": ",v," / ",Dr,y<=0&&l.jsx("span",{className:"ml-2 text-red-400",children:"  "})]}),l.jsxs("div",{className:"flex border-b border-white/10 px-5 pt-3",children:[l.jsxs("button",{onClick:()=>f("contacts"),className:`flex-1 pb-2 text-sm font-medium transition ${d==="contacts"?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-white"}`,children:[l.jsx(kc,{className:"mr-1 inline"}),""]}),l.jsxs("button",{onClick:()=>f("link"),className:`flex-1 pb-2 text-sm font-medium transition ${d==="link"?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-white"}`,children:[l.jsx(A1,{className:"mr-1 inline"}),""]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d==="contacts"&&l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:"sticky top-0 bg-gray-800 px-5 py-3",children:l.jsxs("div",{className:"relative",children:[l.jsx(Qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:" ...",value:a,onChange:h=>o(h.target.value),className:"w-full rounded-lg bg-white/10 py-2 pl-9 pr-3 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-400"})]})}),s?l.jsx("div",{className:"px-5 py-6 text-center text-sm text-gray-400",children:" ..."}):w.length===0?l.jsx("div",{className:"px-5 py-6 text-center text-sm text-gray-400",children:a?"  ":"    "}):l.jsx("div",{className:"flex flex-col px-2 pb-3",children:w.map(h=>{var b;const g=u.has(h.username);return l.jsxs("div",{className:"flex items-center gap-3 rounded-xl px-3 py-2.5 transition hover:bg-white/5",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-600 text-sm font-bold uppercase",children:h.avatar_url?l.jsx("img",{src:h.avatar_url,alt:"",className:"h-full w-full rounded-full object-cover"}):((b=h.username)==null?void 0:b[0])||"?"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"truncate text-sm font-medium",children:h.fullname}),l.jsxs("div",{className:"truncate text-xs text-gray-400",children:["@",h.username]})]}),h.online&&l.jsx("span",{className:"h-2 w-2 rounded-full bg-green-400",title:""}),l.jsx("button",{onClick:()=>x(h.username),disabled:g||y<=0,className:`flex items-center gap-1 rounded-lg px-3 py-1.5 text-xs font-medium transition active:scale-95 ${g?"bg-green-600/30 text-green-400 cursor-default":y<=0?"bg-gray-600/30 text-gray-500 cursor-not-allowed":"bg-blue-500/80 text-white hover:bg-blue-600"}`,children:g?l.jsxs(l.Fragment,{children:[l.jsx(d4,{})," "]}):l.jsxs(l.Fragment,{children:[l.jsx(kc,{})," "]})})]},h.username)})})]}),d==="link"&&l.jsxs("div",{className:"flex flex-col items-center gap-4 px-5 py-8",children:[l.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-blue-500/20",children:l.jsx(A1,{className:"text-3xl text-blue-400"})}),l.jsxs("p",{className:"text-center text-sm text-gray-300",children:[" ,   .",l.jsx("br",{}),l.jsx("span",{className:"text-xs text-gray-500",children:"      ."})]}),l.jsx("div",{className:"w-full rounded-lg bg-white/5 px-3 py-2.5 text-center text-xs text-gray-300 break-all select-all",children:t()||""}),l.jsxs("button",{onClick:C,className:"flex items-center gap-2 rounded-xl bg-blue-500 px-6 py-2.5 text-sm font-medium text-white transition hover:bg-blue-600 active:scale-95",children:[l.jsx(Yp,{})," "]})]})]})]})})}function K1({stream:e,muted:t=!1,label:n}){const r=m.useRef(null);return m.useEffect(()=>{r.current&&e&&(r.current.srcObject=e,r.current.play().catch(()=>{}))},[e]),l.jsxs("div",{className:"relative flex items-center justify-center overflow-hidden rounded-2xl bg-gray-800 shadow-lg",children:[e?l.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:t,className:"h-full w-full object-cover"}):l.jsx("div",{className:"flex h-full w-full items-center justify-center text-4xl font-bold uppercase text-gray-500",children:(n==null?void 0:n[0])||"?"}),n&&l.jsx("span",{className:"absolute bottom-2 left-2 rounded-md bg-black/50 px-2 py-0.5 text-xs text-white",children:n})]})}function P3(){const{confState:e,localStream:t,peerStreams:n,participants:r,isAudioMuted:i,isVideoOff:s,isMinimized:a,leaveConference:o,toggleAudio:u,toggleVideo:c,toggleMinimize:d,getInviteLink:f,inviteUser:p,CONF_STATE:v}=yl(),[y,w]=m.useState(!1),[C,x]=m.useState({x:16,y:80}),h=m.useRef(!1),g=m.useRef({x:0,y:0});m.useEffect(()=>{if(!a)return;const M=Y=>{if(!h.current)return;const V=Y.touches?Y.touches[0].clientX:Y.clientX,X=Y.touches?Y.touches[0].clientY:Y.clientY;x({x:V-g.current.x,y:X-g.current.y})},I=()=>{h.current=!1};return window.addEventListener("mousemove",M),window.addEventListener("mouseup",I),window.addEventListener("touchmove",M,{passive:!1}),window.addEventListener("touchend",I),()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",I),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",I)}},[a]);const b=M=>{h.current=!0;const I=M.touches?M.touches[0].clientX:M.clientX,Y=M.touches?M.touches[0].clientY:M.clientY;g.current={x:I-C.x,y:Y-C.y}};if(e===v.IDLE)return null;const j=Object.entries(n),_=1+j.length,E=localStorage.getItem("username");if(a)return l.jsxs("div",{onMouseDown:b,onTouchStart:b,style:{left:C.x,top:C.y},className:"fixed z-[9999] flex select-none items-center gap-2 rounded-2xl bg-gray-900/95 p-2 shadow-2xl backdrop-blur-sm",children:[l.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-xl bg-gray-800",children:t?l.jsx(I3,{stream:t,muted:!0}):l.jsx("div",{className:"flex h-full w-full items-center justify-center text-lg font-bold text-gray-500",children:(E==null?void 0:E[0])||"?"})}),l.jsxs("div",{className:"flex flex-col text-white",children:[l.jsx("span",{className:"text-xs font-semibold",children:""}),l.jsxs("span",{className:"text-xs text-green-400",children:[r.length+1," ."]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:u,className:`flex h-8 w-8 items-center justify-center rounded-full text-sm text-white transition active:scale-90 ${i?"bg-red-500":"bg-white/20"}`,children:i?l.jsx(Ba,{}):l.jsx(Ks,{})}),l.jsx("button",{onClick:c,className:`flex h-8 w-8 items-center justify-center rounded-full text-sm text-white transition active:scale-90 ${s?"bg-red-500":"bg-white/20"}`,children:s?l.jsx(Ha,{}):l.jsx(za,{})}),l.jsx("button",{onClick:d,className:"flex h-8 w-8 items-center justify-center rounded-full bg-white/20 text-sm text-white transition active:scale-90",title:"",children:l.jsx(Xp,{})}),l.jsx("button",{onClick:o,className:"flex h-8 w-8 items-center justify-center rounded-full bg-red-500 text-sm text-white transition active:scale-90",title:"",children:l.jsx(fi,{})})]})]});let N="grid-cols-1";return _===2||_>=3&&_<=4?N="grid-cols-2":_>=5&&(N="grid-cols-3"),l.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col bg-gray-900 text-white",children:[y&&l.jsx(_3,{onClose:()=>w(!1)}),l.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[l.jsxs("h2",{className:"text-lg font-semibold",children:["  ",r.length+1,"/",Dr]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-1.5 rounded-lg bg-blue-500/70 px-3 py-1.5 text-sm font-medium transition hover:bg-blue-600 active:scale-95",title:" ",children:[l.jsx(kc,{className:"text-base"}),""]}),e===v.JOINING&&l.jsx("span",{className:"animate-pulse text-sm text-gray-400",children:"..."})]})]}),l.jsxs("div",{className:`grid flex-1 gap-2 p-2 ${N}`,style:{gridAutoRows:"1fr"},children:[l.jsx(K1,{stream:t,muted:!0,label:`${E} ()`}),j.map(([M,I])=>l.jsx(K1,{stream:I,label:M},M))]}),l.jsxs("div",{className:"flex items-center justify-center gap-6 pb-8 pt-4",children:[l.jsx("button",{onClick:u,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${i?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,title:i?" ":" ",children:i?l.jsx(Ba,{}):l.jsx(Ks,{})}),l.jsx("button",{onClick:c,className:`flex h-14 w-14 items-center justify-center rounded-full text-2xl shadow-lg transition active:scale-95 ${s?"bg-red-500/80 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,title:s?" ":" ",children:s?l.jsx(Ha,{}):l.jsx(za,{})}),l.jsx("button",{onClick:d,className:"flex h-14 w-14 items-center justify-center rounded-full bg-white/20 text-2xl shadow-lg transition hover:bg-white/30 active:scale-95",title:" ",children:l.jsx(Id,{})}),l.jsx("button",{onClick:o,className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500 text-3xl shadow-lg transition hover:bg-red-600 active:scale-95",title:" ",children:l.jsx(fi,{})})]})]})}function I3({stream:e,muted:t}){const n=m.useRef(null);return m.useEffect(()=>{n.current&&e&&(n.current.srcObject=e,n.current.play().catch(()=>{}))},[e]),l.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:t,className:"h-full w-full object-cover"})}function R3(e){return re({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"}}]})(e)}function A3(e){return re({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}const T3=()=>l.jsx(vr,{children:l.jsxs("div",{className:"flex max-w-lg flex-col items-center",children:[l.jsx(A3,{className:"mb-4 text-4xl text-RedColor sm:text-5xl"}),l.jsx(Xd,{children:"Oops! We can't seem to find that page."}),l.jsx("p",{className:"mb-4 text-center opacity-60",children:"The page you're looking for might have been removed, or the URL might be incorrect."}),l.jsxs(Ws,{to:"/",className:"inline-flex items-center gap-1 rounded-md bg-bgAccent px-4 py-2 font-bold text-textPrimary-dark dark:bg-bgAccent-dark",children:["Back to Home",l.jsx(R3,{})]})]})});function O3({children:e}){const t=qi();return m.useEffect(()=>{/^\/m\/[^/]+$/.test(t.pathname)||(document.title=zi)},[t]),e}const M3=()=>l.jsx(vr,{children:l.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8 leading-relaxed",children:[l.jsx("h1",{className:"sr-only",children:" BarsikChat"}),l.jsxs("div",{className:"pointer-events-none mb-6 flex select-none flex-col items-center",children:[l.jsx("span",{className:"text-8xl",children:""}),l.jsx("span",{className:"mt-2 text-3xl font-bold text-textAccent dark:text-textAccent-dark",children:"BarsikChat"})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:" "}),l.jsx("p",{children:"BarsikChat          .    React.js  Spring Boot,      . BarsikChat     ,  ,        ."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:""}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[l.jsx("li",{children:"      WebSocket"}),l.jsx("li",{children:"   JWT-"}),l.jsx("li",{children:"   "}),l.jsx("li",{children:"   "}),l.jsx("li",{children:"    "}),l.jsx("li",{children:"      "}),l.jsx("li",{children:"Push-"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:""}),l.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:["React.js","Spring Boot","PostgreSQL","WebSocket","Tailwind CSS","Docker"].map(e=>l.jsx("div",{className:"rounded-lg border border-bgSecondary bg-white/50 p-3 text-center dark:border-bgSecondary-dark dark:bg-black/20",children:l.jsx("span",{className:"font-semibold",children:e})},e))})]}),l.jsx("footer",{className:"mt-6 text-center text-sm opacity-70",children:l.jsxs("p",{children:[" ",new Date().getFullYear()," BarsikChat"]})})]})}),F3=()=>l.jsx(vr,{children:l.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8 leading-relaxed",children:[l.jsx("h1",{className:"mb-8 text-3xl font-bold",children:" "}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"1. "}),l.jsx("p",{children:"BarsikChat (,   )    .   ,   ,        ."})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"2.  "}),l.jsx("p",{className:"mb-3",children:"   :"}),l.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[l.jsxs("li",{children:[l.jsx("strong",{children:" :"}),"  ,   "]}),l.jsxs("li",{children:[l.jsx("strong",{children:" :"}),"  ,     "]}),l.jsxs("li",{children:[l.jsx("strong",{children:" :"}),"     "]}),l.jsxs("li",{children:[l.jsx("strong",{children:" :"})," IP-,    "]})]})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"3.  "}),l.jsx("p",{className:"mb-3",children:"    :"}),l.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[l.jsx("li",{children:"    BarsikChat"}),l.jsx("li",{children:"     "}),l.jsx("li",{children:"   "}),l.jsx("li",{children:"    "}),l.jsx("li",{children:"  "})]})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"4.  "}),l.jsx("p",{children:"       PostgreSQL     ,       ."})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"5.  "}),l.jsx("p",{children:"  ,            .        ,     ."})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"6.  "}),l.jsx("p",{className:"mb-3",children:"  :"}),l.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[l.jsx("li",{children:"     "}),l.jsx("li",{children:"   "}),l.jsx("li",{children:"     "}),l.jsx("li",{children:"    "})]})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"7. "}),l.jsx("p",{children:"   , JWT-    .            100% .     ."})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"8.  "}),l.jsx("p",{children:"     .         .   BarsikChat    ."})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"9. "}),l.jsx("p",{children:"          ."})]}),l.jsx("footer",{className:"mt-12 border-t border-bgSecondary pt-6 dark:border-bgSecondary-dark",children:l.jsx("p",{className:"text-sm opacity-70",children:" : 23  2026"})})]})}),V3=()=>l.jsx(vr,{children:l.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8 leading-relaxed",children:[l.jsx("h1",{className:"mb-8 text-3xl font-bold",children:" "}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"1.  "}),l.jsx("p",{children:" BarsikChat,       .      , ,    ."})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"2. "}),l.jsx("p",{className:"mb-3",children:"  BarsikChat    .     :"}),l.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[l.jsx("li",{children:"      "}),l.jsx("li",{children:"   -  "}),l.jsx("li",{children:"    "}),l.jsx("li",{children:"      "})]})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"3.   "}),l.jsx("p",{children:" BarsikChat   . BarsikChat    ,   ,        ."})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"4.  "}),l.jsx("p",{children:"BarsikChat      ,        ."})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"5.  "}),l.jsx("p",{children:" BarsikChat      . BarsikChat         ."})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"6. "}),l.jsx("p",{children:"BarsikChat       ,       .        ."})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"7.  "}),l.jsx("p",{children:"BarsikChat       .   ,      ."})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"8.  "}),l.jsx("p",{className:"mb-3",children:"  :"}),l.jsxs("ul",{className:"list-disc space-y-2 pl-6",children:[l.jsx("li",{children:",     "}),l.jsx("li",{children:"   "}),l.jsx("li",{children:"     "}),l.jsx("li",{children:"     "}),l.jsx("li",{children:"      "})]})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"mb-3 text-xl font-semibold",children:"9.  "}),l.jsx("p",{children:"                 ."})]}),l.jsx("footer",{className:"mt-12 border-t border-bgSecondary pt-6 dark:border-bgSecondary-dark",children:l.jsx("p",{className:"text-sm opacity-70",children:" : 23  2026"})})]})}),D3={}.VITE_API_URL||"";function U3(){const{confId:e}=hl(),t=Zt(),{joinConferenceById:n,confState:r,CONF_STATE:i}=yl(),[s,a]=m.useState(null),[o,u]=m.useState(null),[c,d]=m.useState(!0),f=m.useRef(!1),v=!!localStorage.getItem("token");return m.useEffect(()=>{e&&fetch(`${D3}/api/conference/${e}/info`).then(y=>{if(!y.ok)throw new Error("not_found");return y.json()}).then(y=>{u(y),d(!1)}).catch(()=>{d(!1),a("     ")})},[e]),m.useEffect(()=>{!e||f.current||!v||c||s||(f.current=!0,n(e).then(y=>{y?t(`/chat/room/${y}`,{replace:!0}):t("/chat",{replace:!0})}).catch(y=>{a(y.message||"    ")}))},[e,v,c,s,n,t]),v?s?l.jsx("div",{className:"flex h-screen items-center justify-center bg-bgPrimary dark:bg-bgPrimary-dark",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-xl font-semibold text-red-500",children:[" ",s]}),l.jsx("p",{className:"mt-2 text-sm text-textPrimary/60 dark:text-textPrimary-dark/60",children:"     "}),l.jsx("button",{onClick:()=>t("/chat",{replace:!0}),className:"mt-4 rounded-xl bg-bgAccent px-6 py-2.5 font-medium text-white transition hover:bg-bgAccentDim active:scale-95 dark:bg-bgAccent-dark dark:hover:bg-bgAccentDim-dark",children:"  "})]})}):l.jsx("div",{className:"flex h-screen items-center justify-center bg-bgPrimary dark:bg-bgPrimary-dark",children:l.jsx(ze,{size:"large",text:"  ..."})}):(sessionStorage.setItem("pendingConference",e),c?l.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-900",children:l.jsx(ze,{size:"large",text:"..."})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900 p-4",children:l.jsx("div",{className:"w-full max-w-sm rounded-2xl bg-gray-800 p-6 text-center text-white shadow-2xl",children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4 text-5xl",children:""}),l.jsx("h2",{className:"text-xl font-bold",children:s}),l.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"     ."})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4 text-5xl",children:""}),l.jsx("h2",{className:"text-xl font-bold",children:"  "}),o&&l.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:[": ",o.count," / ",o.maxParticipants]}),l.jsx("p",{className:"mt-3 text-sm text-gray-300",children:"     "}),l.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[l.jsx(Ws,{to:"/signin",className:"block rounded-xl bg-blue-500 px-6 py-2.5 font-medium text-white transition hover:bg-blue-600 active:scale-95",children:""}),l.jsx(Ws,{to:"/signup",className:"block rounded-xl bg-white/10 px-6 py-2.5 font-medium text-white transition hover:bg-white/20 active:scale-95",children:""})]})]})})}))}const $3=new Hy({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function z3(){return l.jsx(ky,{children:l.jsx(Gy,{client:$3,children:l.jsx(m3,{children:l.jsxs(g3,{children:[l.jsx(Jv,{position:"top-center",toastOptions:{error:{duration:5e3},style:{maxWidth:"500px"}}}),l.jsx(L3,{}),l.jsx(P3,{}),l.jsx(cy,{children:l.jsx(O3,{children:l.jsxs(ry,{children:[l.jsx(Vt,{path:"/",element:l.jsx(ey,{to:"/chat",replace:!0})}),l.jsxs(Vt,{path:"/chat",element:l.jsx(W5,{children:l.jsx(Q5,{})}),children:[l.jsx(Vt,{path:"/chat/room/:roomId",element:l.jsx(Z1,{})}),l.jsx(Vt,{path:"/chat/:userId",element:l.jsx(Z1,{})})]}),l.jsx(Vt,{path:"signup",element:l.jsx(G5,{})}),l.jsx(Vt,{path:"signin",element:l.jsx(q5,{})}),l.jsx(Vt,{path:"conference/:confId",element:l.jsx(U3,{})}),l.jsx(Vt,{path:"about",element:l.jsx(M3,{})}),l.jsx(Vt,{path:"privacy",element:l.jsx(F3,{})}),l.jsx(Vt,{path:"terms",element:l.jsx(V3,{})}),l.jsx(Vt,{path:"*",element:l.jsx(T3,{})})]})})})]})})})})}uu.createRoot(document.getElementById("root")).render(l.jsx(xe.StrictMode,{children:l.jsx(z3,{})}));
